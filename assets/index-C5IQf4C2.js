function Z1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function J_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z_={exports:{}},du={},e0={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),eA=Symbol.for("react.portal"),tA=Symbol.for("react.fragment"),nA=Symbol.for("react.strict_mode"),rA=Symbol.for("react.profiler"),iA=Symbol.for("react.provider"),oA=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),aA=Symbol.for("react.suspense"),lA=Symbol.for("react.memo"),cA=Symbol.for("react.lazy"),qg=Symbol.iterator;function uA(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,r0={};function Ko(t,e,n){this.props=t,this.context=e,this.refs=r0,this.updater=n||t0}Ko.prototype.isReactComponent={};Ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i0(){}i0.prototype=Ko.prototype;function Wh(t,e,n){this.props=t,this.context=e,this.refs=r0,this.updater=n||t0}var qh=Wh.prototype=new i0;qh.constructor=Wh;n0(qh,Ko.prototype);qh.isPureReactComponent=!0;var Kg=Array.isArray,o0=Object.prototype.hasOwnProperty,Kh={current:null},s0={key:!0,ref:!0,__self:!0,__source:!0};function a0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)o0.call(e,r)&&!s0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xa,type:t,key:o,ref:s,props:i,_owner:Kh.current}}function dA(t,e){return{$$typeof:xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gh(t){return typeof t=="object"&&t!==null&&t.$$typeof===xa}function fA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gg=/\/+/g;function Td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fA(""+t.key):e.toString(36)}function Wl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xa:case eA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Td(s,0):r,Kg(i)?(n="",t!=null&&(n=t.replace(Gg,"$&/")+"/"),Wl(i,e,n,"",function(u){return u})):i!=null&&(Gh(i)&&(i=dA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Kg(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+Td(o,a);s+=Wl(o,e,n,c,i)}else if(c=uA(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+Td(o,a++),s+=Wl(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function pl(t,e,n){if(t==null)return t;var r=[],i=0;return Wl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function hA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},ql={transition:null},pA={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:ql,ReactCurrentOwner:Kh};ce.Children={map:pl,forEach:function(t,e,n){pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pl(t,function(){e++}),e},toArray:function(t){return pl(t,function(e){return e})||[]},only:function(t){if(!Gh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ko;ce.Fragment=tA;ce.Profiler=rA;ce.PureComponent=Wh;ce.StrictMode=nA;ce.Suspense=aA;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pA;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Kh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)o0.call(e,c)&&!s0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xa,type:t.type,key:i,ref:o,props:r,_owner:s}};ce.createContext=function(t){return t={$$typeof:oA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iA,_context:t},t.Consumer=t};ce.createElement=a0;ce.createFactory=function(t){var e=a0.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:sA,render:t}};ce.isValidElement=Gh;ce.lazy=function(t){return{$$typeof:cA,_payload:{_status:-1,_result:t},_init:hA}};ce.memo=function(t,e){return{$$typeof:lA,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=ql.transition;ql.transition={};try{t()}finally{ql.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return Rt.current.useCallback(t,e)};ce.useContext=function(t){return Rt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Rt.current.useEffect(t,e)};ce.useId=function(){return Rt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Rt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};ce.useRef=function(t){return Rt.current.useRef(t)};ce.useState=function(t){return Rt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Rt.current.useTransition()};ce.version="18.2.0";e0.exports=ce;var g=e0.exports;const kt=J_(g),mA=Z1({__proto__:null,default:kt},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=g,vA=Symbol.for("react.element"),yA=Symbol.for("react.fragment"),_A=Object.prototype.hasOwnProperty,wA=gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EA={key:!0,ref:!0,__self:!0,__source:!0};function l0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)_A.call(e,r)&&!EA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vA,type:t,key:o,ref:s,props:i,_owner:wA.current}}du.Fragment=yA;du.jsx=l0;du.jsxs=l0;Z_.exports=du;var L=Z_.exports,vf={},c0={exports:{}},Qt={},u0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,B){var Z=j.length;j.push(B);e:for(;0<Z;){var oe=Z-1>>>1,ae=j[oe];if(0<i(ae,B))j[oe]=B,j[Z]=ae,Z=oe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],Z=j.pop();if(Z!==B){j[0]=Z;e:for(var oe=0,ae=j.length,_e=ae>>>1;oe<_e;){var Xe=2*(oe+1)-1,qe=j[Xe],Me=Xe+1,K=j[Me];if(0>i(qe,Z))Me<ae&&0>i(K,qe)?(j[oe]=K,j[Me]=Z,oe=Me):(j[oe]=qe,j[Xe]=Z,oe=Xe);else if(Me<ae&&0>i(K,Z))j[oe]=K,j[Me]=Z,oe=Me;else break e}}return B}function i(j,B){var Z=j.sortIndex-B.sortIndex;return Z!==0?Z:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,p=null,m=3,_=!1,A=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=j)r(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(u)}}function N(j){if(T=!1,I(j),!A)if(n(c)!==null)A=!0,se(O);else{var B=n(u);B!==null&&J(N,B.startTime-j)}}function O(j,B){A=!1,T&&(T=!1,w(y),y=-1),_=!0;var Z=m;try{for(I(B),p=n(c);p!==null&&(!(p.expirationTime>B)||j&&!b());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,m=p.priorityLevel;var ae=oe(p.expirationTime<=B);B=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(c)&&r(c),I(B)}else r(c);p=n(c)}if(p!==null)var _e=!0;else{var Xe=n(u);Xe!==null&&J(N,Xe.startTime-B),_e=!1}return _e}finally{p=null,m=Z,_=!1}}var $=!1,S=null,y=-1,C=5,k=-1;function b(){return!(t.unstable_now()-k<C)}function P(){if(S!==null){var j=t.unstable_now();k=j;var B=!0;try{B=S(!0,j)}finally{B?R():($=!1,S=null)}}else $=!1}var R;if(typeof v=="function")R=function(){v(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=P,R=function(){X.postMessage(null)}}else R=function(){x(P,0)};function se(j){S=j,$||($=!0,R())}function J(j,B){y=x(function(){j(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){A||_||(A=!0,se(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Z=m;m=B;try{return j()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Z=m;m=j;try{return B()}finally{m=Z}},t.unstable_scheduleCallback=function(j,B,Z){var oe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Z+ae,j={id:f++,callback:B,priorityLevel:j,startTime:Z,expirationTime:ae,sortIndex:-1},Z>oe?(j.sortIndex=Z,e(u,j),n(c)===null&&j===n(u)&&(T?(w(y),y=-1):T=!0,J(N,Z-oe))):(j.sortIndex=ae,e(c,j),A||_||(A=!0,se(O))),j},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(j){var B=m;return function(){var Z=m;m=B;try{return j.apply(this,arguments)}finally{m=Z}}}})(d0);u0.exports=d0;var TA=u0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=g,Gt=TA;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,ra={};function $i(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(ra[t]=e,t=0;t<e.length;t++)h0.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,IA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Yg={};function SA(t){return yf.call(Yg,t)?!0:yf.call(Qg,t)?!1:IA.test(t)?Yg[t]=!0:(Qg[t]=!0,!1)}function AA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CA(t,e,n,r){if(e===null||typeof e>"u"||AA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qh=/[\-:]([a-z])/g;function Yh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qh,Yh);ut[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qh,Yh);ut[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qh,Yh);ut[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xh(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CA(e,n,i,r)&&(n=null),r||i===null?SA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),p0=Symbol.for("react.provider"),m0=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),g0=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function Es(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Id;function Ns(t){if(Id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Id=e&&e[1]||""}return`
`+Id+t}var Sd=!1;function Ad(t,e){if(!t||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ns(t):""}function RA(t){switch(t.tag){case 5:return Ns(t.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 2:case 15:return t=Ad(t.type,!1),t;case 11:return t=Ad(t.type.render,!1),t;case 1:return t=Ad(t.type,!0),t;default:return""}}function Tf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case _f:return"Profiler";case Jh:return"StrictMode";case wf:return"Suspense";case Ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m0:return(t.displayName||"Context")+".Consumer";case p0:return(t._context.displayName||"Context")+".Provider";case Zh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ep:return e=t.displayName||null,e!==null?e:Tf(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Tf(t(e))}catch{}}return null}function PA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(e);case 8:return e===Jh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kA(t){var e=v0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gl(t){t._valueTracker||(t._valueTracker=kA(t))}function y0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function If(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _0(t,e){e=e.checked,e!=null&&Xh(t,"checked",e,!1)}function Sf(t,e){_0(t,e);var n=Br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,Br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ds=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ev(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ds(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Br(n)}}function w0(t,e){var n=Br(e.value),r=Br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vl,T0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vl=vl||document.createElement("div"),vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xA=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){xA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function I0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function S0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=I0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bA=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(t,e){if(e){if(bA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=null;function tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bf=null,vo=null,yo=null;function nv(t){if(t=Da(t)){if(typeof bf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=gu(e),bf(t.stateNode,t.type,e))}}function A0(t){vo?yo?yo.push(t):yo=[t]:vo=t}function C0(){if(vo){var t=vo,e=yo;if(yo=vo=null,nv(t),e)for(t=0;t<e.length;t++)nv(e[t])}}function R0(t,e){return t(e)}function P0(){}var Cd=!1;function k0(t,e,n){if(Cd)return t(e,n);Cd=!0;try{return R0(t,e,n)}finally{Cd=!1,(vo!==null||yo!==null)&&(P0(),C0())}}function oa(t,e){var n=t.stateNode;if(n===null)return null;var r=gu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Nf=!1;if(Xn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Nf=!1}function NA(t,e,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var zs=!1,Ec=null,Tc=!1,Df=null,DA={onError:function(t){zs=!0,Ec=t}};function OA(t,e,n,r,i,o,s,a,c){zs=!1,Ec=null,NA.apply(DA,arguments)}function $A(t,e,n,r,i,o,s,a,c){if(OA.apply(this,arguments),zs){if(zs){var u=Ec;zs=!1,Ec=null}else throw Error(U(198));Tc||(Tc=!0,Df=u)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rv(t){if(Mi(t)!==t)throw Error(U(188))}function MA(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rv(i),t;if(o===r)return rv(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function b0(t){return t=MA(t),t!==null?N0(t):null}function N0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=N0(t);if(e!==null)return e;t=t.sibling}return null}var D0=Gt.unstable_scheduleCallback,iv=Gt.unstable_cancelCallback,LA=Gt.unstable_shouldYield,VA=Gt.unstable_requestPaint,je=Gt.unstable_now,FA=Gt.unstable_getCurrentPriorityLevel,np=Gt.unstable_ImmediatePriority,O0=Gt.unstable_UserBlockingPriority,Ic=Gt.unstable_NormalPriority,UA=Gt.unstable_LowPriority,$0=Gt.unstable_IdlePriority,fu=null,An=null;function jA(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(fu,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:HA,zA=Math.log,BA=Math.LN2;function HA(t){return t>>>=0,t===0?32:31-(zA(t)/BA|0)|0}var yl=64,_l=4194304;function Os(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Os(a):(o&=s,o!==0&&(r=Os(o)))}else s=n&~i,s!==0?r=Os(s):o!==0&&(r=Os(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),i=1<<n,r|=t[n],e&=~i;return r}function WA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-un(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=WA(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function Of(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M0(){var t=yl;return yl<<=1,!(yl&4194240)&&(yl=64),t}function Rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function KA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-un(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function L0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V0,ip,F0,U0,j0,$f=!1,wl=[],br=null,Nr=null,Dr=null,sa=new Map,aa=new Map,Tr=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(t,e){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(e.pointerId)}}function Is(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Da(e),e!==null&&ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QA(t,e,n,r,i){switch(e){case"focusin":return br=Is(br,t,e,n,r,i),!0;case"dragenter":return Nr=Is(Nr,t,e,n,r,i),!0;case"mouseover":return Dr=Is(Dr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return sa.set(o,Is(sa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,aa.set(o,Is(aa.get(o)||null,t,e,n,r,i)),!0}return!1}function z0(t){var e=ci(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=x0(n),e!==null){t.blockedOn=e,j0(t.priority,function(){F0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xf=r,n.target.dispatchEvent(r),xf=null}else return e=Da(n),e!==null&&ip(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){Kl(t)&&n.delete(e)}function YA(){$f=!1,br!==null&&Kl(br)&&(br=null),Nr!==null&&Kl(Nr)&&(Nr=null),Dr!==null&&Kl(Dr)&&(Dr=null),sa.forEach(sv),aa.forEach(sv)}function Ss(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,YA)))}function la(t){function e(i){return Ss(i,t)}if(0<wl.length){Ss(wl[0],t);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(br!==null&&Ss(br,t),Nr!==null&&Ss(Nr,t),Dr!==null&&Ss(Dr,t),sa.forEach(e),aa.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)z0(n),n.blockedOn===null&&Tr.shift()}var _o=ar.ReactCurrentBatchConfig,Ac=!0;function XA(t,e,n,r){var i=ye,o=_o.transition;_o.transition=null;try{ye=1,op(t,e,n,r)}finally{ye=i,_o.transition=o}}function JA(t,e,n,r){var i=ye,o=_o.transition;_o.transition=null;try{ye=4,op(t,e,n,r)}finally{ye=i,_o.transition=o}}function op(t,e,n,r){if(Ac){var i=Mf(t,e,n,r);if(i===null)Ld(t,e,r,Cc,n),ov(t,r);else if(QA(i,t,e,n,r))r.stopPropagation();else if(ov(t,r),e&4&&-1<GA.indexOf(t)){for(;i!==null;){var o=Da(i);if(o!==null&&V0(o),o=Mf(t,e,n,r),o===null&&Ld(t,e,r,Cc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ld(t,e,r,null,n)}}var Cc=null;function Mf(t,e,n,r){if(Cc=null,t=tp(r),t=ci(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function B0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FA()){case np:return 1;case O0:return 4;case Ic:case UA:return 16;case $0:return 536870912;default:return 16}default:return 16}}var Pr=null,sp=null,Gl=null;function H0(){if(Gl)return Gl;var t,e=sp,n=e.length,r,i="value"in Pr?Pr.value:Pr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Gl=i.slice(t,1<r?1-r:void 0)}function Ql(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function av(){return!1}function Yt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?El:av,this.isPropagationStopped=av,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Yt(Go),Na=De({},Go,{view:0,detail:0}),ZA=Yt(Na),Pd,kd,As,hu=De({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==As&&(As&&t.type==="mousemove"?(Pd=t.screenX-As.screenX,kd=t.screenY-As.screenY):kd=Pd=0,As=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:kd}}),lv=Yt(hu),eC=De({},hu,{dataTransfer:0}),tC=Yt(eC),nC=De({},Na,{relatedTarget:0}),xd=Yt(nC),rC=De({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=Yt(rC),oC=De({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sC=Yt(oC),aC=De({},Go,{data:0}),cv=Yt(aC),lC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uC[t])?!!e[t]:!1}function lp(){return dC}var fC=De({},Na,{key:function(t){if(t.key){var e=lC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ql(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?Ql(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ql(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hC=Yt(fC),pC=De({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=Yt(pC),mC=De({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),gC=Yt(mC),vC=De({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),yC=Yt(vC),_C=De({},hu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wC=Yt(_C),EC=[9,13,27,32],cp=Xn&&"CompositionEvent"in window,Bs=null;Xn&&"documentMode"in document&&(Bs=document.documentMode);var TC=Xn&&"TextEvent"in window&&!Bs,W0=Xn&&(!cp||Bs&&8<Bs&&11>=Bs),dv=" ",fv=!1;function q0(t,e){switch(t){case"keyup":return EC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function IC(t,e){switch(t){case"compositionend":return K0(e);case"keypress":return e.which!==32?null:(fv=!0,dv);case"textInput":return t=e.data,t===dv&&fv?null:t;default:return null}}function SC(t,e){if(io)return t==="compositionend"||!cp&&q0(t,e)?(t=H0(),Gl=sp=Pr=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W0&&e.locale!=="ko"?null:e.data;default:return null}}var AC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AC[t.type]:e==="textarea"}function G0(t,e,n,r){A0(r),e=Rc(e,"onChange"),0<e.length&&(n=new ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hs=null,ca=null;function CC(t){ow(t,0)}function pu(t){var e=ao(t);if(y0(e))return t}function RC(t,e){if(t==="change")return e}var Q0=!1;if(Xn){var bd;if(Xn){var Nd="oninput"in document;if(!Nd){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Nd=typeof pv.oninput=="function"}bd=Nd}else bd=!1;Q0=bd&&(!document.documentMode||9<document.documentMode)}function mv(){Hs&&(Hs.detachEvent("onpropertychange",Y0),ca=Hs=null)}function Y0(t){if(t.propertyName==="value"&&pu(ca)){var e=[];G0(e,ca,t,tp(t)),k0(CC,e)}}function PC(t,e,n){t==="focusin"?(mv(),Hs=e,ca=n,Hs.attachEvent("onpropertychange",Y0)):t==="focusout"&&mv()}function kC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(ca)}function xC(t,e){if(t==="click")return pu(e)}function bC(t,e){if(t==="input"||t==="change")return pu(e)}function NC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:NC;function ua(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yf.call(e,i)||!fn(t[i],e[i]))return!1}return!0}function gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vv(t,e){var n=gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gv(n)}}function X0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J0(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wc(t.document)}return e}function up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DC(t){var e=J0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X0(n.ownerDocument.documentElement,n)){if(r!==null&&up(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=vv(n,o);var s=vv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OC=Xn&&"documentMode"in document&&11>=document.documentMode,oo=null,Lf=null,Ws=null,Vf=!1;function yv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||oo==null||oo!==wc(r)||(r=oo,"selectionStart"in r&&up(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&ua(Ws,r)||(Ws=r,r=Rc(Lf,"onSelect"),0<r.length&&(e=new ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function Tl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},Dd={},Z0={};Xn&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function mu(t){if(Dd[t])return Dd[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z0)return Dd[t]=e[n];return t}var ew=mu("animationend"),tw=mu("animationiteration"),nw=mu("animationstart"),rw=mu("transitionend"),iw=new Map,_v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){iw.set(t,e),$i(e,[t])}for(var Od=0;Od<_v.length;Od++){var $d=_v[Od],$C=$d.toLowerCase(),MC=$d[0].toUpperCase()+$d.slice(1);Yr($C,"on"+MC)}Yr(ew,"onAnimationEnd");Yr(tw,"onAnimationIteration");Yr(nw,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(rw,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$A(r,e,void 0,t),t.currentTarget=null}function ow(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;wv(i,a,u),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;wv(i,a,u),o=c}}}if(Tc)throw t=Df,Tc=!1,Df=null,t}function Ce(t,e){var n=e[Bf];n===void 0&&(n=e[Bf]=new Set);var r=t+"__bubble";n.has(r)||(sw(e,t,2,!1),n.add(r))}function Md(t,e,n){var r=0;e&&(r|=4),sw(n,t,r,e)}var Il="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[Il]){t[Il]=!0,h0.forEach(function(n){n!=="selectionchange"&&(LC.has(n)||Md(n,!1,t),Md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Il]||(e[Il]=!0,Md("selectionchange",!1,e))}}function sw(t,e,n,r){switch(B0(e)){case 1:var i=XA;break;case 4:i=JA;break;default:i=op}n=i.bind(null,e,n,t),i=void 0,!Nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ld(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ci(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}k0(function(){var u=o,f=tp(n),p=[];e:{var m=iw.get(t);if(m!==void 0){var _=ap,A=t;switch(t){case"keypress":if(Ql(n)===0)break e;case"keydown":case"keyup":_=hC;break;case"focusin":A="focus",_=xd;break;case"focusout":A="blur",_=xd;break;case"beforeblur":case"afterblur":_=xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=tC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=gC;break;case ew:case tw:case nw:_=iC;break;case rw:_=yC;break;case"scroll":_=ZA;break;case"wheel":_=wC;break;case"copy":case"cut":case"paste":_=sC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=uv}var T=(e&4)!==0,x=!T&&t==="scroll",w=T?m!==null?m+"Capture":null:m;T=[];for(var v=u,I;v!==null;){I=v;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,w!==null&&(N=oa(v,w),N!=null&&T.push(fa(v,N,I)))),x)break;v=v.return}0<T.length&&(m=new _(m,A,null,n,f),p.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==xf&&(A=n.relatedTarget||n.fromElement)&&(ci(A)||A[Jn]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(A=n.relatedTarget||n.toElement,_=u,A=A?ci(A):null,A!==null&&(x=Mi(A),A!==x||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=u),_!==A)){if(T=lv,N="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(T=uv,N="onPointerLeave",w="onPointerEnter",v="pointer"),x=_==null?m:ao(_),I=A==null?m:ao(A),m=new T(N,v+"leave",_,n,f),m.target=x,m.relatedTarget=I,N=null,ci(f)===u&&(T=new T(w,v+"enter",A,n,f),T.target=I,T.relatedTarget=x,N=T),x=N,_&&A)t:{for(T=_,w=A,v=0,I=T;I;I=Qi(I))v++;for(I=0,N=w;N;N=Qi(N))I++;for(;0<v-I;)T=Qi(T),v--;for(;0<I-v;)w=Qi(w),I--;for(;v--;){if(T===w||w!==null&&T===w.alternate)break t;T=Qi(T),w=Qi(w)}T=null}else T=null;_!==null&&Ev(p,m,_,T,!1),A!==null&&x!==null&&Ev(p,x,A,T,!0)}}e:{if(m=u?ao(u):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var O=RC;else if(hv(m))if(Q0)O=bC;else{O=kC;var $=PC}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=xC);if(O&&(O=O(t,u))){G0(p,O,n,f);break e}$&&$(t,m,u),t==="focusout"&&($=m._wrapperState)&&$.controlled&&m.type==="number"&&Af(m,"number",m.value)}switch($=u?ao(u):window,t){case"focusin":(hv($)||$.contentEditable==="true")&&(oo=$,Lf=u,Ws=null);break;case"focusout":Ws=Lf=oo=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,yv(p,n,f);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":yv(p,n,f)}var S;if(cp)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else io?q0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(W0&&n.locale!=="ko"&&(io||y!=="onCompositionStart"?y==="onCompositionEnd"&&io&&(S=H0()):(Pr=f,sp="value"in Pr?Pr.value:Pr.textContent,io=!0)),$=Rc(u,y),0<$.length&&(y=new cv(y,t,null,n,f),p.push({event:y,listeners:$}),S?y.data=S:(S=K0(n),S!==null&&(y.data=S)))),(S=TC?IC(t,n):SC(t,n))&&(u=Rc(u,"onBeforeInput"),0<u.length&&(f=new cv("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=S))}ow(p,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=oa(t,n),o!=null&&r.unshift(fa(t,o,i)),o=oa(t,e),o!=null&&r.push(fa(t,o,i))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ev(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=oa(n,o),c!=null&&s.unshift(fa(n,c,a))):i||(c=oa(n,o),c!=null&&s.push(fa(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var VC=/\r\n?/g,FC=/\u0000|\uFFFD/g;function Tv(t){return(typeof t=="string"?t:""+t).replace(VC,`
`).replace(FC,"")}function Sl(t,e,n){if(e=Tv(e),Tv(t)!==e&&n)throw Error(U(425))}function Pc(){}var Ff=null,Uf=null;function jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zf=typeof setTimeout=="function"?setTimeout:void 0,UC=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,jC=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(zC)}:zf;function zC(t){setTimeout(function(){throw t})}function Vd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),la(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);la(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),wn="__reactFiber$"+Qo,ha="__reactProps$"+Qo,Jn="__reactContainer$"+Qo,Bf="__reactEvents$"+Qo,BC="__reactListeners$"+Qo,HC="__reactHandles$"+Qo;function ci(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jn]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sv(t);t!==null;){if(n=t[wn])return n;t=Sv(t)}return e}t=n,n=t.parentNode}return null}function Da(t){return t=t[wn]||t[Jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function gu(t){return t[ha]||null}var Hf=[],lo=-1;function Xr(t){return{current:t}}function Re(t){0>lo||(t.current=Hf[lo],Hf[lo]=null,lo--)}function Te(t,e){lo++,Hf[lo]=t.current,t.current=e}var Hr={},Et=Xr(Hr),Dt=Xr(!1),yi=Hr;function ko(t,e){var n=t.type.contextTypes;if(!n)return Hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function kc(){Re(Dt),Re(Et)}function Av(t,e,n){if(Et.current!==Hr)throw Error(U(168));Te(Et,e),Te(Dt,n)}function aw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,PA(t)||"Unknown",i));return De({},n,r)}function xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hr,yi=Et.current,Te(Et,t),Te(Dt,Dt.current),!0}function Cv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=aw(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,Re(Dt),Re(Et),Te(Et,t)):Re(Dt),Te(Dt,n)}var Bn=null,vu=!1,Fd=!1;function lw(t){Bn===null?Bn=[t]:Bn.push(t)}function WC(t){vu=!0,lw(t)}function Jr(){if(!Fd&&Bn!==null){Fd=!0;var t=0,e=ye;try{var n=Bn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,vu=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(t+1)),D0(np,Jr),i}finally{ye=e,Fd=!1}}return null}var co=[],uo=0,bc=null,Nc=0,Xt=[],Jt=0,_i=null,Hn=1,Wn="";function si(t,e){co[uo++]=Nc,co[uo++]=bc,bc=t,Nc=e}function cw(t,e,n){Xt[Jt++]=Hn,Xt[Jt++]=Wn,Xt[Jt++]=_i,_i=t;var r=Hn;t=Wn;var i=32-un(r)-1;r&=~(1<<i),n+=1;var o=32-un(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hn=1<<32-un(e)+i|n<<i|r,Wn=o+t}else Hn=1<<o|n<<i|r,Wn=t}function dp(t){t.return!==null&&(si(t,1),cw(t,1,0))}function fp(t){for(;t===bc;)bc=co[--uo],co[uo]=null,Nc=co[--uo],co[uo]=null;for(;t===_i;)_i=Xt[--Jt],Xt[Jt]=null,Wn=Xt[--Jt],Xt[Jt]=null,Hn=Xt[--Jt],Xt[Jt]=null}var Ht=null,zt=null,ke=!1,cn=null;function uw(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,zt=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_i!==null?{id:Hn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,zt=null,!0):!1;default:return!1}}function Wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if(ke){var e=zt;if(e){var n=e;if(!Rv(t,e)){if(Wf(t))throw Error(U(418));e=Or(n.nextSibling);var r=Ht;e&&Rv(t,e)?uw(r,n):(t.flags=t.flags&-4097|2,ke=!1,Ht=t)}}else{if(Wf(t))throw Error(U(418));t.flags=t.flags&-4097|2,ke=!1,Ht=t}}}function Pv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function Al(t){if(t!==Ht)return!1;if(!ke)return Pv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jf(t.type,t.memoizedProps)),e&&(e=zt)){if(Wf(t))throw dw(),Error(U(418));for(;e;)uw(t,e),e=Or(e.nextSibling)}if(Pv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ht?Or(t.stateNode.nextSibling):null;return!0}function dw(){for(var t=zt;t;)t=Or(t.nextSibling)}function xo(){zt=Ht=null,ke=!1}function hp(t){cn===null?cn=[t]:cn.push(t)}var qC=ar.ReactCurrentBatchConfig;function an(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Dc=Xr(null),Oc=null,fo=null,pp=null;function mp(){pp=fo=Oc=null}function gp(t){var e=Dc.current;Re(Dc),t._currentValue=e}function Kf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Oc=t,pp=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(pp!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(Oc===null)throw Error(U(308));fo=t,Oc.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var ui=null;function vp(t){ui===null?ui=[t]:ui.push(t)}function fw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zn(t,r)}function Zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function yp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zn(t,n)}return i=r.interleaved,i===null?(e.next=e,vp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zn(t,n)}function Yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}function kv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $c(t,e,n,r){var i=t.updateQueue;Er=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,f=u=c=null,a=o;do{var m=a.lane,_=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,T=a;switch(m=e,_=n,T.tag){case 1:if(A=T.payload,typeof A=="function"){p=A.call(_,p,m);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=T.payload,m=typeof A=="function"?A.call(_,p,m):A,m==null)break e;p=De({},p,m);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else _={eventTime:_,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=_,c=p):f=f.next=_,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ei|=s,t.lanes=s,t.memoizedState=p}}function xv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var pw=new f0.Component().refs;function Gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yu={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Lr(t),o=Qn(r,i);o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(dn(e,t,i,r),Yl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),i=Lr(t),o=Qn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(dn(e,t,i,r),Yl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=Lr(t),i=Qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(dn(e,t,r,n),Yl(e,t,r))}};function bv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ua(n,r)||!ua(i,o):!0}function mw(t,e,n){var r=!1,i=Hr,o=e.contextType;return typeof o=="object"&&o!==null?o=nn(o):(i=Ot(e)?yi:Et.current,r=e.contextTypes,o=(r=r!=null)?ko(t,i):Hr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Nv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yu.enqueueReplaceState(e,e.state,null)}function Qf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=pw,yp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=nn(o):(o=Ot(e)?yi:Et.current,i.context=ko(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yu.enqueueReplaceState(i,i.state,null),$c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===pw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Cl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dv(t){var e=t._init;return e(t._payload)}function gw(t){function e(w,v){if(t){var I=w.deletions;I===null?(w.deletions=[v],w.flags|=16):I.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Vr(w,v),w.index=0,w.sibling=null,w}function o(w,v,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<v?(w.flags|=2,v):I):(w.flags|=2,v)):(w.flags|=1048576,v)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,I,N){return v===null||v.tag!==6?(v=qd(I,w.mode,N),v.return=w,v):(v=i(v,I),v.return=w,v)}function c(w,v,I,N){var O=I.type;return O===ro?f(w,v,I.props.children,N,I.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===wr&&Dv(O)===v.type)?(N=i(v,I.props),N.ref=Cs(w,v,I),N.return=w,N):(N=nc(I.type,I.key,I.props,null,w.mode,N),N.ref=Cs(w,v,I),N.return=w,N)}function u(w,v,I,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=Kd(I,w.mode,N),v.return=w,v):(v=i(v,I.children||[]),v.return=w,v)}function f(w,v,I,N,O){return v===null||v.tag!==7?(v=gi(I,w.mode,N,O),v.return=w,v):(v=i(v,I),v.return=w,v)}function p(w,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qd(""+v,w.mode,I),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ml:return I=nc(v.type,v.key,v.props,null,w.mode,I),I.ref=Cs(w,null,v),I.return=w,I;case no:return v=Kd(v,w.mode,I),v.return=w,v;case wr:var N=v._init;return p(w,N(v._payload),I)}if(Ds(v)||Es(v))return v=gi(v,w.mode,I,null),v.return=w,v;Cl(w,v)}return null}function m(w,v,I,N){var O=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:a(w,v,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ml:return I.key===O?c(w,v,I,N):null;case no:return I.key===O?u(w,v,I,N):null;case wr:return O=I._init,m(w,v,O(I._payload),N)}if(Ds(I)||Es(I))return O!==null?null:f(w,v,I,N,null);Cl(w,I)}return null}function _(w,v,I,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(I)||null,a(v,w,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ml:return w=w.get(N.key===null?I:N.key)||null,c(v,w,N,O);case no:return w=w.get(N.key===null?I:N.key)||null,u(v,w,N,O);case wr:var $=N._init;return _(w,v,I,$(N._payload),O)}if(Ds(N)||Es(N))return w=w.get(I)||null,f(v,w,N,O,null);Cl(v,N)}return null}function A(w,v,I,N){for(var O=null,$=null,S=v,y=v=0,C=null;S!==null&&y<I.length;y++){S.index>y?(C=S,S=null):C=S.sibling;var k=m(w,S,I[y],N);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(w,S),v=o(k,v,y),$===null?O=k:$.sibling=k,$=k,S=C}if(y===I.length)return n(w,S),ke&&si(w,y),O;if(S===null){for(;y<I.length;y++)S=p(w,I[y],N),S!==null&&(v=o(S,v,y),$===null?O=S:$.sibling=S,$=S);return ke&&si(w,y),O}for(S=r(w,S);y<I.length;y++)C=_(S,w,y,I[y],N),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?y:C.key),v=o(C,v,y),$===null?O=C:$.sibling=C,$=C);return t&&S.forEach(function(b){return e(w,b)}),ke&&si(w,y),O}function T(w,v,I,N){var O=Es(I);if(typeof O!="function")throw Error(U(150));if(I=O.call(I),I==null)throw Error(U(151));for(var $=O=null,S=v,y=v=0,C=null,k=I.next();S!==null&&!k.done;y++,k=I.next()){S.index>y?(C=S,S=null):C=S.sibling;var b=m(w,S,k.value,N);if(b===null){S===null&&(S=C);break}t&&S&&b.alternate===null&&e(w,S),v=o(b,v,y),$===null?O=b:$.sibling=b,$=b,S=C}if(k.done)return n(w,S),ke&&si(w,y),O;if(S===null){for(;!k.done;y++,k=I.next())k=p(w,k.value,N),k!==null&&(v=o(k,v,y),$===null?O=k:$.sibling=k,$=k);return ke&&si(w,y),O}for(S=r(w,S);!k.done;y++,k=I.next())k=_(S,w,y,k.value,N),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?y:k.key),v=o(k,v,y),$===null?O=k:$.sibling=k,$=k);return t&&S.forEach(function(P){return e(w,P)}),ke&&si(w,y),O}function x(w,v,I,N){if(typeof I=="object"&&I!==null&&I.type===ro&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ml:e:{for(var O=I.key,$=v;$!==null;){if($.key===O){if(O=I.type,O===ro){if($.tag===7){n(w,$.sibling),v=i($,I.props.children),v.return=w,w=v;break e}}else if($.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===wr&&Dv(O)===$.type){n(w,$.sibling),v=i($,I.props),v.ref=Cs(w,$,I),v.return=w,w=v;break e}n(w,$);break}else e(w,$);$=$.sibling}I.type===ro?(v=gi(I.props.children,w.mode,N,I.key),v.return=w,w=v):(N=nc(I.type,I.key,I.props,null,w.mode,N),N.ref=Cs(w,v,I),N.return=w,w=N)}return s(w);case no:e:{for($=I.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){n(w,v.sibling),v=i(v,I.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Kd(I,w.mode,N),v.return=w,w=v}return s(w);case wr:return $=I._init,x(w,v,$(I._payload),N)}if(Ds(I))return A(w,v,I,N);if(Es(I))return T(w,v,I,N);Cl(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,I),v.return=w,w=v):(n(w,v),v=qd(I,w.mode,N),v.return=w,w=v),s(w)):n(w,v)}return x}var bo=gw(!0),vw=gw(!1),Oa={},Cn=Xr(Oa),pa=Xr(Oa),ma=Xr(Oa);function di(t){if(t===Oa)throw Error(U(174));return t}function _p(t,e){switch(Te(ma,e),Te(pa,t),Te(Cn,Oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rf(e,t)}Re(Cn),Te(Cn,e)}function No(){Re(Cn),Re(pa),Re(ma)}function yw(t){di(ma.current);var e=di(Cn.current),n=Rf(e,t.type);e!==n&&(Te(pa,t),Te(Cn,n))}function wp(t){pa.current===t&&(Re(Cn),Re(pa))}var be=Xr(0);function Mc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ud=[];function Ep(){for(var t=0;t<Ud.length;t++)Ud[t]._workInProgressVersionPrimary=null;Ud.length=0}var Xl=ar.ReactCurrentDispatcher,jd=ar.ReactCurrentBatchConfig,wi=0,Ne=null,Ke=null,Ze=null,Lc=!1,qs=!1,ga=0,KC=0;function mt(){throw Error(U(321))}function Tp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function Ip(t,e,n,r,i,o){if(wi=o,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xl.current=t===null||t.memoizedState===null?XC:JC,t=n(r,i),qs){o=0;do{if(qs=!1,ga=0,25<=o)throw Error(U(301));o+=1,Ze=Ke=null,e.updateQueue=null,Xl.current=ZC,t=n(r,i)}while(qs)}if(Xl.current=Vc,e=Ke!==null&&Ke.next!==null,wi=0,Ze=Ke=Ne=null,Lc=!1,e)throw Error(U(300));return t}function Sp(){var t=ga!==0;return ga=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ne.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function rn(){if(Ke===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=Ze===null?Ne.memoizedState:Ze.next;if(e!==null)Ze=e,Ke=t;else{if(t===null)throw Error(U(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?Ne.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function va(t,e){return typeof e=="function"?e(t):e}function zd(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,u=o;do{var f=u.lane;if((wi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,s=r):c=c.next=p,Ne.lanes|=f,Ei|=f}u=u.next}while(u!==null&&u!==o);c===null?s=r:c.next=a,fn(r,e.memoizedState)||(Nt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ne.lanes|=o,Ei|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bd(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);fn(o,e.memoizedState)||(Nt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _w(){}function ww(t,e){var n=Ne,r=rn(),i=e(),o=!fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Nt=!0),r=r.queue,Ap(Iw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ya(9,Tw.bind(null,n,r,i,e),void 0,null),et===null)throw Error(U(349));wi&30||Ew(n,e,i)}return i}function Ew(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tw(t,e,n,r){e.value=n,e.getSnapshot=r,Sw(e)&&Aw(t)}function Iw(t,e,n){return n(function(){Sw(e)&&Aw(t)})}function Sw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function Aw(t){var e=Zn(t,1);e!==null&&dn(e,t,1,-1)}function Ov(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=YC.bind(null,Ne,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Cw(){return rn().memoizedState}function Jl(t,e,n,r){var i=_n();Ne.flags|=t,i.memoizedState=ya(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var i=rn();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var s=Ke.memoizedState;if(o=s.destroy,r!==null&&Tp(r,s.deps)){i.memoizedState=ya(e,n,o,r);return}}Ne.flags|=t,i.memoizedState=ya(1|e,n,o,r)}function $v(t,e){return Jl(8390656,8,t,e)}function Ap(t,e){return _u(2048,8,t,e)}function Rw(t,e){return _u(4,2,t,e)}function Pw(t,e){return _u(4,4,t,e)}function kw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xw(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,kw.bind(null,e,t),n)}function Cp(){}function bw(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Nw(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dw(t,e,n){return wi&21?(fn(n,e)||(n=M0(),Ne.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function GC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=jd.transition;jd.transition={};try{t(!1),e()}finally{ye=n,jd.transition=r}}function Ow(){return rn().memoizedState}function QC(t,e,n){var r=Lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$w(t))Mw(e,n);else if(n=fw(t,e,n,r),n!==null){var i=Ct();dn(n,t,r,i),Lw(n,e,r)}}function YC(t,e,n){var r=Lr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($w(t))Mw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,fn(a,s)){var c=e.interleaved;c===null?(i.next=i,vp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=fw(t,e,i,r),n!==null&&(i=Ct(),dn(n,t,r,i),Lw(n,e,r))}}function $w(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function Mw(t,e){qs=Lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}var Vc={readContext:nn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},XC={readContext:nn,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:$v,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jl(4194308,4,kw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jl(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QC.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:Ov,useDebugValue:Cp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=Ov(!1),e=t[0];return t=GC.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=_n();if(ke){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),et===null)throw Error(U(349));wi&30||Ew(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,$v(Iw.bind(null,r,o,t),[t]),r.flags|=2048,ya(9,Tw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_n(),e=et.identifierPrefix;if(ke){var n=Wn,r=Hn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JC={readContext:nn,useCallback:bw,useContext:nn,useEffect:Ap,useImperativeHandle:xw,useInsertionEffect:Rw,useLayoutEffect:Pw,useMemo:Nw,useReducer:zd,useRef:Cw,useState:function(){return zd(va)},useDebugValue:Cp,useDeferredValue:function(t){var e=rn();return Dw(e,Ke.memoizedState,t)},useTransition:function(){var t=zd(va)[0],e=rn().memoizedState;return[t,e]},useMutableSource:_w,useSyncExternalStore:ww,useId:Ow,unstable_isNewReconciler:!1},ZC={readContext:nn,useCallback:bw,useContext:nn,useEffect:Ap,useImperativeHandle:xw,useInsertionEffect:Rw,useLayoutEffect:Pw,useMemo:Nw,useReducer:Bd,useRef:Cw,useState:function(){return Bd(va)},useDebugValue:Cp,useDeferredValue:function(t){var e=rn();return Ke===null?e.memoizedState=t:Dw(e,Ke.memoizedState,t)},useTransition:function(){var t=Bd(va)[0],e=rn().memoizedState;return[t,e]},useMutableSource:_w,useSyncExternalStore:ww,useId:Ow,unstable_isNewReconciler:!1};function Do(t,e){try{var n="",r=e;do n+=RA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eR=typeof WeakMap=="function"?WeakMap:Map;function Vw(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uc||(Uc=!0,sh=r),Yf(t,e)},n}function Fw(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yf(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Mv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pR.bind(null,t,e,n),e.then(t,t))}function Lv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var tR=ar.ReactCurrentOwner,Nt=!1;function At(t,e,n,r){e.child=t===null?vw(e,null,n,r):bo(e,t.child,n,r)}function Fv(t,e,n,r,i){n=n.render;var o=e.ref;return wo(e,i),r=Ip(t,e,n,r,o,i),n=Sp(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(ke&&n&&dp(e),e.flags|=1,At(t,e,r,i),e.child)}function Uv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Op(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Uw(t,e,o,r,i)):(t=nc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ua,n(s,r)&&t.ref===e.ref)return er(t,e,i)}return e.flags|=1,t=Vr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Uw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ua(o,r)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,er(t,e,i)}return Xf(t,e,n,r,i)}function jw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(po,Ut),Ut|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(po,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(po,Ut),Ut|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Te(po,Ut),Ut|=r;return At(t,e,i,n),e.child}function zw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xf(t,e,n,r,i){var o=Ot(n)?yi:Et.current;return o=ko(e,o),wo(e,i),n=Ip(t,e,n,r,o,i),r=Sp(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(ke&&r&&dp(e),e.flags|=1,At(t,e,n,i),e.child)}function jv(t,e,n,r,i){if(Ot(n)){var o=!0;xc(e)}else o=!1;if(wo(e,i),e.stateNode===null)Zl(t,e),mw(e,n,r),Qf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Ot(n)?yi:Et.current,u=ko(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Nv(e,s,r,u),Er=!1;var m=e.memoizedState;s.state=m,$c(e,r,s,i),c=e.memoizedState,a!==r||m!==c||Dt.current||Er?(typeof f=="function"&&(Gf(e,n,f,r),c=e.memoizedState),(a=Er||bv(e,n,a,r,m,c,u))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,hw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:an(e.type,a),s.props=u,p=e.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=Ot(n)?yi:Et.current,c=ko(e,c));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==c)&&Nv(e,s,r,c),Er=!1,m=e.memoizedState,s.state=m,$c(e,r,s,i);var A=e.memoizedState;a!==p||m!==A||Dt.current||Er?(typeof _=="function"&&(Gf(e,n,_,r),A=e.memoizedState),(u=Er||bv(e,n,u,r,m,A,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Jf(t,e,n,r,o,i)}function Jf(t,e,n,r,i,o){zw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Cv(e,n,!1),er(t,e,o);r=e.stateNode,tR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=bo(e,t.child,null,o),e.child=bo(e,null,a,o)):At(t,e,a,o),e.memoizedState=r.state,i&&Cv(e,n,!0),e.child}function Bw(t){var e=t.stateNode;e.pendingContext?Av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Av(t,e.context,!1),_p(t,e.containerInfo)}function zv(t,e,n,r,i){return xo(),hp(i),e.flags|=256,At(t,e,n,r),e.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function eh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hw(t,e,n){var r=e.pendingProps,i=be.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(be,i&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Tu(s,r,0,null),t=gi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=eh(n),e.memoizedState=Zf,t):Rp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Vr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Vr(a,o):(o=gi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?eh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Zf,r}return o=t.child,t=o.sibling,r=Vr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rp(t,e){return e=Tu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rl(t,e,n,r){return r!==null&&hp(r),bo(e,t.child,null,n),t=Rp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Hd(Error(U(422))),Rl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Tu({mode:"visible",children:r.children},i,0,null),o=gi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&bo(e,t.child,null,s),e.child.memoizedState=eh(s),e.memoizedState=Zf,o);if(!(e.mode&1))return Rl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Hd(o,r,void 0),Rl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Nt||a){if(r=et,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zn(t,i),dn(r,t,i,-1))}return Dp(),r=Hd(Error(U(421))),Rl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zt=Or(i.nextSibling),Ht=e,ke=!0,cn=null,t!==null&&(Xt[Jt++]=Hn,Xt[Jt++]=Wn,Xt[Jt++]=_i,Hn=t.id,Wn=t.overflow,_i=e),e=Rp(e,r.children),e.flags|=4096,e)}function Bv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kf(t.return,e,n)}function Wd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ww(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(At(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bv(t,n,e);else if(t.tag===19)Bv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wd(e,!0,n,null,o);break;case"together":Wd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rR(t,e,n){switch(e.tag){case 3:Bw(e),xo();break;case 5:yw(e);break;case 1:Ot(e.type)&&xc(e);break;case 4:_p(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(Dc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Hw(t,e,n):(Te(be,be.current&1),t=er(t,e,n),t!==null?t.sibling:null);Te(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ww(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,jw(t,e,n)}return er(t,e,n)}var qw,th,Kw,Gw;qw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};th=function(){};Kw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,di(Cn.current);var o=null;switch(n){case"input":i=If(t,i),r=If(t,r),o=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),o=[];break;case"textarea":i=Cf(t,i),r=Cf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pc)}Pf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ra.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ra.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Gw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rs(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iR(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ot(e.type)&&kc(),gt(e),null;case 3:return r=e.stateNode,No(),Re(Dt),Re(Et),Ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Al(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(ch(cn),cn=null))),th(t,e),gt(e),null;case 5:wp(e);var i=di(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)Kw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return gt(e),null}if(t=di(Cn.current),Al(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[wn]=e,r[ha]=o,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<$s.length;i++)Ce($s[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Jg(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":ev(r,o),Ce("invalid",r)}Pf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",""+a]):ra.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ce("scroll",r)}switch(n){case"input":gl(r),Zg(r,o,!0);break;case"textarea":gl(r),tv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[wn]=e,t[ha]=r,qw(t,e,!1,!1),e.stateNode=t;e:{switch(s=kf(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<$s.length;i++)Ce($s[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":Jg(t,r),i=If(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":ev(t,r),i=Cf(t,r),Ce("invalid",t);break;default:i=r}Pf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?S0(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&T0(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ia(t,c):typeof c=="number"&&ia(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ra.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",t):c!=null&&Xh(t,o,c,s))}switch(n){case"input":gl(t),Zg(t,r,!1);break;case"textarea":gl(t),tv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Br(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?go(t,!!r.multiple,o,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)Gw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=di(ma.current),di(Cn.current),Al(e)){if(r=e.stateNode,n=e.memoizedProps,r[wn]=e,(o=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return gt(e),null;case 13:if(Re(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&zt!==null&&e.mode&1&&!(e.flags&128))dw(),xo(),e.flags|=98560,o=!1;else if(o=Al(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[wn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),o=!1}else cn!==null&&(ch(cn),cn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Qe===0&&(Qe=3):Dp())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return No(),th(t,e),t===null&&da(e.stateNode.containerInfo),gt(e),null;case 10:return gp(e.type._context),gt(e),null;case 17:return Ot(e.type)&&kc(),gt(e),null;case 19:if(Re(be),o=e.memoizedState,o===null)return gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Rs(o,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Mc(t),s!==null){for(e.flags|=128,Rs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(be,be.current&1|2),e.child}t=t.sibling}o.tail!==null&&je()>Oo&&(e.flags|=128,r=!0,Rs(o,!1),e.lanes=4194304)}else{if(!r)if(t=Mc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ke)return gt(e),null}else 2*je()-o.renderingStartTime>Oo&&n!==1073741824&&(e.flags|=128,r=!0,Rs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=je(),e.sibling=null,n=be.current,Te(be,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Np(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function oR(t,e){switch(fp(e),e.tag){case 1:return Ot(e.type)&&kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),Re(Dt),Re(Et),Ep(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wp(e),null;case 13:if(Re(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(be),null;case 4:return No(),null;case 10:return gp(e.type._context),null;case 22:case 23:return Np(),null;case 24:return null;default:return null}}var Pl=!1,_t=!1,sR=typeof WeakSet=="function"?WeakSet:Set,H=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function nh(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var Hv=!1;function aR(t,e){if(Ff=Ac,t=J0(),up(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,f=0,p=t,m=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===n&&++u===i&&(a=s),m===o&&++f===r&&(c=s),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:t,selectionRange:n},Ac=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var T=A.memoizedProps,x=A.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:an(e.type,T),x);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){Ve(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return A=Hv,Hv=!1,A}function Ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&nh(e,n,o)}i=i.next}while(i!==r)}}function wu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qw(t){var e=t.alternate;e!==null&&(t.alternate=null,Qw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[ha],delete e[Bf],delete e[BC],delete e[HC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yw(t){return t.tag===5||t.tag===3||t.tag===4}function Wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pc));else if(r!==4&&(t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}function oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oh(t,e,n),t=t.sibling;t!==null;)oh(t,e,n),t=t.sibling}var ot=null,ln=!1;function mr(t,e,n){for(n=n.child;n!==null;)Xw(t,e,n),n=n.sibling}function Xw(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(fu,n)}catch{}switch(n.tag){case 5:_t||ho(n,e);case 6:var r=ot,i=ln;ot=null,mr(t,e,n),ot=r,ln=i,ot!==null&&(ln?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(ln?(t=ot,n=n.stateNode,t.nodeType===8?Vd(t.parentNode,n):t.nodeType===1&&Vd(t,n),la(t)):Vd(ot,n.stateNode));break;case 4:r=ot,i=ln,ot=n.stateNode.containerInfo,ln=!0,mr(t,e,n),ot=r,ln=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&nh(n,e,s),i=i.next}while(i!==r)}mr(t,e,n);break;case 1:if(!_t&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}mr(t,e,n);break;case 21:mr(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,mr(t,e,n),_t=r):mr(t,e,n);break;default:mr(t,e,n)}}function qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sR),e.forEach(function(r){var i=gR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,ln=!1;break e;case 3:ot=a.stateNode.containerInfo,ln=!0;break e;case 4:ot=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(ot===null)throw Error(U(160));Xw(o,s,i),ot=null,ln=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jw(e,t),e=e.sibling}function Jw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),yn(t),r&4){try{Ks(3,t,t.return),wu(3,t)}catch(T){Ve(t,t.return,T)}try{Ks(5,t,t.return)}catch(T){Ve(t,t.return,T)}}break;case 1:sn(e,t),yn(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(sn(e,t),yn(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var i=t.stateNode;try{ia(i,"")}catch(T){Ve(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&_0(i,o),kf(a,s);var u=kf(a,o);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];f==="style"?S0(i,p):f==="dangerouslySetInnerHTML"?T0(i,p):f==="children"?ia(i,p):Xh(i,f,p,u)}switch(a){case"input":Sf(i,o);break;case"textarea":w0(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?go(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?go(i,!!o.multiple,o.defaultValue,!0):go(i,!!o.multiple,o.multiple?[]:"",!1))}i[ha]=o}catch(T){Ve(t,t.return,T)}}break;case 6:if(sn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){Ve(t,t.return,T)}}break;case 3:if(sn(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{la(e.containerInfo)}catch(T){Ve(t,t.return,T)}break;case 4:sn(e,t),yn(t);break;case 13:sn(e,t),yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xp=je())),r&4&&qv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(u=_t)||f,sn(e,t),_t=u):sn(e,t),yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(p=H=f;H!==null;){switch(m=H,_=m.child,m.tag){case 0:case 11:case 14:case 15:Ks(4,m,m.return);break;case 1:ho(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(T){Ve(r,n,T)}}break;case 5:ho(m,m.return);break;case 22:if(m.memoizedState!==null){Gv(p);continue}}_!==null?(_.return=m,H=_):Gv(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=I0("display",s))}catch(T){Ve(t,t.return,T)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(T){Ve(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:sn(e,t),yn(t),r&4&&qv(t);break;case 21:break;default:sn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Yw(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ia(i,""),r.flags&=-33);var o=Wv(t);oh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Wv(t);ih(t,a,s);break;default:throw Error(U(161))}}catch(c){Ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lR(t,e,n){H=t,Zw(t)}function Zw(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pl;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||_t;a=Pl;var u=_t;if(Pl=s,(_t=c)&&!u)for(H=i;H!==null;)s=H,c=s.child,s.tag===22&&s.memoizedState!==null?Qv(i):c!==null?(c.return=s,H=c):Qv(i);for(;o!==null;)H=o,Zw(o),o=o.sibling;H=i,Pl=a,_t=u}Kv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Kv(t)}}function Kv(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||wu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&xv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&la(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}_t||e.flags&512&&rh(e)}catch(m){Ve(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Gv(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Qv(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wu(4,e)}catch(c){Ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ve(e,i,c)}}var o=e.return;try{rh(e)}catch(c){Ve(e,o,c)}break;case 5:var s=e.return;try{rh(e)}catch(c){Ve(e,s,c)}}}catch(c){Ve(e,e.return,c)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var cR=Math.ceil,Fc=ar.ReactCurrentDispatcher,Pp=ar.ReactCurrentOwner,en=ar.ReactCurrentBatchConfig,he=0,et=null,We=null,lt=0,Ut=0,po=Xr(0),Qe=0,_a=null,Ei=0,Eu=0,kp=0,Gs=null,xt=null,xp=0,Oo=1/0,jn=null,Uc=!1,sh=null,Mr=null,kl=!1,kr=null,jc=0,Qs=0,ah=null,ec=-1,tc=0;function Ct(){return he&6?je():ec!==-1?ec:ec=je()}function Lr(t){return t.mode&1?he&2&&lt!==0?lt&-lt:qC.transition!==null?(tc===0&&(tc=M0()),tc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:B0(t.type)),t):1}function dn(t,e,n,r){if(50<Qs)throw Qs=0,ah=null,Error(U(185));ba(t,n,r),(!(he&2)||t!==et)&&(t===et&&(!(he&2)&&(Eu|=n),Qe===4&&Ir(t,lt)),$t(t,r),n===1&&he===0&&!(e.mode&1)&&(Oo=je()+500,vu&&Jr()))}function $t(t,e){var n=t.callbackNode;qA(t,e);var r=Sc(t,t===et?lt:0);if(r===0)n!==null&&iv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iv(n),e===1)t.tag===0?WC(Yv.bind(null,t)):lw(Yv.bind(null,t)),jC(function(){!(he&6)&&Jr()}),n=null;else{switch(L0(r)){case 1:n=np;break;case 4:n=O0;break;case 16:n=Ic;break;case 536870912:n=$0;break;default:n=Ic}n=aE(n,eE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eE(t,e){if(ec=-1,tc=0,he&6)throw Error(U(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=Sc(t,t===et?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zc(t,r);else{e=r;var i=he;he|=2;var o=nE();(et!==t||lt!==e)&&(jn=null,Oo=je()+500,mi(t,e));do try{fR();break}catch(a){tE(t,a)}while(!0);mp(),Fc.current=o,he=i,We!==null?e=0:(et=null,lt=0,e=Qe)}if(e!==0){if(e===2&&(i=Of(t),i!==0&&(r=i,e=lh(t,i))),e===1)throw n=_a,mi(t,0),Ir(t,r),$t(t,je()),n;if(e===6)Ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!uR(i)&&(e=zc(t,r),e===2&&(o=Of(t),o!==0&&(r=o,e=lh(t,o))),e===1))throw n=_a,mi(t,0),Ir(t,r),$t(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ai(t,xt,jn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=xp+500-je(),10<e)){if(Sc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zf(ai.bind(null,t,xt,jn),e);break}ai(t,xt,jn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-un(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cR(r/1960))-r,10<r){t.timeoutHandle=zf(ai.bind(null,t,xt,jn),r);break}ai(t,xt,jn);break;case 5:ai(t,xt,jn);break;default:throw Error(U(329))}}}return $t(t,je()),t.callbackNode===n?eE.bind(null,t):null}function lh(t,e){var n=Gs;return t.current.memoizedState.isDehydrated&&(mi(t,e).flags|=256),t=zc(t,e),t!==2&&(e=xt,xt=n,e!==null&&ch(e)),t}function ch(t){xt===null?xt=t:xt.push.apply(xt,t)}function uR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~kp,e&=~Eu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function Yv(t){if(he&6)throw Error(U(327));Eo();var e=Sc(t,0);if(!(e&1))return $t(t,je()),null;var n=zc(t,e);if(t.tag!==0&&n===2){var r=Of(t);r!==0&&(e=r,n=lh(t,r))}if(n===1)throw n=_a,mi(t,0),Ir(t,e),$t(t,je()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,xt,jn),$t(t,je()),null}function bp(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Oo=je()+500,vu&&Jr())}}function Ti(t){kr!==null&&kr.tag===0&&!(he&6)&&Eo();var e=he;he|=1;var n=en.transition,r=ye;try{if(en.transition=null,ye=1,t)return t()}finally{ye=r,en.transition=n,he=e,!(he&6)&&Jr()}}function Np(){Ut=po.current,Re(po)}function mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UC(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kc();break;case 3:No(),Re(Dt),Re(Et),Ep();break;case 5:wp(r);break;case 4:No();break;case 13:Re(be);break;case 19:Re(be);break;case 10:gp(r.type._context);break;case 22:case 23:Np()}n=n.return}if(et=t,We=t=Vr(t.current,null),lt=Ut=e,Qe=0,_a=null,kp=Eu=Ei=0,xt=Gs=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ui=null}return t}function tE(t,e){do{var n=We;try{if(mp(),Xl.current=Vc,Lc){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lc=!1}if(wi=0,Ze=Ke=Ne=null,qs=!1,ga=0,Pp.current=null,n===null||n.return===null){Qe=1,_a=e,We=null;break}e:{var o=t,s=n.return,a=n,c=e;if(e=lt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Lv(s);if(_!==null){_.flags&=-257,Vv(_,s,a,o,e),_.mode&1&&Mv(o,u,e),e=_,c=u;var A=e.updateQueue;if(A===null){var T=new Set;T.add(c),e.updateQueue=T}else A.add(c);break e}else{if(!(e&1)){Mv(o,u,e),Dp();break e}c=Error(U(426))}}else if(ke&&a.mode&1){var x=Lv(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Vv(x,s,a,o,e),hp(Do(c,a));break e}}o=c=Do(c,a),Qe!==4&&(Qe=2),Gs===null?Gs=[o]:Gs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Vw(o,c,e);kv(o,w);break e;case 1:a=c;var v=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Mr===null||!Mr.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=Fw(o,a,e);kv(o,N);break e}}o=o.return}while(o!==null)}iE(n)}catch(O){e=O,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function nE(){var t=Fc.current;return Fc.current=Vc,t===null?Vc:t}function Dp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(Ei&268435455)&&!(Eu&268435455)||Ir(et,lt)}function zc(t,e){var n=he;he|=2;var r=nE();(et!==t||lt!==e)&&(jn=null,mi(t,e));do try{dR();break}catch(i){tE(t,i)}while(!0);if(mp(),he=n,Fc.current=r,We!==null)throw Error(U(261));return et=null,lt=0,Qe}function dR(){for(;We!==null;)rE(We)}function fR(){for(;We!==null&&!LA();)rE(We)}function rE(t){var e=sE(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?iE(t):We=e,Pp.current=null}function iE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oR(n,e),n!==null){n.flags&=32767,We=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,We=null;return}}else if(n=iR(n,e,Ut),n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);Qe===0&&(Qe=5)}function ai(t,e,n){var r=ye,i=en.transition;try{en.transition=null,ye=1,hR(t,e,n,r)}finally{en.transition=i,ye=r}return null}function hR(t,e,n,r){do Eo();while(kr!==null);if(he&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(KA(t,o),t===et&&(We=et=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kl||(kl=!0,aE(Ic,function(){return Eo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=en.transition,en.transition=null;var s=ye;ye=1;var a=he;he|=4,Pp.current=null,aR(t,n),Jw(n,t),DC(Uf),Ac=!!Ff,Uf=Ff=null,t.current=n,lR(n),VA(),he=a,ye=s,en.transition=o}else t.current=n;if(kl&&(kl=!1,kr=t,jc=i),o=t.pendingLanes,o===0&&(Mr=null),jA(n.stateNode),$t(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uc)throw Uc=!1,t=sh,sh=null,t;return jc&1&&t.tag!==0&&Eo(),o=t.pendingLanes,o&1?t===ah?Qs++:(Qs=0,ah=t):Qs=0,Jr(),null}function Eo(){if(kr!==null){var t=L0(jc),e=en.transition,n=ye;try{if(en.transition=null,ye=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,jc=0,he&6)throw Error(U(331));var i=he;for(he|=4,H=t.current;H!==null;){var o=H,s=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(H=u;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Ks(8,f,o)}var p=f.child;if(p!==null)p.return=f,H=p;else for(;H!==null;){f=H;var m=f.sibling,_=f.return;if(Qw(f),f===u){H=null;break}if(m!==null){m.return=_,H=m;break}H=_}}}var A=o.alternate;if(A!==null){var T=A.child;if(T!==null){A.child=null;do{var x=T.sibling;T.sibling=null,T=x}while(T!==null)}}H=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,H=s;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ks(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}var v=t.current;for(H=v;H!==null;){s=H;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,H=I;else e:for(s=v;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wu(9,a)}}catch(O){Ve(a,a.return,O)}if(a===s){H=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,H=N;break e}H=a.return}}if(he=i,Jr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(fu,t)}catch{}r=!0}return r}finally{ye=n,en.transition=e}}return!1}function Xv(t,e,n){e=Do(n,e),e=Vw(t,e,1),t=$r(t,e,1),e=Ct(),t!==null&&(ba(t,1,e),$t(t,e))}function Ve(t,e,n){if(t.tag===3)Xv(t,t,n);else for(;e!==null;){if(e.tag===3){Xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=Do(n,t),t=Fw(e,t,1),e=$r(e,t,1),t=Ct(),e!==null&&(ba(e,1,t),$t(e,t));break}}e=e.return}}function pR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(lt&n)===n&&(Qe===4||Qe===3&&(lt&130023424)===lt&&500>je()-xp?mi(t,0):kp|=n),$t(t,e)}function oE(t,e){e===0&&(t.mode&1?(e=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):e=1);var n=Ct();t=Zn(t,e),t!==null&&(ba(t,e,n),$t(t,n))}function mR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oE(t,n)}function gR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),oE(t,n)}var sE;sE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,rR(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,ke&&e.flags&1048576&&cw(e,Nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zl(t,e),t=e.pendingProps;var i=ko(e,Et.current);wo(e,n),i=Ip(null,e,r,t,i,n);var o=Sp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(o=!0,xc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yp(e),i.updater=yu,e.stateNode=i,i._reactInternals=e,Qf(e,r,t,n),e=Jf(null,e,r,!0,o,n)):(e.tag=0,ke&&o&&dp(e),At(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yR(r),t=an(r,t),i){case 0:e=Xf(null,e,r,t,n);break e;case 1:e=jv(null,e,r,t,n);break e;case 11:e=Fv(null,e,r,t,n);break e;case 14:e=Uv(null,e,r,an(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Xf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),jv(t,e,r,i,n);case 3:e:{if(Bw(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,hw(t,e),$c(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Do(Error(U(423)),e),e=zv(t,e,r,n,i);break e}else if(r!==i){i=Do(Error(U(424)),e),e=zv(t,e,r,n,i);break e}else for(zt=Or(e.stateNode.containerInfo.firstChild),Ht=e,ke=!0,cn=null,n=vw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=er(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return yw(e),t===null&&qf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,jf(r,i)?s=null:o!==null&&jf(r,o)&&(e.flags|=32),zw(t,e),At(t,e,s,n),e.child;case 6:return t===null&&qf(e),null;case 13:return Hw(t,e,n);case 4:return _p(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Fv(t,e,r,i,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Te(Dc,r._currentValue),r._currentValue=s,o!==null)if(fn(o.value,s)){if(o.children===i.children&&!Dt.current){e=er(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Qn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Kf(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Kf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}At(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=nn(i),r=r(i),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,i=an(r,e.pendingProps),i=an(r.type,i),Uv(t,e,r,i,n);case 15:return Uw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Zl(t,e),e.tag=1,Ot(r)?(t=!0,xc(e)):t=!1,wo(e,n),mw(e,r,i),Qf(e,r,i,n),Jf(null,e,r,!0,t,n);case 19:return Ww(t,e,n);case 22:return jw(t,e,n)}throw Error(U(156,e.tag))};function aE(t,e){return D0(t,e)}function vR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new vR(t,e,n,r)}function Op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yR(t){if(typeof t=="function")return Op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zh)return 11;if(t===ep)return 14}return 2}function Vr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Op(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ro:return gi(n.children,i,o,e);case Jh:s=8,i|=8;break;case _f:return t=Zt(12,n,e,i|2),t.elementType=_f,t.lanes=o,t;case wf:return t=Zt(13,n,e,i),t.elementType=wf,t.lanes=o,t;case Ef:return t=Zt(19,n,e,i),t.elementType=Ef,t.lanes=o,t;case g0:return Tu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p0:s=10;break e;case m0:s=9;break e;case Zh:s=11;break e;case ep:s=14;break e;case wr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Zt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function gi(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function Tu(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=g0,t.lanes=n,t.stateNode={isHidden:!1},t}function qd(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _R(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $p(t,e,n,r,i,o,s,a,c){return t=new _R(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yp(o),t}function wR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lE(t){if(!t)return Hr;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Ot(n))return aw(t,n,e)}return e}function cE(t,e,n,r,i,o,s,a,c){return t=$p(n,r,!0,t,i,o,s,a,c),t.context=lE(null),n=t.current,r=Ct(),i=Lr(n),o=Qn(r,i),o.callback=e??null,$r(n,o,i),t.current.lanes=i,ba(t,i,r),$t(t,r),t}function Iu(t,e,n,r){var i=e.current,o=Ct(),s=Lr(i);return n=lE(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,s),t!==null&&(dn(t,i,s,o),Yl(t,i,s)),s}function Bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mp(t,e){Jv(t,e),(t=t.alternate)&&Jv(t,e)}function ER(){return null}var uE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lp(t){this._internalRoot=t}Su.prototype.render=Lp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Iu(t,e,null,null)};Su.prototype.unmount=Lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ti(function(){Iu(null,t,null,null)}),e[Jn]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=U0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&z0(t)}};function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function TR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Bc(s);o.call(u)}}var s=cE(e,r,t,0,null,!1,!1,"",Zv);return t._reactRootContainer=s,t[Jn]=s.current,da(t.nodeType===8?t.parentNode:t),Ti(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Bc(c);a.call(u)}}var c=$p(t,0,!1,null,null,!1,!1,"",Zv);return t._reactRootContainer=c,t[Jn]=c.current,da(t.nodeType===8?t.parentNode:t),Ti(function(){Iu(e,c,n,r)}),c}function Cu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=Bc(s);a.call(c)}}Iu(e,s,t,i)}else s=TR(n,e,t,i,r);return Bc(s)}V0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Os(e.pendingLanes);n!==0&&(rp(e,n|1),$t(e,je()),!(he&6)&&(Oo=je()+500,Jr()))}break;case 13:Ti(function(){var r=Zn(t,1);if(r!==null){var i=Ct();dn(r,t,1,i)}}),Mp(t,1)}};ip=function(t){if(t.tag===13){var e=Zn(t,134217728);if(e!==null){var n=Ct();dn(e,t,134217728,n)}Mp(t,134217728)}};F0=function(t){if(t.tag===13){var e=Lr(t),n=Zn(t,e);if(n!==null){var r=Ct();dn(n,t,e,r)}Mp(t,e)}};U0=function(){return ye};j0=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};bf=function(t,e,n){switch(e){case"input":if(Sf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gu(r);if(!i)throw Error(U(90));y0(r),Sf(r,i)}}}break;case"textarea":w0(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};R0=bp;P0=Ti;var IR={usingClientEntryPoint:!1,Events:[Da,ao,gu,A0,C0,bp]},Ps={findFiberByHostInstance:ci,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SR={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||ER,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{fu=xl.inject(SR),An=xl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IR;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(e))throw Error(U(200));return wR(t,e,null,n)};Qt.createRoot=function(t,e){if(!Vp(t))throw Error(U(299));var n=!1,r="",i=uE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$p(t,1,!1,null,null,n,!1,r,i),t[Jn]=e.current,da(t.nodeType===8?t.parentNode:t),new Lp(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=b0(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return Ti(t)};Qt.hydrate=function(t,e,n){if(!Au(e))throw Error(U(200));return Cu(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!Vp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=uE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=cE(e,null,t,1,n??null,i,!1,o,s),t[Jn]=e.current,da(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Su(e)};Qt.render=function(t,e,n){if(!Au(e))throw Error(U(200));return Cu(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!Au(t))throw Error(U(40));return t._reactRootContainer?(Ti(function(){Cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Jn]=null})}),!0):!1};Qt.unstable_batchedUpdates=bp;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Au(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Cu(t,e,n,!1,r)};Qt.version="18.2.0-next-9e3b772b8-20220608";function dE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dE)}catch(t){console.error(t)}}dE(),c0.exports=Qt;var Li=c0.exports;const AR=J_(Li);var ey=Li;vf.createRoot=ey.createRoot,vf.hydrateRoot=ey.hydrateRoot;/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fE=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>g.createElement("svg",{ref:c,...RR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fE("lucide",i),...a},[...s.map(([u,f])=>g.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=(t,e)=>{const n=g.forwardRef(({className:r,...i},o)=>g.createElement(PR,{ref:o,iconNode:e,className:fE(`lucide-${CR(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=$a("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=$a("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=$a("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=$a("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=$a("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y.apply(this,arguments)}function DR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function pE(...t){return e=>t.forEach(n=>DR(n,e))}function Ue(...t){return g.useCallback(pE(...t),t)}const Ii=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),o=i.find(OR);if(o){const s=o.props.children,a=i.map(c=>c===o?g.Children.count(s)>1?g.Children.only(null):g.isValidElement(s)?s.props.children:null:c);return g.createElement(uh,Y({},r,{ref:e}),g.isValidElement(s)?g.cloneElement(s,void 0,a):null)}return g.createElement(uh,Y({},r,{ref:e}),n)});Ii.displayName="Slot";const uh=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...$R(r,n.props),ref:e?pE(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});uh.displayName="SlotClone";const mE=({children:t})=>g.createElement(g.Fragment,null,t);function OR(t){return g.isValidElement(t)&&t.type===mE}function $R(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function gE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gE(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function MR(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=gE(t))&&(r&&(r+=" "),r+=e);return r}const ty=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,ny=MR,LR=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ny(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],p=o==null?void 0:o[u];if(f===null)return null;const m=ty(f)||ty(p);return i[u][m]}),a=n&&Object.entries(n).reduce((u,f)=>{let[p,m]=f;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:p,className:m,..._}=f;return Object.entries(_).every(A=>{let[T,x]=A;return Array.isArray(x)?x.includes({...o,...a}[T]):{...o,...a}[T]===x})?[...u,p,m]:u},[]);return ny(t,s,c,n==null?void 0:n.class,n==null?void 0:n.className)};function vE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function VR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vE(t))&&(r&&(r+=" "),r+=e);return r}const Fp="-";function FR(t){const e=jR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(s){const a=s.split(Fp);return a[0]===""&&a.length!==1&&a.shift(),yE(a,e)||UR(s)}function o(s,a){const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function yE(t,e){var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?yE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Fp);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const ry=/^\[(.+)\]$/;function UR(t){if(ry.test(t)){const e=ry.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function jR(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return BR(Object.entries(t.classGroups),n).forEach(([o,s])=>{dh(s,r,o,e)}),r}function dh(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:iy(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(zR(i)){dh(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{dh(s,iy(e,o),n,r)})})}function iy(t,e){let n=t;return e.split(Fp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function zR(t){return t.isThemeGetter}function BR(t,e){return e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t}function HR(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}}const _E="!";function WR(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(s){const a=[];let c=0,u=0,f;for(let T=0;T<s.length;T++){let x=s[T];if(c===0){if(x===r&&(n||s.slice(T,T+i)===e)){a.push(s.slice(u,T)),u=T+i;continue}if(x==="/"){f=T;continue}}x==="["?c++:x==="]"&&c--}const p=a.length===0?s:s.substring(u),m=p.startsWith(_E),_=m?p.substring(1):p,A=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:_,maybePostfixModifierPosition:A}}}function qR(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function KR(t){return{cache:HR(t.cacheSize),splitModifiers:WR(t),...FR(t)}}const GR=/\s+/;function QR(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=new Set;return t.trim().split(GR).map(s=>{const{modifiers:a,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:f}=n(s);let p=r(f?u.substring(0,f):u),m=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:s};if(p=r(u),!p)return{isTailwindClass:!1,originalClassName:s};m=!1}const _=qR(a).join(":");return{isTailwindClass:!0,modifierId:c?_+_E:_,classGroupId:p,originalClassName:s,hasPostfixModifier:m}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:c,hasPostfixModifier:u}=s,f=a+c;return o.has(f)?!1:(o.add(f),i(c,u).forEach(p=>o.add(a+p)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function YR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wE(e))&&(r&&(r+=" "),r+=n);return r}function wE(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wE(t[r]))&&(n&&(n+=" "),n+=e);return n}function XR(t,...e){let n,r,i,o=s;function s(c){const u=e.reduce((f,p)=>p(f),t());return n=KR(u),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const f=QR(c,n);return i(c,f),f}return function(){return o(YR.apply(null,arguments))}}function Ae(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const EE=/^\[(?:([a-z-]+):)?(.+)\]$/i,JR=/^\d+\/\d+$/,ZR=new Set(["px","full","screen"]),eP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Un(t){return fi(t)||ZR.has(t)||JR.test(t)}function gr(t){return Yo(t,"length",fP)}function fi(t){return!!t&&!Number.isNaN(Number(t))}function bl(t){return Yo(t,"number",fi)}function ks(t){return!!t&&Number.isInteger(Number(t))}function oP(t){return t.endsWith("%")&&fi(t.slice(0,-1))}function ie(t){return EE.test(t)}function vr(t){return eP.test(t)}const sP=new Set(["length","size","percentage"]);function aP(t){return Yo(t,sP,TE)}function lP(t){return Yo(t,"position",TE)}const cP=new Set(["image","url"]);function uP(t){return Yo(t,cP,pP)}function dP(t){return Yo(t,"",hP)}function xs(){return!0}function Yo(t,e,n){const r=EE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function fP(t){return tP.test(t)&&!nP.test(t)}function TE(){return!1}function hP(t){return rP.test(t)}function pP(t){return iP.test(t)}function mP(){const t=Ae("colors"),e=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),i=Ae("borderColor"),o=Ae("borderRadius"),s=Ae("borderSpacing"),a=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),f=Ae("hueRotate"),p=Ae("invert"),m=Ae("gap"),_=Ae("gradientColorStops"),A=Ae("gradientColorStopPositions"),T=Ae("inset"),x=Ae("margin"),w=Ae("opacity"),v=Ae("padding"),I=Ae("saturate"),N=Ae("scale"),O=Ae("sepia"),$=Ae("skew"),S=Ae("space"),y=Ae("translate"),C=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto",ie,e],P=()=>[ie,e],R=()=>["",Un,gr],q=()=>["auto",fi,ie],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ie],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[fi,bl],ae=()=>[fi,ie];return{cacheSize:500,separator:":",theme:{colors:[xs],spacing:[Un,gr],blur:["none","",vr,ie],brightness:oe(),borderColor:[t],borderRadius:["none","","full",vr,ie],borderSpacing:P(),borderWidth:R(),contrast:oe(),grayscale:B(),hueRotate:ae(),invert:B(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[oP,gr],inset:b(),margin:b(),opacity:oe(),padding:P(),saturate:oe(),scale:oe(),sepia:B(),skew:ae(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ie]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ks,ie]}],basis:[{basis:b()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ks,ie]}],"grid-cols":[{"grid-cols":[xs]}],"col-start-end":[{col:["auto",{span:["full",ks,ie]},ie]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[xs]}],"row-start-end":[{row:["auto",{span:[ks,ie]},ie]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bl]}],"font-family":[{font:[xs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",fi,bl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,gr]}],"underline-offset":[{"underline-offset":["auto",Un,ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),lP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Un,ie]}],"outline-w":[{outline:[Un,gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Un,gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vr,dP]}],"shadow-color":[{shadow:[xs]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vr,ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[I]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[ks,ie]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Un,gr,bl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const gP=XR(mP);function Pe(...t){return gP(VR(t))}const Up=LR("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tn=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?Ii:"button";return L.jsx(s,{className:Pe(Up({variant:e,size:n,className:t})),ref:o,...i})});Tn.displayName="Button";var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4;let m=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(m=64)),r.push(n[f],n[p],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new yP;const m=o<<2|a>>4;if(r.push(m),u!==64){const _=a<<4&240|u>>2;if(r.push(_),p!==64){const A=u<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _P=function(t){const e=IE(t);return SE.encodeByteArray(e,!0)},Hc=function(t){return _P(t).replace(/\./g,"")},AE=function(t){try{return SE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=()=>wP().__FIREBASE_DEFAULTS__,TP=()=>{if(typeof process>"u"||typeof oy>"u")return;const t=oy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AE(t[1]);return e&&JSON.parse(e)},Ru=()=>{try{return EP()||TP()||IP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CE=t=>{var e,n;return(n=(e=Ru())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SP=t=>{const e=CE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RE=()=>{var t;return(t=Ru())===null||t===void 0?void 0:t.config},PE=t=>{var e;return(e=Ru())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hc(JSON.stringify(n)),Hc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function PP(){var t;const e=(t=Ru())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xP(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bP(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function bE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function NP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="FirebaseError";class gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DP,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}}class Vi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?OP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new gn(i,a,r)}}function OP(t,e){return t.replace($P,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $P=/\{\$([^}]+)}/g;function MP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Si(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(sy(o)&&sy(s)){if(!Si(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ms(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ls(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LP(t,e){const n=new VP(t,e);return n.subscribe.bind(n)}class VP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gd),i.error===void 0&&(i.error=Gd),i.complete===void 0&&(i.complete=Gd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1e3,jP=2,zP=4*60*60*1e3,BP=.5;function ay(t,e=UP,n=jP){const r=e*Math.pow(n,t),i=Math.round(BP*r*(Math.random()-.5)*2);return Math.min(zP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class hn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qP(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WP(t){return t===li?void 0:t}function qP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const GP={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},QP=ue.INFO,YP={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},XP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pu{constructor(e){this.name=e,this._logLevel=QP,this._logHandler=XP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const JP=(t,e)=>e.some(n=>t instanceof n);let ly,cy;function ZP(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ek(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,fh=new WeakMap,DE=new WeakMap,Qd=new WeakMap,jp=new WeakMap;function tk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Fr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,t)}).catch(()=>{}),jp.set(e,t),e}function nk(t){if(fh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fh.set(t,e)}let hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rk(t){hh=t(hh)}function ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yd(this),e,...n);return DE.set(r,e.sort?e.sort():[e]),Fr(r)}:ek().includes(t)?function(...e){return t.apply(Yd(this),e),Fr(NE.get(this))}:function(...e){return Fr(t.apply(Yd(this),e))}}function ok(t){return typeof t=="function"?ik(t):(t instanceof IDBTransaction&&nk(t),JP(t,ZP())?new Proxy(t,hh):t)}function Fr(t){if(t instanceof IDBRequest)return tk(t);if(Qd.has(t))return Qd.get(t);const e=ok(t);return e!==t&&(Qd.set(t,e),jp.set(e,t)),e}const Yd=t=>jp.get(t);function OE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Fr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Fr(s.result),c.oldVersion,c.newVersion,Fr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const sk=["get","getKey","getAll","getAllKeys","count"],ak=["put","add","delete","clear"],Xd=new Map;function uy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ak.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sk.includes(n)))return;const o=async function(s,...a){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Xd.set(e,o),o}rk(t=>({...t,get:(e,n,r)=>uy(e,n)||t.get(e,n,r),has:(e,n)=>!!uy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ck(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ck(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",dy="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Pu("@firebase/app"),uk="@firebase/app-compat",dk="@firebase/analytics-compat",fk="@firebase/analytics",hk="@firebase/app-check-compat",pk="@firebase/app-check",mk="@firebase/auth",gk="@firebase/auth-compat",vk="@firebase/database",yk="@firebase/database-compat",_k="@firebase/functions",wk="@firebase/functions-compat",Ek="@firebase/installations",Tk="@firebase/installations-compat",Ik="@firebase/messaging",Sk="@firebase/messaging-compat",Ak="@firebase/performance",Ck="@firebase/performance-compat",Rk="@firebase/remote-config",Pk="@firebase/remote-config-compat",kk="@firebase/storage",xk="@firebase/storage-compat",bk="@firebase/firestore",Nk="@firebase/vertexai-preview",Dk="@firebase/firestore-compat",Ok="firebase",$k="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",Mk={[ph]:"fire-core",[uk]:"fire-core-compat",[fk]:"fire-analytics",[dk]:"fire-analytics-compat",[pk]:"fire-app-check",[hk]:"fire-app-check-compat",[mk]:"fire-auth",[gk]:"fire-auth-compat",[vk]:"fire-rtdb",[yk]:"fire-rtdb-compat",[_k]:"fire-fn",[wk]:"fire-fn-compat",[Ek]:"fire-iid",[Tk]:"fire-iid-compat",[Ik]:"fire-fcm",[Sk]:"fire-fcm-compat",[Ak]:"fire-perf",[Ck]:"fire-perf-compat",[Rk]:"fire-rc",[Pk]:"fire-rc-compat",[kk]:"fire-gcs",[xk]:"fire-gcs-compat",[bk]:"fire-fst",[Dk]:"fire-fst-compat",[Nk]:"fire-vertex","fire-js":"fire-js",[Ok]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,Lk=new Map,gh=new Map;function fy(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nn(t){const e=t.name;if(gh.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,t);for(const n of Wc.values())fy(n,t);for(const n of Lk.values())fy(n,t);return!0}function Fi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Vi("app","Firebase",Vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=$k;function $E(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(n||(n=RE()),!n)throw Ur.create("no-options");const o=Wc.get(i);if(o){if(Si(n,o.options)&&Si(r,o.config))return o;throw Ur.create("duplicate-app",{appName:i})}const s=new KP(i);for(const c of gh.values())s.addComponent(c);const a=new Fk(n,r,s);return Wc.set(i,a),a}function zp(t=mh){const e=Wc.get(t);if(!e&&t===mh&&RE())return $E();if(!e)throw Ur.create("no-app",{appName:t});return e}function tn(t,e,n){var r;let i=(r=Mk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}Nn(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebase-heartbeat-database",jk=1,wa="firebase-heartbeat-store";let Jd=null;function ME(){return Jd||(Jd=OE(Uk,jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),Jd}async function zk(t){try{const n=(await ME()).transaction(wa),r=await n.objectStore(wa).get(LE(t));return await n.done,r}catch(e){if(e instanceof gn)Ai.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function hy(t,e){try{const r=(await ME()).transaction(wa,"readwrite");await r.objectStore(wa).put(e,LE(t)),await r.done}catch(n){if(n instanceof gn)Ai.warn(n.message);else{const r=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function LE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=1024,Hk=30*24*60*60*1e3;class Wk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=py();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Hk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=py(),{heartbeatsToSend:r,unsentEntries:i}=qk(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function py(){return new Date().toISOString().substring(0,10)}function qk(t,e=Bk){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),my(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),my(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?bE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function my(t){return Hc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){Nn(new hn("platform-logger",e=>new lk(e),"PRIVATE")),Nn(new hn("heartbeat",e=>new Wk(e),"PRIVATE")),tn(ph,dy,t),tn(ph,dy,"esm2017"),tn("fire-js","")}Gk("");var Qk="firebase",Yk="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(Qk,Yk,"app");var En=function(){return En=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},En.apply(this,arguments)};function La(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xk(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jk=VE,FE=new Vi("auth","Firebase",VE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Pu("@firebase/auth");function Zk(t,...e){qc.logLevel<=ue.WARN&&qc.warn(`Auth (${Xo}): ${t}`,...e)}function rc(t,...e){qc.logLevel<=ue.ERROR&&qc.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw Bp(t,...e)}function Rn(t,...e){return Bp(t,...e)}function UE(t,e,n){const r=Object.assign(Object.assign({},Jk()),{[e]:n});return new Vi("auth","Firebase",r).create(e,{appName:t.name})}function Yn(t){return UE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FE.create(t,...e)}function ee(t,e,...n){if(!t)throw Bp(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function tr(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ex(){return gy()==="http:"||gy()==="https:"}function gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ex()||kE()||"connection"in navigator)?navigator.onLine:!0}function nx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=RP()||kP()}get(){return tx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e){tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Va(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ei(t,e,n,r,i={}){return zE(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ma(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),jE.fetch()(BE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))})}async function zE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rx),e);try{const i=new sx(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Nl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nl(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Nl(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Nl(t,"user-disabled",s);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UE(t,f,u);pn(t,f)}}catch(i){if(i instanceof gn)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function Fa(t,e,n,r,i={}){const o=await ei(t,e,n,r,i);return"mfaPendingCredential"in o&&pn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function BE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hp(t.config,i):`${t.config.apiScheme}://${i}`}function ox(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),ix.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(t,e,r);return i.customData._tokenResponse=n,i}function vy(t){return t!==void 0&&t.enterprise!==void 0}class ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ox(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lx(t,e){return ei(t,"GET","/v2/recaptchaConfig",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t,e){return ei(t,"POST","/v1/accounts:delete",e)}async function HE(t,e){return ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ux(t,e=!1){const n=tt(t),r=await n.getIdToken(e),i=Wp(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ys(Zd(i.auth_time)),issuedAtTime:Ys(Zd(i.iat)),expirationTime:Ys(Zd(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zd(t){return Number(t)*1e3}function Wp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const i=AE(n);return i?JSON.parse(i):(rc("Failed to decode base64 JWT payload"),null)}catch(i){return rc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yy(t){const e=Wp(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gn&&dx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ea(t,HE(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WE(o.providerUserInfo):[],a=px(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yh(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function hx(t){const e=tt(t);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function px(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WE(t){return t.map(e=>{var{providerId:n}=e,r=La(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,e){const n=await zE(t,{},async()=>{const r=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=BE(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jE.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gx(t,e){return ei(t,"POST","/v2/accounts:revokeToken",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=yy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await mx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new To;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=La(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ux(this,e)}reload(){return hx(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await Ea(this,cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:N,isAnonymous:O,providerData:$,stsTokenManager:S}=n;ee(I&&S,e,"internal-error");const y=To.fromJSON(this.name,S);ee(typeof I=="string",e,"internal-error"),yr(p,e.name),yr(m,e.name),ee(typeof N=="boolean",e,"internal-error"),ee(typeof O=="boolean",e,"internal-error"),yr(_,e.name),yr(A,e.name),yr(T,e.name),yr(x,e.name),yr(w,e.name),yr(v,e.name);const C=new Kn({uid:I,auth:e,email:m,emailVerified:N,displayName:p,isAnonymous:O,photoURL:A,phoneNumber:_,tenantId:T,stsTokenManager:y,createdAt:w,lastLoginAt:v});return $&&Array.isArray($)&&(C.providerData=$.map(k=>Object.assign({},k))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new To;i.updateFromServerResponse(n);const o=new Kn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?WE(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new To;a.updateFromIdToken(r);const c=new Kn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Map;function Gn(t){tr(t instanceof Function,"Expected a class definition");let e=_y.get(t);return e?(tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_y.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qE.type="NONE";const wy=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ic(this.userKey,i.apiKey,o),this.fullPersistenceKey=ic("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Gn(wy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Gn(wy);const s=ic(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(s);if(f){const p=Kn._fromJSON(e,f);u!==o&&(a=p),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Io(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Io(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XE(e))return"Blackberry";if(JE(e))return"Webos";if(qp(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KE(t=dt()){return/firefox\//i.test(t)}function qp(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(t=dt()){return/crios\//i.test(t)}function QE(t=dt()){return/iemobile/i.test(t)}function YE(t=dt()){return/android/i.test(t)}function XE(t=dt()){return/blackberry/i.test(t)}function JE(t=dt()){return/webos/i.test(t)}function ku(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vx(t=dt()){var e;return ku(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yx(){return xP()&&document.documentMode===10}function ZE(t=dt()){return ku(t)||YE(t)||JE(t)||XE(t)||/windows phone/i.test(t)||QE(t)}function _x(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t,e=[]){let n;switch(t){case"Browser":n=Ey(dt());break;case"Worker":n=`${Ey(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e={}){return ei(t,"GET","/v2/passwordPolicy",Zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=6;class Ix{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Tx,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ty(this),this.idTokenSubscription=new Ty(this),this.beforeStateQueue=new wx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HE(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(In(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Yn(this));const n=e?tt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ex(this),n=new Ix(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Zk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ui(t){return tt(t)}class Ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=LP(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ax(t){xu=t}function tT(t){return xu.loadJS(t)}function Cx(){return xu.recaptchaEnterpriseScript}function Rx(){return xu.gapiScript}function Px(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kx="recaptcha-enterprise",xx="NO_RECAPTCHA";class bx{constructor(e){this.type=kx,this.auth=Ui(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{lx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ax(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){const c=window.grecaptcha;vy(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(xx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&vy(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Cx();c.length!==0&&(c+=a),tT(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function Iy(t,e,n,r=!1){const i=new bx(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function _h(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Iy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Iy(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){const n=Fi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Si(o,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function Dx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ox(t,e,n){const r=Ui(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=nT(e),{host:s,port:a}=$x(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Mx()}function nT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $x(t){const e=nT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Sy(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Sy(s)}}}function Sy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function Lx(t,e){return ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(t,e){return Fa(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e){return Fa(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}async function Ux(t,e){return Fa(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Kp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ta(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ta(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,n,"signInWithPassword",Vx);case"emailLink":return Fx(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,r,"signUpPassword",Lx);case"emailLink":return Ux(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return Fa(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="http://localhost";class Ci extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=La(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ci(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bx(t){const e=Ms(Ls(t)).link,n=e?Ms(Ls(e)).deep_link_id:null,r=Ms(Ls(t)).deep_link_id;return(r?Ms(Ls(r)).link:null)||r||n||e||t}class Gp{constructor(e){var n,r,i,o,s,a;const c=Ms(Ls(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,p=zx((i=c.mode)!==null&&i!==void 0?i:null);ee(u&&f&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=f,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Bx(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Ta._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gp.parseLink(n);return ee(r,"argument-error"),Ta._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends rT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ua{constructor(){super("facebook.com")}static credential(e){return Ci._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ci._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ua{constructor(){super("github.com")}static credential(e){return Ci._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ua{constructor(){super("twitter.com")}static credential(e,n){return Ci._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e){return Fa(t,"POST","/v1/accounts:signUp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Kn._fromIdTokenResponse(e,r,i),s=Ay(r);return new Ri({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ay(r);return new Ri({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ay(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends gn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gc(e,n,r,i)}}function iT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(t,o,e,r):o})}async function Wx(t,e,n=!1){const r=await Ea(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ri._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(Yn(r));const i="reauthenticate";try{const o=await Ea(t,iT(r,i,e,t),n);ee(o.idToken,r,"internal-error");const s=Wp(o.idToken);ee(s,r,"internal-error");const{sub:a}=s;return ee(t.uid===a,r,"user-mismatch"),Ri._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t,e,n=!1){if(In(t.app))return Promise.reject(Yn(t));const r="signIn",i=await iT(t,r,e),o=await Ri._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Kx(t,e){return oT(Ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(t){const e=Ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gx(t,e,n){if(In(t.app))return Promise.reject(Yn(t));const r=Ui(t),s=await _h(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hx).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&sT(t),c}),a=await Ri._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Qx(t,e,n){return In(t.app)?Promise.reject(Yn(t)):Kx(tt(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sT(t),r})}function Yx(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function Xx(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function Jx(t,e,n,r){return tt(t).onAuthStateChanged(e,n,r)}function Zx(t){return tt(t).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){const t=dt();return qp(t)||ku(t)}const tb=1e3,nb=10;class lT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eb()&&_x(),this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,c)=>{this.notifyListeners(s,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);yx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nb):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const rb=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cT.type="SESSION";const uT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),c=await ib(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{const u=Qp("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function sb(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function ab(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cb(){return dT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",ub=1,Yc="firebaseLocalStorage",hT="fbase_key";class ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nu(t,e){return t.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function fb(){const t=indexedDB.deleteDatabase(fT);return new ja(t).toPromise()}function wh(){const t=indexedDB.open(fT,ub);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yc,{keyPath:hT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yc)?e(r):(r.close(),await fb(),e(await wh()))})})}async function Cy(t,e,n){const r=Nu(t,!0).put({[hT]:e,value:n});return new ja(r).toPromise()}async function hb(t,e){const n=Nu(t,!1).get(e),r=await new ja(n).toPromise();return r===void 0?null:r.value}function Ry(t,e){const n=Nu(t,!0).delete(e);return new ja(n).toPromise()}const pb=800,mb=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bu._getInstance(cb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ab(),!this.activeServiceWorker)return;this.sender=new ob(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wh();return await Cy(e,Qc,"1"),await Ry(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hb(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ry(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Nu(i,!1).getAll();return new ja(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const gb=pT;new Va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e){return e?Gn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yb(t){return oT(t.auth,new Yp(t),t.bypassAuthState)}function _b(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),qx(n,new Yp(t),t.bypassAuthState)}async function wb(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),Wx(n,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yb;case"linkViaPopup":case"linkViaRedirect":return wb;case"reauthViaPopup":case"reauthViaRedirect":return _b;default:pn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Va(2e3,1e4);class mo extends mT{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Eb.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="pendingRedirect",oc=new Map;class Ib extends mT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const r=await Sb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sb(t,e){const n=Rb(e),r=Cb(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ab(t,e){oc.set(t._key(),e)}function Cb(t){return Gn(t._redirectPersistence)}function Rb(t){return ic(Tb,t.config.apiKey,t.name)}async function Pb(t,e,n=!1){if(In(t.app))return Promise.reject(Yn(t));const r=Ui(t),i=vb(r,e),s=await new Ib(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=10*60*1e3;class xb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Py(e))}saveEventToCache(e){this.cachedEventUids.add(Py(e)),this.lastProcessedEventTime=Date.now()}}function Py(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(t,e={}){return ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ob=/^https?/;async function $b(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nb(t);for(const n of e)try{if(Mb(n))return}catch{}pn(t,"unauthorized-domain")}function Mb(t){const e=vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Ob.test(n))return!1;if(Db.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Va(3e4,6e4);function ky(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vb(t){return new Promise((e,n)=>{var r,i,o;function s(){ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ky(),n(Rn(t,"network-request-failed"))},timeout:Lb.get()})}if(!((i=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pn().gapi)===null||o===void 0)&&o.load)s();else{const a=Px("iframefcb");return Pn()[a]=()=>{gapi.load?s():n(Rn(t,"network-request-failed"))},tT(`${Rx()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw sc=null,e})}let sc=null;function Fb(t){return sc=sc||Vb(t),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Va(5e3,15e3),jb="__/auth/iframe",zb="emulator/auth/iframe",Bb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wb(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hp(e,zb):`https://${t.config.authDomain}/${jb}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=Hb.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ma(r).slice(1)}`}async function qb(t){const e=await Fb(t),n=Pn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:Wb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bb,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Rn(t,"network-request-failed"),a=Pn().setTimeout(()=>{o(s)},Ub.get());function c(){Pn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gb=500,Qb=600,Yb="_blank",Xb="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jb(t,e,n,r=Gb,i=Qb){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Kb),{width:r.toString(),height:i.toString(),top:o,left:s}),u=dt().toLowerCase();n&&(a=GE(u)?Yb:n),KE(u)&&(e=e||Xb,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[_,A])=>`${m}${_}=${A},`,"");if(vx(u)&&a!=="_self")return Zb(e||"",a),new xy(null);const p=window.open(e||"",a,f);ee(p,t,"popup-blocked");try{p.focus()}catch{}return new xy(p)}function Zb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="__/auth/handler",tN="emulator/auth/handler",nN=encodeURIComponent("fac");async function by(t,e,n,r,i,o){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof rT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",MP(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof Ua){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${nN}=${encodeURIComponent(c)}`:"";return`${rN(t)}?${Ma(a).slice(1)}${u}`}function rN({config:t}){return t.emulator?Hp(t,tN):`https://${t.authDomain}/${eN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="webStorageSupport";class iN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=Pb,this._overrideRedirectResult=Ab}async _openPopup(e,n,r,i){var o;tr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await by(e,n,r,vh(),i);return Jb(e,s,Qp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await by(e,n,r,vh(),i);return sb(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(tr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qb(e),r=new xb(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ef,{type:ef},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ef];s!==void 0&&n(!!s),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$b(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZE()||qp()||ku()}}const oN=iN;var Ny="@firebase/auth",Dy="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lN(t){Nn(new hn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eT(t)},u=new Sx(r,i,o,c);return Dx(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new hn("auth-internal",e=>{const n=Ui(e.getProvider("auth").getImmediate());return(r=>new sN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(Ny,Dy,aN(t)),tn(Ny,Dy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=5*60,uN=PE("authIdTokenMaxAge")||cN;let Oy=null;const dN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uN)return;const i=n==null?void 0:n.token;Oy!==i&&(Oy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fN(t=zp()){const e=Fi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nx(t,{popupRedirectResolver:oN,persistence:[gb,rb,uT]}),r=PE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=dN(o.toString());Xx(n,s,()=>s(n.currentUser)),Yx(n,a=>s(a))}}const i=CE("auth");return i&&Ox(n,`http://${i}`),n}function hN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ax({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Rn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",hN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lN("Browser");var $y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,vT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function C(){}C.prototype=y.prototype,S.D=y.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(k,b,P){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return y.prototype[b].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,C){C||(C=0);var k=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)k[b]=y.charCodeAt(C++)|y.charCodeAt(C++)<<8|y.charCodeAt(C++)<<16|y.charCodeAt(C++)<<24;else for(b=0;16>b;++b)k[b]=y[C++]|y[C++]<<8|y[C++]<<16|y[C++]<<24;y=S.g[0],C=S.g[1],b=S.g[2];var P=S.g[3],R=y+(P^C&(b^P))+k[0]+3614090360&4294967295;y=C+(R<<7&4294967295|R>>>25),R=P+(b^y&(C^b))+k[1]+3905402710&4294967295,P=y+(R<<12&4294967295|R>>>20),R=b+(C^P&(y^C))+k[2]+606105819&4294967295,b=P+(R<<17&4294967295|R>>>15),R=C+(y^b&(P^y))+k[3]+3250441966&4294967295,C=b+(R<<22&4294967295|R>>>10),R=y+(P^C&(b^P))+k[4]+4118548399&4294967295,y=C+(R<<7&4294967295|R>>>25),R=P+(b^y&(C^b))+k[5]+1200080426&4294967295,P=y+(R<<12&4294967295|R>>>20),R=b+(C^P&(y^C))+k[6]+2821735955&4294967295,b=P+(R<<17&4294967295|R>>>15),R=C+(y^b&(P^y))+k[7]+4249261313&4294967295,C=b+(R<<22&4294967295|R>>>10),R=y+(P^C&(b^P))+k[8]+1770035416&4294967295,y=C+(R<<7&4294967295|R>>>25),R=P+(b^y&(C^b))+k[9]+2336552879&4294967295,P=y+(R<<12&4294967295|R>>>20),R=b+(C^P&(y^C))+k[10]+4294925233&4294967295,b=P+(R<<17&4294967295|R>>>15),R=C+(y^b&(P^y))+k[11]+2304563134&4294967295,C=b+(R<<22&4294967295|R>>>10),R=y+(P^C&(b^P))+k[12]+1804603682&4294967295,y=C+(R<<7&4294967295|R>>>25),R=P+(b^y&(C^b))+k[13]+4254626195&4294967295,P=y+(R<<12&4294967295|R>>>20),R=b+(C^P&(y^C))+k[14]+2792965006&4294967295,b=P+(R<<17&4294967295|R>>>15),R=C+(y^b&(P^y))+k[15]+1236535329&4294967295,C=b+(R<<22&4294967295|R>>>10),R=y+(b^P&(C^b))+k[1]+4129170786&4294967295,y=C+(R<<5&4294967295|R>>>27),R=P+(C^b&(y^C))+k[6]+3225465664&4294967295,P=y+(R<<9&4294967295|R>>>23),R=b+(y^C&(P^y))+k[11]+643717713&4294967295,b=P+(R<<14&4294967295|R>>>18),R=C+(P^y&(b^P))+k[0]+3921069994&4294967295,C=b+(R<<20&4294967295|R>>>12),R=y+(b^P&(C^b))+k[5]+3593408605&4294967295,y=C+(R<<5&4294967295|R>>>27),R=P+(C^b&(y^C))+k[10]+38016083&4294967295,P=y+(R<<9&4294967295|R>>>23),R=b+(y^C&(P^y))+k[15]+3634488961&4294967295,b=P+(R<<14&4294967295|R>>>18),R=C+(P^y&(b^P))+k[4]+3889429448&4294967295,C=b+(R<<20&4294967295|R>>>12),R=y+(b^P&(C^b))+k[9]+568446438&4294967295,y=C+(R<<5&4294967295|R>>>27),R=P+(C^b&(y^C))+k[14]+3275163606&4294967295,P=y+(R<<9&4294967295|R>>>23),R=b+(y^C&(P^y))+k[3]+4107603335&4294967295,b=P+(R<<14&4294967295|R>>>18),R=C+(P^y&(b^P))+k[8]+1163531501&4294967295,C=b+(R<<20&4294967295|R>>>12),R=y+(b^P&(C^b))+k[13]+2850285829&4294967295,y=C+(R<<5&4294967295|R>>>27),R=P+(C^b&(y^C))+k[2]+4243563512&4294967295,P=y+(R<<9&4294967295|R>>>23),R=b+(y^C&(P^y))+k[7]+1735328473&4294967295,b=P+(R<<14&4294967295|R>>>18),R=C+(P^y&(b^P))+k[12]+2368359562&4294967295,C=b+(R<<20&4294967295|R>>>12),R=y+(C^b^P)+k[5]+4294588738&4294967295,y=C+(R<<4&4294967295|R>>>28),R=P+(y^C^b)+k[8]+2272392833&4294967295,P=y+(R<<11&4294967295|R>>>21),R=b+(P^y^C)+k[11]+1839030562&4294967295,b=P+(R<<16&4294967295|R>>>16),R=C+(b^P^y)+k[14]+4259657740&4294967295,C=b+(R<<23&4294967295|R>>>9),R=y+(C^b^P)+k[1]+2763975236&4294967295,y=C+(R<<4&4294967295|R>>>28),R=P+(y^C^b)+k[4]+1272893353&4294967295,P=y+(R<<11&4294967295|R>>>21),R=b+(P^y^C)+k[7]+4139469664&4294967295,b=P+(R<<16&4294967295|R>>>16),R=C+(b^P^y)+k[10]+3200236656&4294967295,C=b+(R<<23&4294967295|R>>>9),R=y+(C^b^P)+k[13]+681279174&4294967295,y=C+(R<<4&4294967295|R>>>28),R=P+(y^C^b)+k[0]+3936430074&4294967295,P=y+(R<<11&4294967295|R>>>21),R=b+(P^y^C)+k[3]+3572445317&4294967295,b=P+(R<<16&4294967295|R>>>16),R=C+(b^P^y)+k[6]+76029189&4294967295,C=b+(R<<23&4294967295|R>>>9),R=y+(C^b^P)+k[9]+3654602809&4294967295,y=C+(R<<4&4294967295|R>>>28),R=P+(y^C^b)+k[12]+3873151461&4294967295,P=y+(R<<11&4294967295|R>>>21),R=b+(P^y^C)+k[15]+530742520&4294967295,b=P+(R<<16&4294967295|R>>>16),R=C+(b^P^y)+k[2]+3299628645&4294967295,C=b+(R<<23&4294967295|R>>>9),R=y+(b^(C|~P))+k[0]+4096336452&4294967295,y=C+(R<<6&4294967295|R>>>26),R=P+(C^(y|~b))+k[7]+1126891415&4294967295,P=y+(R<<10&4294967295|R>>>22),R=b+(y^(P|~C))+k[14]+2878612391&4294967295,b=P+(R<<15&4294967295|R>>>17),R=C+(P^(b|~y))+k[5]+4237533241&4294967295,C=b+(R<<21&4294967295|R>>>11),R=y+(b^(C|~P))+k[12]+1700485571&4294967295,y=C+(R<<6&4294967295|R>>>26),R=P+(C^(y|~b))+k[3]+2399980690&4294967295,P=y+(R<<10&4294967295|R>>>22),R=b+(y^(P|~C))+k[10]+4293915773&4294967295,b=P+(R<<15&4294967295|R>>>17),R=C+(P^(b|~y))+k[1]+2240044497&4294967295,C=b+(R<<21&4294967295|R>>>11),R=y+(b^(C|~P))+k[8]+1873313359&4294967295,y=C+(R<<6&4294967295|R>>>26),R=P+(C^(y|~b))+k[15]+4264355552&4294967295,P=y+(R<<10&4294967295|R>>>22),R=b+(y^(P|~C))+k[6]+2734768916&4294967295,b=P+(R<<15&4294967295|R>>>17),R=C+(P^(b|~y))+k[13]+1309151649&4294967295,C=b+(R<<21&4294967295|R>>>11),R=y+(b^(C|~P))+k[4]+4149444226&4294967295,y=C+(R<<6&4294967295|R>>>26),R=P+(C^(y|~b))+k[11]+3174756917&4294967295,P=y+(R<<10&4294967295|R>>>22),R=b+(y^(P|~C))+k[2]+718787259&4294967295,b=P+(R<<15&4294967295|R>>>17),R=C+(P^(b|~y))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var C=y-this.blockSize,k=this.B,b=this.h,P=0;P<y;){if(b==0)for(;P<=C;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<y;)if(k[b++]=S.charCodeAt(P++),b==this.blockSize){i(this,k),b=0;break}}else for(;P<y;)if(k[b++]=S[P++],b==this.blockSize){i(this,k),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var C=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=C&255,C/=256;for(this.u(S),S=Array(16),y=C=0;4>y;++y)for(var k=0;32>k;k+=8)S[C++]=this.g[y]>>>k&255;return S};function o(S,y){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=y(S)}function s(S,y){this.h=y;for(var C=[],k=!0,b=S.length-1;0<=b;b--){var P=S[b]|0;k&&P==y||(C[b]=P,k=!1)}this.g=C}var a={};function c(S){return-128<=S&&128>S?o(S,function(y){return new s([y|0],0>y?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return x(u(-S));for(var y=[],C=1,k=0;S>=C;k++)y[k]=S/C|0,C*=4294967296;return new s(y,0)}function f(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return x(f(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(y,8)),k=p,b=0;b<S.length;b+=8){var P=Math.min(8,S.length-b),R=parseInt(S.substring(b,b+P),y);8>P?(P=u(Math.pow(y,P)),k=k.j(P).add(u(R))):(k=k.j(C),k=k.add(u(R)))}return k}var p=c(0),m=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-x(this).m();for(var S=0,y=1,C=0;C<this.g.length;C++){var k=this.i(C);S+=(0<=k?k:4294967296+k)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A(this))return"0";if(T(this))return"-"+x(this).toString(S);for(var y=u(Math.pow(S,6)),C=this,k="";;){var b=N(C,y).g;C=w(C,b.j(y));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=b,A(C))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function A(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function T(S){return S.h==-1}t.l=function(S){return S=w(this,S),T(S)?-1:A(S)?0:1};function x(S){for(var y=S.g.length,C=[],k=0;k<y;k++)C[k]=~S.g[k];return new s(C,~S.h).add(m)}t.abs=function(){return T(this)?x(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),C=[],k=0,b=0;b<=y;b++){var P=k+(this.i(b)&65535)+(S.i(b)&65535),R=(P>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);k=R>>>16,P&=65535,R&=65535,C[b]=R<<16|P}return new s(C,C[C.length-1]&-2147483648?-1:0)};function w(S,y){return S.add(x(y))}t.j=function(S){if(A(this)||A(S))return p;if(T(this))return T(S)?x(this).j(x(S)):x(x(this).j(S));if(T(S))return x(this.j(x(S)));if(0>this.l(_)&&0>S.l(_))return u(this.m()*S.m());for(var y=this.g.length+S.g.length,C=[],k=0;k<2*y;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var b=0;b<S.g.length;b++){var P=this.i(k)>>>16,R=this.i(k)&65535,q=S.i(b)>>>16,X=S.i(b)&65535;C[2*k+2*b]+=R*X,v(C,2*k+2*b),C[2*k+2*b+1]+=P*X,v(C,2*k+2*b+1),C[2*k+2*b+1]+=R*q,v(C,2*k+2*b+1),C[2*k+2*b+2]+=P*q,v(C,2*k+2*b+2)}for(k=0;k<y;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=y;k<2*y;k++)C[k]=0;return new s(C,0)};function v(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function I(S,y){this.g=S,this.h=y}function N(S,y){if(A(y))throw Error("division by zero");if(A(S))return new I(p,p);if(T(S))return y=N(x(S),y),new I(x(y.g),x(y.h));if(T(y))return y=N(S,x(y)),new I(x(y.g),y.h);if(30<S.g.length){if(T(S)||T(y))throw Error("slowDivide_ only works with positive integers.");for(var C=m,k=y;0>=k.l(S);)C=O(C),k=O(k);var b=$(C,1),P=$(k,1);for(k=$(k,2),C=$(C,2);!A(k);){var R=P.add(k);0>=R.l(S)&&(b=b.add(C),P=R),k=$(k,1),C=$(C,1)}return y=w(S,b.j(y)),new I(b,y)}for(b=p;0<=S.l(y);){for(C=Math.max(1,Math.floor(S.m()/y.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=u(C),R=P.j(y);T(R)||0<R.l(S);)C-=k,P=u(C),R=P.j(y);A(P)&&(P=m),b=b.add(P),S=w(S,R)}return new I(b,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),C=[],k=0;k<y;k++)C[k]=this.i(k)&S.i(k);return new s(C,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),C=[],k=0;k<y;k++)C[k]=this.i(k)|S.i(k);return new s(C,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),C=[],k=0;k<y;k++)C[k]=this.i(k)^S.i(k);return new s(C,this.h^S.h)};function O(S){for(var y=S.g.length+1,C=[],k=0;k<y;k++)C[k]=S.i(k)<<1|S.i(k-1)>>>31;return new s(C,S.h)}function $(S,y){var C=y>>5;y%=32;for(var k=S.g.length-C,b=[],P=0;P<k;P++)b[P]=0<y?S.i(P+C)>>>y|S.i(P+C+1)<<32-y:S.i(P+C);return new s(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,vi=s}).apply(typeof $y<"u"?$y:typeof self<"u"?self:typeof window<"u"?window:{});var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yT,_T,Vs,wT,ac,Eh,ET,TT,IT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,h){return l==Array.prototype||l==Object.prototype||(l[d]=h.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dl=="object"&&Dl];for(var d=0;d<l.length;++d){var h=l[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var h=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var D=l[E];if(!(D in h))break e;h=h[D]}l=l[l.length-1],E=h[l],d=d(E),d!=E&&d!=null&&e(h,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var h=0,E=!1,D={next:function(){if(!E&&h<l.length){var M=h++;return{value:d(M,l[M]),done:!1}}return E=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function f(l,d,h){return l.call.apply(l.bind,arguments)}function p(l,d,h){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,E),l.apply(d,D)}}return function(){return l.apply(d,arguments)}}function m(l,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(l,d){var h=Array.prototype.slice.call(arguments,1);return function(){var E=h.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function A(l,d){function h(){}h.prototype=d.prototype,l.aa=d.prototype,l.prototype=new h,l.prototype.constructor=l,l.Qb=function(E,D,M){for(var z=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)z[Ee-2]=arguments[Ee];return d.prototype[D].apply(E,z)}}function T(l){const d=l.length;if(0<d){const h=Array(d);for(let E=0;E<d;E++)h[E]=l[E];return h}return[]}function x(l,d){for(let h=1;h<arguments.length;h++){const E=arguments[h];if(c(E)){const D=l.length||0,M=E.length||0;l.length=D+M;for(let z=0;z<M;z++)l[D+z]=E[z]}else l.push(E)}}class w{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(l){return/^[\s\xa0]*$/.test(l)}function I(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function $(l,d,h){for(const E in l)d.call(h,l[E],E,l)}function S(l,d){for(const h in l)d.call(void 0,l[h],h,l)}function y(l){const d={};for(const h in l)d[h]=l[h];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let h,E;for(let D=1;D<arguments.length;D++){E=arguments[D];for(h in E)l[h]=E[h];for(let M=0;M<C.length;M++)h=C[M],Object.prototype.hasOwnProperty.call(E,h)&&(l[h]=E[h])}}function b(l){var d=1;l=l.split(":");const h=[];for(;0<d&&l.length;)h.push(l.shift()),d--;return l.length&&h.push(l.join(":")),h}function P(l){a.setTimeout(()=>{throw l},0)}function R(){var l=B;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class q{constructor(){this.h=this.g=null}add(d,h){const E=X.get();E.set(d,h),this.h?this.h.next=E:this.g=E,this.h=E}}var X=new w(()=>new se,l=>l.reset());class se{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let J,j=!1,B=new q,Z=()=>{const l=a.Promise.resolve(void 0);J=()=>{l.then(oe)}};var oe=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(h){P(h)}var d=X;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}j=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return l}();function qe(l,d){if(_e.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var h=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(O){e:{try{N(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=l.fromElement:h=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Me[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&qe.aa.h.call(this)}}A(qe,_e);var Me={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),we=0;function ze(l,d,h,E,D){this.listener=l,this.proxy=null,this.src=d,this.type=h,this.capture=!!E,this.ha=D,this.key=++we,this.da=this.fa=!1}function ve(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fe(l){this.src=l,this.g={},this.h=0}fe.prototype.add=function(l,d,h,E,D){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var z=nt(l,d,E,D);return-1<z?(d=l[z],h||(d.fa=!1)):(d=new ze(d,this.src,M,!!E,D),d.fa=h,l.push(d)),d};function pe(l,d){var h=d.type;if(h in l.g){var E=l.g[h],D=Array.prototype.indexOf.call(E,d,void 0),M;(M=0<=D)&&Array.prototype.splice.call(E,D,1),M&&(ve(d),l.g[h].length==0&&(delete l.g[h],l.h--))}}function nt(l,d,h,E){for(var D=0;D<l.length;++D){var M=l[D];if(!M.da&&M.listener==d&&M.capture==!!h&&M.ha==E)return D}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),Vt={};function Ln(l,d,h,E,D){if(E&&E.once)return Xa(l,d,h,E,D);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Ln(l,d[M],h,E,D);return null}return h=od(h),l&&l[K]?l.K(d,h,u(E)?!!E.capture:!!E,D):ur(l,d,h,!1,E,D)}function ur(l,d,h,E,D,M){if(!d)throw Error("Invalid event type");var z=u(D)?!!D.capture:!!D,Ee=rd(l);if(Ee||(l[rt]=Ee=new fe(l)),h=Ee.add(d,h,E,z,M),h.proxy)return h;if(E=nd(),h.proxy=E,E.src=l,E.listener=h,l.addEventListener)Xe||(D=z),D===void 0&&(D=!1),l.addEventListener(d.toString(),E,D);else if(l.attachEvent)l.attachEvent(Ym(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return h}function nd(){function l(h){return d.call(l.src,l.listener,h)}const d=C1;return l}function Xa(l,d,h,E,D){if(Array.isArray(d)){for(var M=0;M<d.length;M++)Xa(l,d[M],h,E,D);return null}return h=od(h),l&&l[K]?l.L(d,h,u(E)?!!E.capture:!!E,D):ur(l,d,h,!0,E,D)}function Ja(l,d,h,E,D){if(Array.isArray(d))for(var M=0;M<d.length;M++)Ja(l,d[M],h,E,D);else E=u(E)?!!E.capture:!!E,h=od(h),l&&l[K]?(l=l.i,d=String(d).toString(),d in l.g&&(M=l.g[d],h=nt(M,h,E,D),-1<h&&(ve(M[h]),Array.prototype.splice.call(M,h,1),M.length==0&&(delete l.g[d],l.h--)))):l&&(l=rd(l))&&(d=l.g[d.toString()],l=-1,d&&(l=nt(d,h,E,D)),(h=-1<l?d[l]:null)&&dr(h))}function dr(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[K])pe(d.i,l);else{var h=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(h,E,l.capture):d.detachEvent?d.detachEvent(Ym(h),E):d.addListener&&d.removeListener&&d.removeListener(E),(h=rd(d))?(pe(h,l),h.h==0&&(h.src=null,d[rt]=null)):ve(l)}}}function Ym(l){return l in Vt?Vt[l]:Vt[l]="on"+l}function C1(l,d){if(l.da)l=!0;else{d=new qe(d,this);var h=l.listener,E=l.ha||l.src;l.fa&&dr(l),l=h.call(E,d)}return l}function rd(l){return l=l[rt],l instanceof fe?l:null}var id="__closure_events_fn_"+(1e9*Math.random()>>>0);function od(l){return typeof l=="function"?l:(l[id]||(l[id]=function(d){return l.handleEvent(d)}),l[id])}function ft(){ae.call(this),this.i=new fe(this),this.M=this,this.F=null}A(ft,ae),ft.prototype[K]=!0,ft.prototype.removeEventListener=function(l,d,h,E){Ja(this,l,d,h,E)};function It(l,d){var h,E=l.F;if(E)for(h=[];E;E=E.F)h.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new _e(d,l);else if(d instanceof _e)d.target=d.target||l;else{var D=d;d=new _e(E,l),k(d,D)}if(D=!0,h)for(var M=h.length-1;0<=M;M--){var z=d.g=h[M];D=Za(z,E,!0,d)&&D}if(z=d.g=l,D=Za(z,E,!0,d)&&D,D=Za(z,E,!1,d)&&D,h)for(M=0;M<h.length;M++)z=d.g=h[M],D=Za(z,E,!1,d)&&D}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var h=l.g[d],E=0;E<h.length;E++)ve(h[E]);delete l.g[d],l.h--}}this.F=null},ft.prototype.K=function(l,d,h,E){return this.i.add(String(l),d,!1,h,E)},ft.prototype.L=function(l,d,h,E){return this.i.add(String(l),d,!0,h,E)};function Za(l,d,h,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,M=0;M<d.length;++M){var z=d[M];if(z&&!z.da&&z.capture==h){var Ee=z.listener,it=z.ha||z.src;z.fa&&pe(l.i,z),D=Ee.call(it,E)!==!1&&D}}return D&&!E.defaultPrevented}function Xm(l,d,h){if(typeof l=="function")h&&(l=m(l,h));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function Jm(l){l.g=Xm(()=>{l.g=null,l.i&&(l.i=!1,Jm(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class R1 extends ae{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Jm(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(l){ae.call(this),this.h=l,this.g={}}A(as,ae);var Zm=[];function eg(l){$(l.g,function(d,h){this.g.hasOwnProperty(h)&&dr(d)},l),l.g={}}as.prototype.N=function(){as.aa.N.call(this),eg(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sd=a.JSON.stringify,P1=a.JSON.parse,k1=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ad(){}ad.prototype.h=null;function tg(l){return l.h||(l.h=l.i())}function ng(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ld(){_e.call(this,"d")}A(ld,_e);function cd(){_e.call(this,"c")}A(cd,_e);var ni={},rg=null;function el(){return rg=rg||new ft}ni.La="serverreachability";function ig(l){_e.call(this,ni.La,l)}A(ig,_e);function cs(l){const d=el();It(d,new ig(d))}ni.STAT_EVENT="statevent";function og(l,d){_e.call(this,ni.STAT_EVENT,l),this.stat=d}A(og,_e);function St(l){const d=el();It(d,new og(d,l))}ni.Ma="timingevent";function sg(l,d){_e.call(this,ni.Ma,l),this.size=d}A(sg,_e);function us(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ds(){this.g=!0}ds.prototype.xa=function(){this.g=!1};function x1(l,d,h,E,D,M){l.info(function(){if(l.g)if(M)for(var z="",Ee=M.split("&"),it=0;it<Ee.length;it++){var me=Ee[it].split("=");if(1<me.length){var ht=me[0];me=me[1];var pt=ht.split("_");z=2<=pt.length&&pt[1]=="type"?z+(ht+"="+me+"&"):z+(ht+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+E+") [attempt "+D+"]: "+d+`
`+h+`
`+z})}function b1(l,d,h,E,D,M,z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+D+"]: "+d+`
`+h+`
`+M+" "+z})}function Wi(l,d,h,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+D1(l,h)+(E?" "+E:"")})}function N1(l,d){l.info(function(){return"TIMEOUT: "+d})}ds.prototype.info=function(){};function D1(l,d){if(!l.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(l=0;l<h.length;l++)if(Array.isArray(h[l])){var E=h[l];if(!(2>E.length)){var D=E[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return sd(h)}catch{return d}}var tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ag={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ud;function nl(){}A(nl,ad),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},ud=new nl;function fr(l,d,h,E){this.j=l,this.i=d,this.l=h,this.R=E||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}var cg={},dd={};function fd(l,d,h){l.L=1,l.v=sl(Vn(d)),l.m=h,l.P=!0,ug(l,null)}function ug(l,d){l.F=Date.now(),rl(l),l.A=Vn(l.v);var h=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Sg(h.i,"t",E),l.C=0,h=l.j.J,l.h=new lg,l.g=zg(l.j,h?d:null,!l.m),0<l.O&&(l.M=new R1(m(l.Y,l,l.g),l.O)),d=l.U,h=l.g,E=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(Zm[0]=D.toString()),D=Zm);for(var M=0;M<D.length;M++){var z=Ln(h,D[M],E||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),cs(),x1(l.i,l.u,l.A,l.l,l.R,l.m)}fr.prototype.ca=function(l){l=l.target;const d=this.M;d&&Fn(l)==3?d.j():this.Y(l)},fr.prototype.Y=function(l){try{if(l==this.g)e:{const pt=Fn(this.g);var d=this.g.Ba();const Gi=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||bg(this.g)))){this.J||pt!=4||d==7||(d==8||0>=Gi?cs(3):cs(2)),hd(this);var h=this.g.Z();this.X=h;t:if(dg(this)){var E=bg(this.g);l="";var D=E.length,M=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),fs(this);var z="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(M&&d==D-1)});E.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=h==200,b1(this.i,this.u,this.A,this.l,this.R,pt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,it=this.g;if((Ee=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ee)){var me=Ee;break t}}me=null}if(h=me)Wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pd(this,h);else{this.o=!1,this.s=3,St(12),ri(this),fs(this);break e}}if(this.P){h=!0;let on;for(;!this.J&&this.C<z.length;)if(on=O1(this,z),on==dd){pt==4&&(this.s=4,St(14),h=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==cg){this.s=4,St(15),Wi(this.i,this.l,z,"[Invalid Chunk]"),h=!1;break}else Wi(this.i,this.l,on,null),pd(this,on);if(dg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||z.length!=0||this.h.h||(this.s=1,St(16),h=!1),this.o=this.o&&h,!h)Wi(this.i,this.l,z,"[Invalid Chunked Response]"),ri(this),fs(this);else if(0<z.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),wd(ht),ht.M=!0,St(11))}}else Wi(this.i,this.l,z,null),pd(this,z);pt==4&&ri(this),this.o&&!this.J&&(pt==4?Vg(this.j,this):(this.o=!1,rl(this)))}else X1(this.g),h==400&&0<z.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),ri(this),fs(this)}}}catch{}finally{}};function dg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function O1(l,d){var h=l.C,E=d.indexOf(`
`,h);return E==-1?dd:(h=Number(d.substring(h,E)),isNaN(h)?cg:(E+=1,E+h>d.length?dd:(d=d.slice(E,E+h),l.C=E+h,d)))}fr.prototype.cancel=function(){this.J=!0,ri(this)};function rl(l){l.S=Date.now()+l.I,fg(l,l.I)}function fg(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=us(m(l.ba,l),d)}function hd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}fr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(N1(this.i,this.A),this.L!=2&&(cs(),St(17)),ri(this),this.s=2,fs(this)):fg(this,this.S-l)};function fs(l){l.j.G==0||l.J||Vg(l.j,l)}function ri(l){hd(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,eg(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function pd(l,d){try{var h=l.j;if(h.G!=0&&(h.g==l||md(h.h,l))){if(!l.K&&md(h.h,l)&&h.G==3){try{var E=h.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var D=E;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<l.F)dl(h),cl(h);else break e;_d(h),St(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=us(m(h.Za,h),6e3));if(1>=mg(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else oi(h,11)}else if((l.K||h.g==l)&&dl(h),!v(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let me=D[d];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];const ht=me[3];ht!=null&&(h.la=ht,h.j.info("VER="+h.la));const pt=me[4];pt!=null&&(h.Aa=pt,h.j.info("SVER="+h.Aa));const Gi=me[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(E=1.5*Gi,h.L=E,h.j.info("backChannelRequestTimeoutMs_="+E)),E=h;const on=l.g;if(on){const hl=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hl){var M=E.h;M.g||hl.indexOf("spdy")==-1&&hl.indexOf("quic")==-1&&hl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(gd(M,M.h),M.h=null))}if(E.D){const Ed=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Ed&&(E.ya=Ed,Se(E.I,E.D,Ed))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-l.F,h.j.info("Handshake RTT: "+h.R+"ms")),E=h;var z=l;if(E.qa=jg(E,E.J?E.ia:null,E.W),z.K){gg(E.h,z);var Ee=z,it=E.L;it&&(Ee.I=it),Ee.B&&(hd(Ee),rl(Ee)),E.g=z}else Mg(E);0<h.i.length&&ul(h)}else me[0]!="stop"&&me[0]!="close"||oi(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?oi(h,7):yd(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}cs(4)}catch{}}var $1=class{constructor(l,d){this.g=l,this.map=d}};function hg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function mg(l){return l.h?1:l.g?l.g.size:0}function md(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function gd(l,d){l.g?l.g.add(d):l.h=d}function gg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}hg.prototype.cancel=function(){if(this.i=vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function vg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const h of l.g.values())d=d.concat(h.D);return d}return T(l.i)}function M1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],h=l.length,E=0;E<h;E++)d.push(l[E]);return d}d=[],h=0;for(E in l)d[h++]=l[E];return d}function L1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var h=0;h<l;h++)d.push(h);return d}d=[],h=0;for(const E in l)d[h++]=E;return d}}}function yg(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var h=L1(l),E=M1(l),D=E.length,M=0;M<D;M++)d.call(void 0,E[M],h&&h[M],l)}var _g=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function V1(l,d){if(l){l=l.split("&");for(var h=0;h<l.length;h++){var E=l[h].indexOf("="),D=null;if(0<=E){var M=l[h].substring(0,E);D=l[h].substring(E+1)}else M=l[h];d(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ii(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ii){this.h=l.h,il(this,l.j),this.o=l.o,this.g=l.g,ol(this,l.s),this.l=l.l;var d=l.i,h=new ms;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),wg(this,h),this.m=l.m}else l&&(d=String(l).match(_g))?(this.h=!1,il(this,d[1]||"",!0),this.o=hs(d[2]||""),this.g=hs(d[3]||"",!0),ol(this,d[4]),this.l=hs(d[5]||"",!0),wg(this,d[6]||"",!0),this.m=hs(d[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}ii.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ps(d,Eg,!0),":");var h=this.g;return(h||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ps(d,Eg,!0),"@"),l.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&l.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&l.push("/"),l.push(ps(h,h.charAt(0)=="/"?j1:U1,!0))),(h=this.i.toString())&&l.push("?",h),(h=this.m)&&l.push("#",ps(h,B1)),l.join("")};function Vn(l){return new ii(l)}function il(l,d,h){l.j=h?hs(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function ol(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function wg(l,d,h){d instanceof ms?(l.i=d,H1(l.i,l.h)):(h||(d=ps(d,z1)),l.i=new ms(d,l.h))}function Se(l,d,h){l.i.set(d,h)}function sl(l){return Se(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function hs(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ps(l,d,h){return typeof l=="string"?(l=encodeURI(l).replace(d,F1),h&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function F1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Eg=/[#\/\?@]/g,U1=/[#\?:]/g,j1=/[#\?]/g,z1=/[#\?@]/g,B1=/#/g;function ms(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function hr(l){l.g||(l.g=new Map,l.h=0,l.i&&V1(l.i,function(d,h){l.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ms.prototype,t.add=function(l,d){hr(this),this.i=null,l=qi(this,l);var h=this.g.get(l);return h||this.g.set(l,h=[]),h.push(d),this.h+=1,this};function Tg(l,d){hr(l),d=qi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Ig(l,d){return hr(l),d=qi(l,d),l.g.has(d)}t.forEach=function(l,d){hr(this),this.g.forEach(function(h,E){h.forEach(function(D){l.call(d,D,E,this)},this)},this)},t.na=function(){hr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let E=0;E<d.length;E++){const D=l[E];for(let M=0;M<D.length;M++)h.push(d[E])}return h},t.V=function(l){hr(this);let d=[];if(typeof l=="string")Ig(this,l)&&(d=d.concat(this.g.get(qi(this,l))));else{l=Array.from(this.g.values());for(let h=0;h<l.length;h++)d=d.concat(l[h])}return d},t.set=function(l,d){return hr(this),this.i=null,l=qi(this,l),Ig(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Sg(l,d,h){Tg(l,d),0<h.length&&(l.i=null,l.g.set(qi(l,d),T(h)),l.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var E=d[h];const M=encodeURIComponent(String(E)),z=this.V(E);for(E=0;E<z.length;E++){var D=M;z[E]!==""&&(D+="="+encodeURIComponent(String(z[E]))),l.push(D)}}return this.i=l.join("&")};function qi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function H1(l,d){d&&!l.j&&(hr(l),l.i=null,l.g.forEach(function(h,E){var D=E.toLowerCase();E!=D&&(Tg(this,E),Sg(this,D,h))},l)),l.j=d}function W1(l,d){const h=new ds;if(a.Image){const E=new Image;E.onload=_(pr,h,"TestLoadImage: loaded",!0,d,E),E.onerror=_(pr,h,"TestLoadImage: error",!1,d,E),E.onabort=_(pr,h,"TestLoadImage: abort",!1,d,E),E.ontimeout=_(pr,h,"TestLoadImage: timeout",!1,d,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function q1(l,d){const h=new ds,E=new AbortController,D=setTimeout(()=>{E.abort(),pr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(M=>{clearTimeout(D),M.ok?pr(h,"TestPingServer: ok",!0,d):pr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),pr(h,"TestPingServer: error",!1,d)})}function pr(l,d,h,E,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),E(h)}catch{}}function K1(){this.g=new k1}function G1(l,d,h){const E=h||"";try{yg(l,function(D,M){let z=D;u(D)&&(z=sd(D)),d.push(E+M+"="+encodeURIComponent(z))})}catch(D){throw d.push(E+"type="+encodeURIComponent("_badmap")),D}}function gs(l){this.l=l.Ub||null,this.j=l.eb||!1}A(gs,ad),gs.prototype.g=function(){return new al(this.l,this.j)},gs.prototype.i=function(l){return function(){return l}}({});function al(l,d){ft.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(al,ft),t=al.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,ys(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ag(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ag(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?vs(this):ys(this),this.readyState==3&&Ag(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,vs(this))},t.Qa=function(l){this.g&&(this.response=l,vs(this))},t.ga=function(){this.g&&vs(this)};function vs(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ys(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,l.push(h[0]+": "+h[1]),h=d.next();return l.join(`\r
`)};function ys(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Cg(l){let d="";return $(l,function(h,E){d+=E,d+=":",d+=h,d+=`\r
`}),d}function vd(l,d,h){e:{for(E in h){var E=!1;break e}E=!0}E||(h=Cg(h),typeof l=="string"?h!=null&&encodeURIComponent(String(h)):Se(l,d,h))}function Le(l){ft.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Le,ft);var Q1=/^https?$/i,Y1=["POST","PUT"];t=Le.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,h,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ud.g(),this.v=this.o?tg(this.o):tg(ud),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(M){Rg(this,M);return}if(l=h||"",h=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var D in E)h.set(D,E[D]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const M of E.keys())h.set(M,E.get(M));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(h.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Y1,d,void 0))||E||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of h)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xg(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Rg(this,M)}};function Rg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Pg(l),ll(l)}function Pg(l){l.A||(l.A=!0,It(l,"complete"),It(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,It(this,"complete"),It(this,"abort"),ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kg(this):this.bb())},t.bb=function(){kg(this)};function kg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Fn(l)!=4||l.Z()!=2)){if(l.u&&Fn(l)==4)Xm(l.Ea,0,l);else if(It(l,"readystatechange"),Fn(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var E;if(E=z===0){var D=String(l.D).match(_g)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),E=!Q1.test(D?D.toLowerCase():"")}h=E}if(h)It(l,"complete"),It(l,"success");else{l.m=6;try{var M=2<Fn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Pg(l)}}finally{ll(l)}}}}function ll(l,d){if(l.g){xg(l);const h=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||It(l,"ready");try{h.onreadystatechange=E}catch{}}}function xg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Fn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),P1(d)}};function bg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function X1(l){const d={};l=(l.g&&2<=Fn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(v(l[E]))continue;var h=b(l[E]);const D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const M=d[D]||[];d[D]=M,M.push(h)}S(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(l,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[l]||d}function Ng(l){this.Aa=0,this.i=[],this.j=new ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,l),this.cb=_s("retryDelaySeedMs",1e4,l),this.Wa=_s("forwardChannelMaxRetries",2,l),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hg(l&&l.concurrentRequestLimit),this.Da=new K1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ng.prototype,t.la=8,t.G=1,t.connect=function(l,d,h,E){St(0),this.W=l,this.H=d||{},h&&E!==void 0&&(this.H.OSID=h,this.H.OAID=E),this.F=this.X,this.I=jg(this,null,this.W),ul(this)};function yd(l){if(Dg(l),l.G==3){var d=l.U++,h=Vn(l.I);if(Se(h,"SID",l.K),Se(h,"RID",d),Se(h,"TYPE","terminate"),ws(l,h),d=new fr(l,l.j,d),d.L=2,d.v=sl(Vn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=zg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rl(d)}Ug(l)}function cl(l){l.g&&(wd(l),l.g.cancel(),l.g=null)}function Dg(l){cl(l),l.u&&(a.clearTimeout(l.u),l.u=null),dl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ul(l){if(!pg(l.h)&&!l.s){l.s=!0;var d=l.Ga;J||Z(),j||(J(),j=!0),B.add(d,l),l.B=0}}function J1(l,d){return mg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=us(m(l.Ga,l,d),Fg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new fr(this,this.j,l);let M=this.o;if(this.S&&(M?(M=y(M),k(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var E=this.i[h];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=$g(this,D,d),h=Vn(this.I),Se(h,"RID",l),Se(h,"CVER",22),this.D&&Se(h,"X-HTTP-Session-Id",this.D),ws(this,h),M&&(this.O?d="headers="+encodeURIComponent(String(Cg(M)))+"&"+d:this.m&&vd(h,this.m,M)),gd(this.h,D),this.Ua&&Se(h,"TYPE","init"),this.P?(Se(h,"$req",d),Se(h,"SID","null"),D.T=!0,fd(D,h,null)):fd(D,h,d),this.G=2}}else this.G==3&&(l?Og(this,l):this.i.length==0||pg(this.h)||Og(this))};function Og(l,d){var h;d?h=d.l:h=l.U++;const E=Vn(l.I);Se(E,"SID",l.K),Se(E,"RID",h),Se(E,"AID",l.T),ws(l,E),l.m&&l.o&&vd(E,l.m,l.o),h=new fr(l,l.j,h,l.B+1),l.m===null&&(h.H=l.o),d&&(l.i=d.D.concat(l.i)),d=$g(l,h,1e3),h.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gd(l.h,h),fd(h,E,d)}function ws(l,d){l.H&&$(l.H,function(h,E){Se(d,E,h)}),l.l&&yg({},function(h,E){Se(d,E,h)})}function $g(l,d,h){h=Math.min(l.i.length,h);var E=l.l?m(l.l.Na,l.l,l):null;e:{var D=l.i;let M=-1;for(;;){const z=["count="+h];M==-1?0<h?(M=D[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let Ee=!0;for(let it=0;it<h;it++){let me=D[it].g;const ht=D[it].map;if(me-=M,0>me)M=Math.max(0,D[it].g-100),Ee=!1;else try{G1(ht,z,"req"+me+"_")}catch{E&&E(ht)}}if(Ee){E=z.join("&");break e}}}return l=l.i.splice(0,h),d.D=l,E}function Mg(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;J||Z(),j||(J(),j=!0),B.add(d,l),l.v=0}}function _d(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=us(m(l.Fa,l),Fg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Lg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=us(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),cl(this),Lg(this))};function wd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Lg(l){l.g=new fr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Vn(l.qa);Se(d,"RID","rpc"),Se(d,"SID",l.K),Se(d,"AID",l.T),Se(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Se(d,"TO",l.ja),Se(d,"TYPE","xmlhttp"),ws(l,d),l.m&&l.o&&vd(d,l.m,l.o),l.L&&(l.g.I=l.L);var h=l.g;l=l.ia,h.L=1,h.v=sl(Vn(d)),h.m=null,h.P=!0,ug(h,l)}t.Za=function(){this.C!=null&&(this.C=null,cl(this),_d(this),St(19))};function dl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Vg(l,d){var h=null;if(l.g==d){dl(l),wd(l),l.g=null;var E=2}else if(md(l.h,d))h=d.D,gg(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=l.B;E=el(),It(E,new sg(E,h)),ul(l)}else Mg(l);else if(D=d.s,D==3||D==0&&0<d.X||!(E==1&&J1(l,d)||E==2&&_d(l)))switch(h&&0<h.length&&(d=l.h,d.i=d.i.concat(h)),D){case 1:oi(l,5);break;case 4:oi(l,10);break;case 3:oi(l,6);break;default:oi(l,2)}}}function Fg(l,d){let h=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(h*=2),h*d}function oi(l,d){if(l.j.info("Error code "+d),d==2){var h=m(l.fb,l),E=l.Xa;const D=!E;E=new ii(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||il(E,"https"),sl(E),D?W1(E.toString(),h):q1(E.toString(),h)}else St(2);l.G=0,l.l&&l.l.sa(d),Ug(l),Dg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Ug(l){if(l.G=0,l.ka=[],l.l){const d=vg(l.h);(d.length!=0||l.i.length!=0)&&(x(l.ka,d),x(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function jg(l,d,h){var E=h instanceof ii?Vn(h):new ii(h);if(E.g!="")d&&(E.g=d+"."+E.g),ol(E,E.s);else{var D=a.location;E=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var M=new ii(null);E&&il(M,E),d&&(M.g=d),D&&ol(M,D),h&&(M.l=h),E=M}return h=l.D,d=l.ya,h&&d&&Se(E,h,d),Se(E,"VER",l.la),ws(l,E),E}function zg(l,d,h){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Le(new gs({eb:h})):new Le(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bg(){}t=Bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fl(){}fl.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){ft.call(this),this.g=new Ng(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!v(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ki(this)}A(Ft,ft),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){yd(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var h={};h.__data__=l,l=h}else this.u&&(h={},h.__data__=sd(l),l=h);d.i.push(new $1(d.Ya++,l)),d.G==3&&ul(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,yd(this.g),delete this.g,Ft.aa.N.call(this)};function Hg(l){ld.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const h in d){l=h;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}A(Hg,ld);function Wg(){cd.call(this),this.status=1}A(Wg,cd);function Ki(l){this.g=l}A(Ki,Bg),Ki.prototype.ua=function(){It(this.g,"a")},Ki.prototype.ta=function(l){It(this.g,new Hg(l))},Ki.prototype.sa=function(l){It(this.g,new Wg)},Ki.prototype.ra=function(){It(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,IT=function(){return new fl},TT=function(){return el()},ET=ni,Eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,ac=tl,ag.COMPLETE="complete",wT=ag,ng.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Vs=ng,_T=gs,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,yT=Le}).apply(typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{});const My="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Pu("@firebase/firestore");function bs(){return Pi.logLevel}function W(t,...e){if(Pi.logLevel<=ue.DEBUG){const n=e.map(Xp);Pi.debug(`Firestore (${Zo}): ${t}`,...n)}}function nr(t,...e){if(Pi.logLevel<=ue.ERROR){const n=e.map(Xp);Pi.error(`Firestore (${Zo}): ${t}`,...n)}}function $o(t,...e){if(Pi.logLevel<=ue.WARN){const n=e.map(Xp);Pi.warn(`Firestore (${Zo}): ${t}`,...n)}}function Xp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function Ie(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new ST(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new yt(e)}}class vN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _N{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new _N(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=EN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Ye(0,0))}static max(){return new ne(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Ia{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const TN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Ia{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return TN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Fe.fromString(e))}static fromName(e){return new Q(Fe.fromString(e).popFirst(5))}static empty(){return new Q(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Fe(e.slice()))}}function IN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Wr(i,Q.empty(),e)}function SN(t){return new Wr(t.readTime,t.key,-1)}class Wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wr(ne.min(),Q.empty(),-1)}static max(){return new Wr(ne.max(),Q.empty(),-1)}}function AN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==CN)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function PN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jp.oe=-1;function Du(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function kN(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=o??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new st(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vy(this.data.getIterator())}getIteratorFrom(e){return new Vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class Vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new ct(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new RT("Invalid base64 string: "+o):o}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=xN.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function em(t){const e=t.mapValue.fields.__previous_value__;return Zp(e)?em(e):e}function Sa(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zp(t)?4:NN(t)?9007199254740991:10:te()}function Dn(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sa(t).isEqual(Sa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qr(i.timestampValue),a=qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ki(i.bytesValue).isEqual(ki(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),a=He(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Mo(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ly(s)!==Ly(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Dn(s[c],a[c])))return!1;return!0}(t,e);default:return te()}}function Ca(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=He(o.integerValue||o.doubleValue),c=He(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Fy(t.timestampValue,e.timestampValue);case 4:return Fy(Sa(t),Sa(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ki(o),c=ki(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const f=ge(a[u],c[u]);if(f!==0)return f}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ge(He(o.latitude),He(s.latitude));return a!==0?a:ge(He(o.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){const f=Lo(a[u],c[u]);if(f)return f}return ge(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===$l.mapValue&&s===$l.mapValue)return 0;if(o===$l.mapValue)return 1;if(s===$l.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=ge(c[p],f[p]);if(m!==0)return m;const _=Lo(a[c[p]],u[f[p]]);if(_!==0)return _}return ge(c.length,f.length)}(t.mapValue,e.mapValue);default:throw te()}}function Fy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=qr(t),r=qr(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function Vo(t){return Th(t)}function Th(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Th(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Th(n.fields[s])}`;return i+"}"}(t.mapValue):te()}function Ih(t){return!!t&&"integerValue"in t}function tm(t){return!!t&&"arrayValue"in t}function Uy(t){return!!t&&"nullValue"in t}function jy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lc(t){return!!t&&"mapValue"in t}function Xs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new bt(Xs(this.value))}}function PT(t){const e=[];return ji(t.fields,(n,r)=>{const i=new at([n]);if(lc(r)){const o=PT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,ne.min(),ne.min(),ne.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,ne.min(),ne.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ne.min(),ne.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function zy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=Lo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function By(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class Ge extends kT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $N(e,n,r):n==="array-contains"?new VN(e,r):n==="in"?new FN(e,r):n==="not-in"?new UN(e,r):n==="array-contains-any"?new jN(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MN(e,r):new LN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lo(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends kT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new On(e,n)}matches(e){return xT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xT(t){return t.op==="and"}function bT(t){return ON(t)&&xT(t)}function ON(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function Sh(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(bT(t))return t.filters.map(e=>Sh(e)).join(",");{const e=t.filters.map(n=>Sh(n)).join(",");return`${t.op}(${e})`}}function NT(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&NT(s,i.filters[a]),!0):!1}(t,e):void te()}function DT(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(t):"Filter"}class $N extends Ge{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class MN extends Ge{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LN extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class VN extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tm(n)&&Ca(n.arrayValue,this.value)}}class FN extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ca(this.value.arrayValue,n)}}class UN extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ca(this.value.arrayValue,n)}}class jN extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Hy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zN(t,e,n,r,i,o,s)}function nm(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),e.ue=n}return e.ue}function rm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!By(t.startAt,e.startAt)&&By(t.endAt,e.endAt)}function Ah(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BN(t,e,n,r,i,o,s,a){return new Ou(t,e,n,r,i,o,s,a)}function im(t){return new Ou(t)}function Wy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HN(t){return t.collectionGroup!==null}function Js(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(at.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Zc(o,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new Zc(at.keyField(),r))}return e.ce}function kn(t){const e=re(t);return e.le||(e.le=WN(e,Js(t))),e.le}function WN(t,e){if(t.limitType==="F")return Hy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Zc(i.field,o)});const n=t.endAt?new Jc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jc(t.startAt.position,t.startAt.inclusive):null;return Hy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ch(t,e,n){return new Ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $u(t,e){return rm(kn(t),kn(e))&&t.limitType===e.limitType}function $T(t){return`${nm(kn(t))}|lt:${t.limitType}`}function Zi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DT(i)).join(", ")}]`),Du(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vo(i)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function Mu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Js(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){const u=zy(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Js(r),i)||r.endAt&&!function(s,a,c){const u=zy(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Js(r),i))}(t,e)}function qN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MT(t){return(e,n)=>{let r=!1;for(const i of Js(t)){const o=KN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function KN(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Lo(c,u):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Oe(Q.comparator);function rr(){return GN}const LT=new Oe(Q.comparator);function Fs(...t){let e=LT;for(const n of t)e=e.insert(n.key,n);return e}function VT(t){let e=LT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return Zs()}function FT(){return Zs()}function Zs(){return new es(t=>t.toString(),(t,e)=>t.isEqual(e))}const QN=new Oe(Q.comparator),YN=new ct(Q.comparator);function le(...t){let e=YN;for(const n of t)e=e.add(n);return e}const XN=new ct(ge);function JN(){return XN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function jT(t){return{integerValue:""+t}}function ZN(t,e){return kN(e)?jT(e):UT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this._=void 0}}function eD(t,e,n){return t instanceof eu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Zp(o)&&(o=em(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Fo?BT(t,e):t instanceof Uo?HT(t,e):function(i,o){const s=zT(i,o),a=qy(s)+qy(i.Pe);return Ih(s)&&Ih(i.Pe)?jT(a):UT(i.serializer,a)}(t,e)}function tD(t,e,n){return t instanceof Fo?BT(t,e):t instanceof Uo?HT(t,e):n}function zT(t,e){return t instanceof tu?function(r){return Ih(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class eu extends Lu{}class Fo extends Lu{constructor(e){super(),this.elements=e}}function BT(t,e){const n=WT(e);for(const r of t.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uo extends Lu{constructor(e){super(),this.elements=e}}function HT(t,e){let n=WT(e);for(const r of t.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class tu extends Lu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qy(t){return He(t.integerValue||t.doubleValue)}function WT(t){return tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.field=e,this.transform=n}}function nD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fo&&i instanceof Fo||r instanceof Uo&&i instanceof Uo?Mo(r.elements,i.elements,Dn):r instanceof tu&&i instanceof tu?Dn(r.Pe,i.Pe):r instanceof eu&&i instanceof eu}(t.transform,e.transform)}class rD{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vu{}function KT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QT(t.key,xn.none()):new Ha(t.key,t.data,xn.none());{const n=t.data,r=bt.empty();let i=new ct(at.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ti(t.key,r,new Bt(i.toArray()),xn.none())}}function iD(t,e,n){t instanceof Ha?function(i,o,s){const a=i.value.clone(),c=Gy(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(i,o,s){if(!cc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Gy(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(GT(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ea(t,e,n,r){return t instanceof Ha?function(o,s,a,c){if(!cc(o.precondition,s))return a;const u=o.value.clone(),f=Qy(o.fieldTransforms,c,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ti?function(o,s,a,c){if(!cc(o.precondition,s))return a;const u=Qy(o.fieldTransforms,c,s),f=s.data;return f.setAll(GT(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return cc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function oD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=zT(r.transform,i||null);o!=null&&(n===null&&(n=bt.empty()),n.set(r.field,o))}return n||null}function Ky(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mo(r,i,(o,s)=>nD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ha extends Vu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ti extends Vu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gy(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tD(s,a,n[i]))}return r}function Qy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,eD(o,s,e))}return r}class QT extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ea(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ea(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=KT(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,r)=>Ky(n,r))&&Mo(this.baseMutations,e.baseMutations,(n,r)=>Ky(n,r))}}class om{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return QN}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new om(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,de;function uD(t){switch(t){default:return te();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function YT(t){if(t===void 0)return nr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Be.OK:return F.OK;case Be.CANCELLED:return F.CANCELLED;case Be.UNKNOWN:return F.UNKNOWN;case Be.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Be.INTERNAL:return F.INTERNAL;case Be.UNAVAILABLE:return F.UNAVAILABLE;case Be.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Be.NOT_FOUND:return F.NOT_FOUND;case Be.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Be.ABORTED:return F.ABORTED;case Be.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Be.DATA_LOSS:return F.DATA_LOSS;default:return te()}}(de=Be||(Be={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new vi([4294967295,4294967295],0);function Yy(t){const e=dD().encode(t),n=new vT;return n.update(e),new Uint8Array(n.digest())}function Xy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,o],0)]}class sm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Us(`Invalid padding: ${n}`);if(r<0)throw new Us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Us(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Us(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(fD)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Yy(e),[r,i]=Xy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new sm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Yy(e),[r,i]=Xy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Us extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fu(ne.min(),i,new Oe(ge),rr(),le())}}class Wa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wa(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class XT{constructor(e,n){this.targetId=e,this.me=n}}class JT{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jy{constructor(){this.fe=0,this.ge=e_(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=le(),n=le(),r=le();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Wa(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=e_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hD{constructor(e){this.Le=e,this.Be=new Map,this.ke=rr(),this.qe=Zy(),this.Qe=new Oe(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Ah(o))if(r===0){const s=new Q(o.path);this.Ue(n,s,wt.newNoDocument(s,ne.min()))}else Ie(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ki(r).toUint8Array()}catch(c){if(c instanceof RT)return $o("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new sm(s,i,o)}catch(c){return $o(c instanceof Us?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Ah(a.target)){const c=new Q(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,wt.newNoDocument(c,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=le();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Fu(e,n,this.Qe,this.ke,r);return this.ke=rr(),this.qe=Zy(),this.Qe=new Oe(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zy(){return new Oe(Q.comparator)}function e_(){return new Oe(Q.comparator)}const pD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gD={and:"AND",or:"OR"};class vD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rh(t,e){return t.useProto3Json||Du(e)?e:{value:e}}function nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yD(t,e){return nu(t,e.toTimestamp())}function bn(t){return Ie(!!t),ne.fromTimestamp(function(n){const r=qr(n);return new Ye(r.seconds,r.nanos)}(t))}function am(t,e){return Ph(t,e).canonicalString()}function Ph(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eI(t){const e=Fe.fromString(t);return Ie(oI(e)),e}function kh(t,e){return am(t.databaseId,e.path)}function tf(t,e){const n=eI(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(nI(n))}function tI(t,e){return am(t.databaseId,e)}function _D(t){const e=eI(t);return e.length===4?Fe.emptyPath():nI(e)}function xh(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nI(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t_(t,e,n){return{name:kh(t,e),fields:n.value.mapValue.fields}}function wD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(Ie(f===void 0||typeof f=="string"),Tt.fromBase64String(f||"")):(Ie(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Tt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const f=u.code===void 0?F.UNKNOWN:YT(u.code);return new G(f,u.message||"")}(s);n=new JT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tf(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):ne.min(),a=new bt({mapValue:{fields:r.document.fields}}),c=wt.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new uc(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tf(t,r.document),o=r.readTime?bn(r.readTime):ne.min(),s=wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new uc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tf(t,r.document),o=r.removedTargetIds||[];n=new uc([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new cD(i,o),a=r.targetId;n=new XT(a,s)}}return n}function ED(t,e){let n;if(e instanceof Ha)n={update:t_(t,e.key,e.value)};else if(e instanceof QT)n={delete:kh(t,e.key)};else if(e instanceof ti)n={update:t_(t,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof sD))return te();n={verify:kh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof eu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:yD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(t,e.precondition)),n}function TD(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(ne.min())&&(s=bn(o)),new rD(s,i.transformResults||[])}(n,e))):[]}function ID(t,e){return{documents:[tI(t,e.path)]}}function SD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tI(t,i);const o=function(u){if(u.length!==0)return iI(On.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:eo(m.field),direction:RD(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Rh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function AD(t){let e=_D(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const m=rI(p);return m instanceof On&&bT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new Zc(to(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Du(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,_=p.values||[];return new Jc(_,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,_=p.values||[];return new Jc(_,m)}(n.endAt)),BN(e,i,s,o,a,"F",c,u)}function CD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=to(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=to(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=to(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=to(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(to(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>rI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function RD(t){return pD[t]}function PD(t){return mD[t]}function kD(t){return gD[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return at.fromServerFormat(t.fieldPath)}function iI(t){return t instanceof Ge?function(n){if(n.op==="=="){if(jy(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(Uy(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jy(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(Uy(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:PD(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(i=>iI(i));return r.length===1?r[0]:{compositeFilter:{op:kD(n.op),filters:r}}}(t):te()}function xD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=Tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.ct=e}}function ND(t){const e=AD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this._n=new OD}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Wr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new jo(0)}static Ln(){return new jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ea(r.mutation,i,Bt.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Fs();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=rr();const s=Zs(),a=function(){return Zs()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof ti)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),ea(f.mutation,u,f.mutation.getFieldMask(),Ye.now())):s.set(u.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var p;return a.set(u,new MD(f,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zs();let i=new Oe((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||Bt.empty();f=a.applyToLocalView(u,f),r.set(c,f);const p=(i.get(a.batchId)||le()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,f=c.value,p=FT();f.forEach(m=>{if(!o.has(m)){const _=KT(n.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(hi());let a=-1,c=o;return s.next(u=>V.forEach(u,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?V.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,le())).next(f=>({batchId:a,changes:VT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Fs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Fs();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,c=>{const u=function(p,m){return new Ou(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{const f=u.getKey();s.get(f)===null&&(s=s.insert(f,wt.newInvalidDocument(f)))});let a=Fs();return s.forEach((c,u)=>{const f=o.get(c);f!==void 0&&ea(f.mutation,u,Bt.empty(),Ye.now()),Mu(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:ND(i.bundledQuery),readTime:bn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.overlays=new Oe(Q.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hi();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=hi(),o=n.length+1,s=new Q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((u,f)=>u-f);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=hi(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=hi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lD(n,r));let o=this.hr.get(n);o===void 0&&(o=le(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Pr=new ct(Je.Ir),this.Tr=new ct(Je.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Je(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Q(new Fe([])),r=new Je(n,e),i=new Je(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Q(new Fe([])),r=new Je(n,e),i=new Je(n,e+1);let o=le();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Je(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Q.comparator(e.key,n.key)||ge(e.pr,n.pr)}static Er(e,n){return ge(e.pr,n.pr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(Je.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new aD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ge);return n.forEach(i=>{const o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Q.isDocumentKey(o)||(o=o.child(""));const s=new Je(new Q(o),0);let a=new ct(ge);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},s),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const o=new Je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Je(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.vr=e,this.docs=function(){return new Oe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=rr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=rr();const s=n.path,a=new Q(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||AN(SN(f),r)<=0||(i.has(f.key)||Mu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zD(this)}getSize(e){return V.resolve(this.size)}}class zD extends $D{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.persistence=e,this.Mr=new es(n=>nm(n),rm),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lm,this.targetCount=0,this.Lr=jo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.Br={},this.overlays={},this.kr=new Jp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new BD(this),this.indexManager=new DD,this.remoteDocumentCache=function(i){return new jD(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new bD(n),this.$r=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new UD(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new WD(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class WD extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.zr=new lm,this.jr=null}static Hr(e){return new cm(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=Q.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=le(),i=le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new um(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return bP()?8:PN(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new qD;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(bs()<=ue.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Zi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(bs()<=ue.DEBUG&&W("QueryEngine","Query:",Zi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(bs()<=ue.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Zi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):V.resolve())}ji(e,n){if(Wy(n))return V.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ch(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=le(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,a);return this.Xi(n,u,s,c.readTime)?this.ji(e,Ch(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return Wy(n)||i.isEqual(ne.min())?V.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?V.resolve(null):(bs()<=ue.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zi(n)),this.es(e,s,n,IN(i,-1)).next(a=>a))})}Zi(e,n){let r=new ct(MT(e));return n.forEach((i,o)=>{Mu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return bs()<=ue.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Zi(n)),this.zi.getDocumentsMatchingQuery(e,n,Wr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Oe(ge),this.rs=new es(o=>nm(o),rm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function QD(t,e,n,r){return new GD(t,e,n,r)}async function sI(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=le();for(const u of i){s.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of o){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function YD(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){const p=u.batch,m=p.keys();let _=V.resolve();return m.forEach(A=>{_=_.next(()=>f.getEntry(c,A)).next(T=>{const x=u.docVersions.get(A);Ie(x!==null),T.version.compareTo(x)<0&&(p.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),f.addEntry(T)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aI(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XD(t,e){const n=re(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Tt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(T,x,w){return T.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,_,f)&&a.push(n.Qr.updateTargetData(o,_))});let c=rr(),u=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(JD(o,s,e.documentUpdates).next(f=>{c=f.cs,u=f.ls})),!r.isEqual(ne.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ns=i,o))}function JD(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=rr();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:s,ls:i}})}function ZD(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function e2(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new xr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function bh(t,e,n){const r=re(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ba(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function n_(t,e,n){const r=re(t);let i=ne.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,f){const p=re(c),m=p.rs.get(f);return m!==void 0?V.resolve(p.ns.get(m)):p.Qr.getTargetData(u,f)}(r,s,kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:le())).next(a=>(t2(r,qN(e),a),{documents:a,hs:o})))}function t2(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class r_{constructor(){this.activeTargetIds=JN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n2{constructor(){this.no=new r_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=null;function nf(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class s2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=nf(),c=this.vo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(n,c,u,i).then(f=>(W("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw $o("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=i2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=nf();return new Promise((s,a)=>{const c=new yT;c.setWithCredentials(!0),c.listenOnce(wT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ac.NO_ERROR:const f=c.getResponseJson();W(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ac.TIMEOUT:W(vt,`RPC '${e}' ${o} timed out`),a(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const p=c.getStatus();if(W(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const A=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(_.status);a(new G(A,_.message))}else a(new G(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(F.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{W(vt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);W(vt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=nf(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IT(),a=TT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new _T({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=o.join("");W(vt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=s.createWebChannel(f,c);let m=!1,_=!1;const A=new o2({lo:x=>{_?W(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(W(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),W(vt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},ho:()=>p.close()}),T=(x,w,v)=>{x.listen(w,I=>{try{v(I)}catch(N){setTimeout(()=>{throw N},0)}})};return T(p,Vs.EventType.OPEN,()=>{_||(W(vt,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),T(p,Vs.EventType.CLOSE,()=>{_||(_=!0,W(vt,`RPC '${e}' stream ${i} transport closed`),A.po())}),T(p,Vs.EventType.ERROR,x=>{_||(_=!0,$o(vt,`RPC '${e}' stream ${i} transport errored:`,x),A.po(new G(F.UNAVAILABLE,"The operation could not be completed")))}),T(p,Vs.EventType.MESSAGE,x=>{var w;if(!_){const v=x.data[0];Ie(!!v);const I=v,N=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(N){W(vt,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let $=function(C){const k=Be[C];if(k!==void 0)return YT(k)}(O),S=N.message;$===void 0&&($=F.INTERNAL,S="Unknown error status: "+O+" with message "+N.message),_=!0,A.po(new G($,S)),p.close()}else W(vt,`RPC '${e}' stream ${i} received:`,v),A.yo(v)}}),T(a,ET.STAT_EVENT,x=>{x.stat===Eh.PROXY?W(vt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Eh.NOPROXY&&W(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}function rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return new vD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,i,o,s,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a2 extends cI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=wD(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?bn(s.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=xh(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=Ah(c)?{documents:ID(o,c)}:{query:SD(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ZT(o,s.resumeToken);const u=Rh(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=nu(o,s.snapshotVersion.toTimestamp());const u=Rh(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=CD(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=xh(this.serializer),n.removeTarget=e,this.i_(n)}}class l2 extends cI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=TD(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.A_(r,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=xh(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ED(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Ph(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Ph(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class u2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(nr(n),this.y_=!1):W("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{zi(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=re(c);u.M_.add(4),await qa(u),u.N_.set("Unknown"),u.M_.delete(4),await ju(u)}(this))})}),this.N_=new u2(r,i)}}async function ju(t){if(zi(t))for(const e of t.x_)await e(!0)}async function qa(t){for(const e of t.x_)await e(!1)}function uI(t,e){const n=re(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),pm(n)?hm(n):ts(n).Xo()&&fm(n,e))}function dm(t,e){const n=re(t),r=ts(n);n.F_.delete(e),r.Xo()&&dI(n,e),n.F_.size===0&&(r.Xo()?r.n_():zi(n)&&n.N_.set("Unknown"))}function fm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ts(t).P_(e)}function dI(t,e){t.L_.xe(e),ts(t).I_(e)}function hm(t){t.L_=new hD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ts(t).start(),t.N_.w_()}function pm(t){return zi(t)&&!ts(t).Zo()&&t.F_.size>0}function zi(t){return re(t).M_.size===0}function fI(t){t.L_=void 0}async function f2(t){t.N_.set("Online")}async function h2(t){t.F_.forEach((e,n)=>{fm(t,e)})}async function p2(t,e){fI(t),pm(t)?(t.N_.D_(e),hm(t)):t.N_.set("Unknown")}async function m2(t,e,n){if(t.N_.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ru(t,r)}else if(e instanceof uc?t.L_.Ke(e):e instanceof XT?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{const r=await aI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=o.F_.get(u);f&&o.F_.set(u,f.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const f=o.F_.get(c);if(!f)return;o.F_.set(c,f.withResumeToken(Tt.EMPTY_BYTE_STRING,f.snapshotVersion)),dI(o,c);const p=new xr(f.target,c,u,f.sequenceNumber);fm(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await ru(t,r)}}async function ru(t,e,n){if(!Ba(e))throw e;t.M_.add(1),await qa(t),t.N_.set("Offline"),n||(n=()=>aI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await ju(t)})}function hI(t,e){return e().catch(n=>ru(t,n,e))}async function zu(t){const e=re(t),n=Kr(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;g2(e);)try{const i=await ZD(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,v2(e,i)}catch(i){await ru(e,i)}pI(e)&&mI(e)}function g2(t){return zi(t)&&t.v_.length<10}function v2(t,e){t.v_.push(e);const n=Kr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function pI(t){return zi(t)&&!Kr(t).Zo()&&t.v_.length>0}function mI(t){Kr(t).start()}async function y2(t){Kr(t).V_()}async function _2(t){const e=Kr(t);for(const n of t.v_)e.d_(n.mutations)}async function w2(t,e,n){const r=t.v_.shift(),i=om.from(r,e,n);await hI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zu(t)}async function E2(t,e){e&&Kr(t).E_&&await async function(r,i){if(function(s){return uD(s)&&s!==F.ABORTED}(i.code)){const o=r.v_.shift();Kr(r).t_(),await hI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zu(r)}}(t,e),pI(t)&&mI(t)}async function o_(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=zi(n);n.M_.add(3),await qa(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await ju(n)}async function T2(t,e){const n=re(t);e?(n.M_.delete(2),await ju(n)):e||(n.M_.add(2),await qa(n),n.N_.set("Unknown"))}function ts(t){return t.B_||(t.B_=function(n,r,i){const o=re(n);return o.f_(),new a2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:f2.bind(null,t),To:h2.bind(null,t),Ao:p2.bind(null,t),h_:m2.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),pm(t)?hm(t):t.N_.set("Unknown")):(await t.B_.stop(),fI(t))})),t.B_}function Kr(t){return t.k_||(t.k_=function(n,r,i){const o=re(n);return o.f_(),new l2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:y2.bind(null,t),Ao:E2.bind(null,t),R_:_2.bind(null,t),A_:w2.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await zu(t)):(await t.k_.stop(),t.v_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new mm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Ba(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Fs(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Ao(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.q_=new Oe(Q.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):te():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zo{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new zo(e,n,Ao.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class S2{constructor(){this.queries=new es(e=>$T(e),$u),this.onlineState="Unknown",this.z_=new Set}}async function A2(t,e){const n=re(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new I2,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=gm(s,`Initialization of query '${Zi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&vm(n)}async function C2(t,e){const n=re(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R2(t,e){const n=re(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&vm(n)}function P2(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function vm(t){t.z_.forEach(e=>{e.next()})}var Nh,a_;(a_=Nh||(Nh={})).J_="default",a_.Cache="cache";class k2{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Nh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.key=e}}class vI{constructor(e){this.key=e}}class x2{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=le(),this.mutatedKeys=le(),this.Ia=MT(e),this.Ta=new Ao(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new s_,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),_=Mu(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;m&&_?m.data.isEqual(_.data)?A!==T&&(r.track({type:3,doc:_}),x=!0):this.Ra(m,_)||(r.track({type:2,doc:_}),x=!0,(c&&this.Ia(_,c)>0||u&&this.Ia(_,u)<0)&&(a=!0)):!m&&_?(r.track({type:0,doc:_}),x=!0):m&&!_&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(a=!0)),x&&(_?(s=s.add(_),o=T?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((f,p)=>function(_,A){const T=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return T(_)-T(A)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,s.length!==0||u?{snapshot:new zo(this.query,e.Ta,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new s_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=le(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new vI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new gI(r))}),n}pa(e){this.la=e.hs,this.Pa=le();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return zo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class b2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N2{constructor(e){this.key=e,this.wa=!1}}class D2{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new es(a=>$T(a),$u),this.Da=new Map,this.Ca=new Set,this.va=new Oe(Q.comparator),this.Fa=new Map,this.Ma=new lm,this.xa={},this.Oa=new Map,this.Na=jo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function O2(t,e,n=!0){const r=II(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await yI(r,e,n,!0),i}async function $2(t,e){const n=II(t);await yI(n,e,!0,!1)}async function yI(t,e,n,r){const i=await e2(t.localStore,kn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await M2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uI(t.remoteStore,i),a}async function M2(t,e,n,r,i){t.Ba=(p,m,_)=>async function(T,x,w,v){let I=x.view.da(w);I.Xi&&(I=await n_(T.localStore,x.query,!1).then(({documents:S})=>x.view.da(S,I)));const N=v&&v.targetChanges.get(x.targetId),O=v&&v.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(I,T.isPrimaryClient,N,O);return c_(T,x.targetId,$.fa),$.snapshot}(t,p,m,_);const o=await n_(t.localStore,e,!0),s=new x2(e,o.hs),a=s.da(o.documents),c=Wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);c_(t,n,u.fa);const f=new b2(e,n,s);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function L2(t,e,n){const r=re(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!$u(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dm(r.remoteStore,i.targetId),Dh(r,i.targetId)}).catch(za)):(Dh(r,i.targetId),await bh(r.localStore,i.targetId,!0))}async function V2(t,e){const n=re(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dm(n.remoteStore,r.targetId))}async function F2(t,e,n){const r=q2(t);try{const i=await function(s,a){const c=re(s),u=Ye.now(),f=a.reduce((_,A)=>_.add(A.key),le());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=rr(),T=le();return c.os.getEntries(_,f).next(x=>{A=x,A.forEach((w,v)=>{v.isValidDocument()||(T=T.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,A)).next(x=>{p=x;const w=[];for(const v of a){const I=oD(v,p.get(v.key).overlayedDocument);I!=null&&w.push(new ti(v.key,I,PT(I.value.mapValue),xn.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,w,a)}).next(x=>{m=x;const w=x.applyToLocalDocumentSet(p,T);return c.documentOverlayCache.saveOverlays(_,x.batchId,w)})}).then(()=>({batchId:m.batchId,changes:VT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.xa[s.currentUser.toKey()];u||(u=new Oe(ge)),u=u.insert(a,c),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ka(r,i.changes),await zu(r.remoteStore)}catch(i){const o=gm(i,"Failed to persist write");n.reject(o)}}async function _I(t,e){const n=re(t);try{const r=await XD(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Ie(s.wa):i.removedDocuments.size>0&&(Ie(s.wa),s.wa=!1))}),await Ka(n,r,e)}catch(r){await za(r)}}function l_(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=re(s);c.onlineState=a;let u=!1;c.queries.forEach((f,p)=>{for(const m of p.U_)m.j_(a)&&(u=!0)}),u&&vm(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U2(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Oe(Q.comparator);s=s.insert(o,wt.newNoDocument(o,ne.min()));const a=le().add(o),c=new Fu(ne.min(),new Map,new Oe(ge),s,a);await _I(r,c),r.va=r.va.remove(o),r.Fa.delete(e),ym(r)}else await bh(r.localStore,e,!1).then(()=>Dh(r,e,n)).catch(za)}async function j2(t,e){const n=re(t),r=e.batch.batchId;try{const i=await YD(n.localStore,e);EI(n,r,null),wI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ka(n,i)}catch(i){await za(i)}}async function z2(t,e,n){const r=re(t);try{const i=await function(s,a){const c=re(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ie(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);EI(r,e,n),wI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ka(r,i)}catch(i){await za(i)}}function wI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function EI(t,e,n){const r=re(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Dh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||TI(t,r)})}function TI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(dm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),ym(t))}function c_(t,e,n){for(const r of n)r instanceof gI?(t.Ma.addReference(r.key,e),B2(t,r)):r instanceof vI?(W("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||TI(t,r.key)):te()}function B2(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(W("SyncEngine","New document in limbo: "+n),t.Ca.add(r),ym(t))}function ym(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Q(Fe.fromString(e)),r=t.Na.next();t.Fa.set(r,new N2(n)),t.va=t.va.insert(n,r),uI(t.remoteStore,new xr(kn(im(n.path)),r,"TargetPurposeLimboResolution",Jp.oe))}}async function Ka(t,e,n){const r=re(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{s.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const f=um.Ki(c.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(c,u){const f=re(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(u,m=>V.forEach(m.qi,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>V.forEach(m.Qi,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Ba(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const _=f.ns.get(m),A=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(A);f.ns=f.ns.insert(m,T)}}}(r.localStore,o))}async function H2(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await sI(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(c=>{c.reject(new G(F.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ka(n,r.us)}}function W2(t,e){const n=re(t),r=n.Fa.get(e);if(r&&r.wa)return le().add(r.key);{let i=le();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function II(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U2.bind(null,e),e.Sa.h_=R2.bind(null,e.eventManager),e.Sa.ka=P2.bind(null,e.eventManager),e}function q2(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,e),e}class u_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return QD(this.persistence,new KD,e.initialUser,this.serializer)}createPersistence(e){return new HD(cm.Hr,this.serializer)}createSharedClientState(e){return new n2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class K2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H2.bind(null,this.syncEngine),await T2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S2}()}createDatastore(e){const n=Uu(e.databaseInfo.databaseId),r=function(o){return new s2(o)}(e.databaseInfo);return function(o,s,a,c){return new c2(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new d2(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>l_(this.syncEngine,n,0),function(){return i_.D()?new i_:new r2}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,f){const p=new D2(i,o,s,a,c,u);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=re(r);W("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await qa(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function of(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X2(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>o_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>o_(e.remoteStore,i)),t._onlineComponents=e}function Y2(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function X2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Y2(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await of(t,new u_)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await of(t,new u_);return t._offlineComponents}async function SI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await d_(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await d_(t,new K2))),t._onlineComponents}function J2(t){return SI(t).then(e=>e.syncEngine)}async function Z2(t){const e=await SI(t),n=e.eventManager;return n.onListen=O2.bind(null,e.syncEngine),n.onUnlisten=L2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V2.bind(null,e.syncEngine),n}function eO(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,c,u){const f=new G2({next:m=>{s.enqueueAndForget(()=>C2(o,p));const _=m.docs.has(a);!_&&m.fromCache?u.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&c.source==="server"?u.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new k2(im(a.path),f,{includeMetadataChanges:!0,ra:!0});return A2(o,p)}(await Z2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nO(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!Q.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pN;switch(r.type){case"firstParty":return new yN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=f_.get(n);r&&(W("ComponentProvider","Removing Datastore"),f_.delete(n),r.terminate())}(this),Promise.resolve()}}function rO(t,e,n,r={}){var i;const o=(t=bi(t,wm))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=yt.MOCK_USER;else{a=CP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(u)}t._authCredentials=new mN(new ST(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Em(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Ra extends Em{constructor(e,n,r){super(e,n,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Q(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function m_(t,e,...n){if(t=tt(t),arguments.length===1&&(e=AT.newId()),tO("doc","path",e),t instanceof wm){const r=Fe.fromString(e,...n);return h_(r),new Wt(t,null,new Q(r))}{if(!(t instanceof Wt||t instanceof Ra))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return h_(r),new Wt(t.firestore,t instanceof Ra?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lI(this,"async_queue_retry"),this.hu=()=>{const n=rf();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=rf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new jr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ba(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=mm.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&te()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Bu extends wm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RI(this),this._firestoreClient.terminate()}}function oO(t,e){const n=typeof t=="object"?t:zp(),r=typeof t=="string"?t:e||"(default)",i=Fi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=SP("firestore");o&&rO(i,...o)}return i}function CI(t){return t._firestoreClient||RI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,c,u,f){return new bN(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,AI(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Q2(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bo(Tt.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bo(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=/^__.*__$/;class aO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ha(e,this.data,n,this.fieldTransforms)}}class PI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Wu{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Wu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return iu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(kI(this.fu)&&sO.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class lO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uu(e)}Fu(e,n,r,i=!1){return new Wu({fu:e,methodName:n,vu:r,path:at.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xI(t){const e=t._freezeSettings(),n=Uu(t._databaseId);return new lO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cO(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Am("Data must be an object, but it was:",s,r);const a=NI(r,s);let c,u;if(o.merge)c=new Bt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const m=Oh(e,p,n);if(!s.contains(m))throw new G(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OI(f,m)||f.push(m)}c=new Bt(f),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new aO(new bt(a),c,u)}class qu extends Ga{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qu}}function bI(t,e,n){return new Wu({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Im extends Ga{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=bI(this,e,!0),r=this.Mu.map(o=>ns(o,n)),i=new Fo(r);return new qT(e.path,i)}isEqual(e){return e instanceof Im&&Si(this.Mu,e.Mu)}}class Sm extends Ga{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=bI(this,e,!0),r=this.Mu.map(o=>ns(o,n)),i=new Uo(r);return new qT(e.path,i)}isEqual(e){return e instanceof Sm&&Si(this.Mu,e.Mu)}}function uO(t,e,n,r){const i=t.Fu(1,e,n);Am("Data must be an object, but it was:",i,r);const o=[],s=bt.empty();ji(r,(c,u)=>{const f=Cm(e,c,n);u=tt(u);const p=i.Su(f);if(u instanceof qu)o.push(f);else{const m=ns(u,p);m!=null&&(o.push(f),s.set(f,m))}});const a=new Bt(o);return new PI(s,a,i.fieldTransforms)}function dO(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[Oh(e,r,n)],c=[i];if(o.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Oh(e,o[m])),c.push(o[m+1]);const u=[],f=bt.empty();for(let m=a.length-1;m>=0;--m)if(!OI(u,a[m])){const _=a[m];let A=c[m];A=tt(A);const T=s.Su(_);if(A instanceof qu)u.push(_);else{const x=ns(A,T);x!=null&&(u.push(_),f.set(_,x))}}const p=new Bt(u);return new PI(f,p,s.fieldTransforms)}function ns(t,e){if(DI(t=tt(t)))return Am("Unsupported field value:",e,t),NI(t,e);if(t instanceof Ga)return function(r,i){if(!kI(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=ns(a,i.bu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ye.fromDate(r);return{timestampValue:nu(i.serializer,o)}}if(r instanceof Ye){const o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nu(i.serializer,o)}}if(r instanceof Tm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bo)return{bytesValue:ZT(i.serializer,r._byteString)};if(r instanceof Wt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:am(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${_m(r)}`)}(t,e)}function NI(t,e){const n={};return CT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{const o=ns(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function DI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Tm||t instanceof Bo||t instanceof Wt||t instanceof Ga)}function Am(t,e,n){if(!DI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_m(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Oh(t,e,n){if((e=tt(e))instanceof Hu)return e._internalPath;if(typeof e=="string")return Cm(t,e);throw iu("Field path arguments must be of type string or ",t,!1,void 0,n)}const fO=new RegExp("[~\\*/\\[\\]]");function Cm(t,e,n){if(e.search(fO)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hu(...e.split("."))._internalPath}catch{throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new G(F.INVALID_ARGUMENT,a+t+c)}function OI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hO extends $I{data(){return super.data()}}function MI(t,e){return typeof e=="string"?Cm(t,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}class pO{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Tm(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sa(e));default:return null}}convertTimestamp(e){const n=qr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ie(oI(r));const i=new Aa(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LI extends $I{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(MI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vO extends LI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){t=bi(t,Wt);const e=bi(t.firestore,Bu);return eO(CI(e),t._key).then(n=>EO(e,t,n))}class _O extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function wO(t,e,n){t=bi(t,Wt);const r=bi(t.firestore,Bu),i=mO(t.converter,e,n);return VI(r,[cO(xI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xn.none())])}function g_(t,e,n,...r){t=bi(t,Wt);const i=bi(t.firestore,Bu),o=xI(i);let s;return s=typeof(e=tt(e))=="string"||e instanceof Hu?dO(o,"updateDoc",t._key,e,n,r):uO(o,"updateDoc",t._key,e),VI(i,[s.toMutation(t._key,xn.exists(!0))])}function VI(t,e){return function(r,i){const o=new jr;return r.asyncQueue.enqueueAndForget(async()=>F2(await J2(r),i,o)),o.promise}(CI(t),e)}function EO(t,e,n){const r=n.docs.get(e._key),i=new _O(t);return new LI(t,i,e._key,r,new gO(n.hasPendingWrites,n.fromCache),e.converter)}function TO(...t){return new Im("arrayUnion",t)}function IO(...t){return new Sm("arrayRemove",t)}(function(e,n=!0){(function(i){Zo=i})(Xo),Nn(new hn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Bu(new gN(r.getProvider("auth-internal")),new wN(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(u.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tn(My,"4.6.2",e),tn(My,"4.6.2","esm2017")})();const FI="@firebase/installations",Rm="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e4,jI=`w:${Rm}`,zI="FIS_v2",SO="https://firebaseinstallations.googleapis.com/v1",AO=60*60*1e3,CO="installations",RO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ni=new Vi(CO,RO,PO);function BI(t){return t instanceof gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI({projectId:t}){return`${SO}/projects/${t}/installations`}function WI(t){return{token:t.token,requestStatus:2,expiresIn:xO(t.expiresIn),creationTime:Date.now()}}async function qI(t,e){const r=(await e.json()).error;return Ni.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kO(t,{refreshToken:e}){const n=KI(t);return n.append("Authorization",bO(e)),n}async function GI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xO(t){return Number(t.replace("s","000"))}function bO(t){return`${zI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=HI(t),i=KI(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:zI,appId:t.appId,sdkVersion:jI},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await GI(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:WI(u.authToken)}}else throw await qI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=/^[cdef][\w-]{21}$/,$h="";function $O(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=MO(t);return OO.test(n)?n:$h}catch{return $h}}function MO(t){return DO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Map;function XI(t,e){const n=Ku(t);JI(n,e),LO(n,e)}function JI(t,e){const n=YI.get(t);if(n)for(const r of n)r(e)}function LO(t,e){const n=VO();n&&n.postMessage({key:t,fid:e}),FO()}let pi=null;function VO(){return!pi&&"BroadcastChannel"in self&&(pi=new BroadcastChannel("[Firebase] FID Change"),pi.onmessage=t=>{JI(t.data.key,t.data.fid)}),pi}function FO(){YI.size===0&&pi&&(pi.close(),pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebase-installations-database",jO=1,Di="firebase-installations-store";let sf=null;function Pm(){return sf||(sf=OE(UO,jO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Di)}}})),sf}async function ou(t,e){const n=Ku(t),i=(await Pm()).transaction(Di,"readwrite"),o=i.objectStore(Di),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&XI(t,e.fid),e}async function ZI(t){const e=Ku(t),r=(await Pm()).transaction(Di,"readwrite");await r.objectStore(Di).delete(e),await r.done}async function Gu(t,e){const n=Ku(t),i=(await Pm()).transaction(Di,"readwrite"),o=i.objectStore(Di),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&XI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){let e;const n=await Gu(t.appConfig,r=>{const i=zO(r),o=BO(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===$h?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zO(t){const e=t||{fid:$O(),registrationStatus:0};return eS(e)}function BO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ni.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=HO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WO(t)}:{installationEntry:e}}async function HO(t,e){try{const n=await NO(t,e);return ou(t.appConfig,n)}catch(n){throw BI(n)&&n.customData.serverCode===409?await ZI(t.appConfig):await ou(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function WO(t){let e=await v_(t.appConfig);for(;e.registrationStatus===1;)await QI(100),e=await v_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await km(t);return r||n}return e}function v_(t){return Gu(t,e=>{if(!e)throw Ni.create("installation-not-found");return eS(e)})}function eS(t){return qO(t)?{fid:t.fid,registrationStatus:0}:t}function qO(t){return t.registrationStatus===1&&t.registrationTime+UI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO({appConfig:t,heartbeatServiceProvider:e},n){const r=GO(t,n),i=kO(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:jI,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await GI(()=>fetch(r,a));if(c.ok){const u=await c.json();return WI(u)}else throw await qI("Generate Auth Token",c)}function GO(t,{fid:e}){return`${HI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(t,e=!1){let n;const r=await Gu(t.appConfig,o=>{if(!tS(o))throw Ni.create("not-registered");const s=o.authToken;if(!e&&XO(s))return o;if(s.requestStatus===1)return n=QO(t,e),o;{if(!navigator.onLine)throw Ni.create("app-offline");const a=ZO(o);return n=YO(t,a),a}});return n?await n:r.authToken}async function QO(t,e){let n=await y_(t.appConfig);for(;n.authToken.requestStatus===1;)await QI(100),n=await y_(t.appConfig);const r=n.authToken;return r.requestStatus===0?xm(t,e):r}function y_(t){return Gu(t,e=>{if(!tS(e))throw Ni.create("not-registered");const n=e.authToken;return e$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YO(t,e){try{const n=await KO(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ou(t.appConfig,r),n}catch(n){if(BI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ou(t.appConfig,r)}throw n}}function tS(t){return t!==void 0&&t.registrationStatus===2}function XO(t){return t.requestStatus===2&&!JO(t)}function JO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AO}function ZO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function e$(t){return t.requestStatus===1&&t.requestTime+UI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(t){const e=t,{installationEntry:n,registrationPromise:r}=await km(e);return r?r.catch(console.error):xm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e=!1){const n=t;return await r$(n),(await xm(n,e)).token}async function r$(t){const{registrationPromise:e}=await km(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){if(!t||!t.options)throw af("App Configuration");if(!t.name)throw af("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw af(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function af(t){return Ni.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="installations",o$="installations-internal",s$=t=>{const e=t.getProvider("app").getImmediate(),n=i$(e),r=Fi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a$=t=>{const e=t.getProvider("app").getImmediate(),n=Fi(e,nS).getImmediate();return{getId:()=>t$(n),getToken:i=>n$(n,i)}};function l$(){Nn(new hn(nS,s$,"PUBLIC")),Nn(new hn(o$,a$,"PRIVATE"))}l$();tn(FI,Rm);tn(FI,Rm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="analytics",c$="firebase_id",u$="origin",d$=60*1e3,f$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt=new Pu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new Vi("analytics","Analytics",h$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){if(!t.startsWith(bm)){const e=qt.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function rS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function m$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function g$(t,e){const n=m$("firebase-js-sdk-policy",{createScriptURL:p$}),r=document.createElement("script"),i=`${bm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function v$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function y$(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const c=(await rS(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(a){Mt.error(a)}t("config",i,o)}async function _$(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await rS(n);for(const c of s){const u=a.find(p=>p.measurementId===c),f=u&&e[u.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Mt.error(o)}}function w$(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,c]=s;await _$(t,e,n,a,c)}else if(o==="config"){const[a,c]=s;await y$(t,e,n,r,a,c)}else if(o==="consent"){const[a]=s;t("consent","update",a)}else if(o==="get"){const[a,c,u]=s;t("get",a,c,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Mt.error(a)}}return i}function E$(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=w$(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function T$(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=30,S$=1e3;class A${constructor(e={},n=S$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iS=new A$;function C$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function R$(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:C$(r)},o=f$.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function P$(t,e=iS,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw qt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw qt.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new b$;return setTimeout(async()=>{a.abort()},n!==void 0?n:d$),oS({appId:r,apiKey:i,measurementId:o},s,a,e)}async function oS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iS){var o;const{appId:s,measurementId:a}=t;try{await k$(r,e)}catch(c){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw c}try{const c=await R$(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!x$(u)){if(i.deleteThrottleMetadata(s),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw c}const f=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?ay(n,i.intervalMillis,I$):ay(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(s,p),Mt.debug(`Calling attemptFetch again in ${f} millis`),oS(t,p,r,i)}}function k$(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function x$(t){if(!(t instanceof gn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class b${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function N$(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(){if(xE())try{await bE()}catch(t){return Mt.warn(qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Mt.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O$(t,e,n,r,i,o,s){var a;const c=P$(t);c.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Mt.error(_)),e.push(c);const u=D$().then(_=>{if(_)return r.getId()}),[f,p]=await Promise.all([c,u]);T$(o)||g$(o,f.measurementId),i("js",new Date);const m=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return m[u$]="firebase",m.update=!0,p!=null&&(m[c$]=p),i("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.app=e}_delete(){return delete ta[this.app.options.appId],Promise.resolve()}}let ta={},__=[];const w_={};let lf="dataLayer",M$="gtag",E_,sS,T_=!1;function L$(){const t=[];if(kE()&&t.push("This is a browser extension environment."),NP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}function V$(t,e,n){L$();const r=t.options.appId;if(!r)throw qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(ta[r]!=null)throw qt.create("already-exists",{id:r});if(!T_){v$(lf);const{wrappedGtag:o,gtagCore:s}=E$(ta,__,w_,lf,M$);sS=o,E_=s,T_=!0}return ta[r]=O$(t,__,w_,e,E_,lf,n),new $$(t)}function F$(t=zp()){t=tt(t);const e=Fi(t,su);return e.isInitialized()?e.getImmediate():U$(t)}function U$(t,e={}){const n=Fi(t,su);if(n.isInitialized()){const i=n.getImmediate();if(Si(e,n.getOptions()))return i;throw qt.create("already-initialized")}return n.initialize({options:e})}function j$(t,e,n,r){t=tt(t),N$(sS,ta[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}const I_="@firebase/analytics",S_="0.10.3";function z$(){Nn(new hn(su,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return V$(r,i,n)},"PUBLIC")),Nn(new hn("analytics-internal",t,"PRIVATE")),tn(I_,S_),tn(I_,S_,"esm2017");function t(e){try{const n=e.getProvider(su).getImmediate();return{logEvent:(r,i,o)=>j$(n,r,i,o)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}}}z$();const B$={apiKey:"AIzaSyCWnSn00nDgkwB-PDZGRNTJFePVTGiuqu8",authDomain:"meal-planner-c4a72.firebaseapp.com",projectId:"meal-planner-c4a72",storageBucket:"meal-planner-c4a72.appspot.com",messagingSenderId:"515394692860",appId:"1:515394692860:web:12a758775904286c281979"},Nm=$E(B$),Ll=fN(Nm),A_=oO(Nm);F$(Nm);const aS=g.createContext(),Qu=()=>g.useContext(aS),H$=({children:t})=>{const[e,n]=g.useState(null),[r,i]=g.useState(!0);g.useEffect(()=>Jx(Ll,m=>{n(m),i(!1)}),[]);const f={currentUser:e,signup:(p,m)=>Gx(Ll,p,m),login:(p,m)=>Qx(Ll,p,m),logout:()=>Zx(Ll),addBookmark:async p=>{if(!e)throw new Error("Not authenticated");const m=m_(A_,"bookmarks",e.uid);(await yO(m)).exists()?await g_(m,{bookmarks:TO(p)}):await wO(m,{bookmarks:[p]})},removeBookmark:async p=>{if(!e)throw new Error("Not authenticated");const m=m_(A_,"bookmarks",e.uid);await g_(m,{bookmarks:IO(p)})}};return L.jsx(aS.Provider,{value:f,children:!r&&t})},lS=g.forwardRef(({recipe:t},e)=>{const{currentUser:n,addBookmark:r,removeBookmark:i}=Qu(),[o,s]=g.useState(!1);g.useEffect(()=>{(async()=>{if(n){const f=doc(db,"bookmarks",n.uid),p=await getDoc(f);p.exists()&&p.data().bookmarks.includes(t.id)?s(!0):s(!1)}})()},[n,t.id]);const a=async()=>{o?(await i(t.id),s(!1)):(await r(t.id),s(!0))},c=u=>u.map((f,p)=>L.jsxs("div",{className:"instruction-section",children:[L.jsx("h3",{children:f.name}),L.jsx("ol",{children:f.steps.map((m,_)=>L.jsx("li",{children:m.step},_))})]},p));return L.jsxs("div",{ref:e,className:"recipe",children:[L.jsx("img",{src:`https://spoonacular.com/recipeImages/${t.id}-480x360.${t.imageType}`,alt:`Small icon for ${t.title} recipe`,className:"recipe-image"}),L.jsx("h2",{className:"font-bold text-center	",children:t.title}),L.jsxs("p",{children:["Ready in ",t.readyInMinutes," minutes"," ",L.jsx(Tn,{className:"bookmark-button",onClick:a,disabled:!n,children:o?L.jsx(kR,{}):L.jsx(xR,{})})]}),L.jsxs("p",{children:["Servings: ",t.servings]}),L.jsx("div",{className:"recipe-summary",dangerouslySetInnerHTML:{__html:t.summary}}),t.analyzedInstructions&&t.analyzedInstructions.length>0&&L.jsxs("div",{className:"instructions",children:[L.jsx("h2",{children:"Instructions:"}),c(t.analyzedInstructions)]})]})});lS.displayName="RecipeInfo";function W$(t,e){const n=g.createContext(e);function r(o){const{children:s,...a}=o,c=g.useMemo(()=>a,Object.values(a));return g.createElement(n.Provider,{value:c},s)}function i(o){const s=g.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function Qa(t,e=[]){let n=[];function r(o,s){const a=g.createContext(s),c=n.length;n=[...n,s];function u(p){const{scope:m,children:_,...A}=p,T=(m==null?void 0:m[t][c])||a,x=g.useMemo(()=>A,Object.values(A));return g.createElement(T.Provider,{value:x},_)}function f(p,m){const _=(m==null?void 0:m[t][c])||a,A=g.useContext(_);if(A)return A;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const i=()=>{const o=n.map(s=>g.createContext(s));return function(a){const c=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,q$(i,...e)]}function q$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}const Lt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},K$=mA.useId||(()=>{});let G$=0;function na(t){const[e,n]=g.useState(K$());return Lt(()=>{t||n(r=>r??String(G$++))},[t]),t||(e?`radix-${e}`:"")}function ir(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Mh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Q$({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=ir(n),c=g.useCallback(u=>{if(o){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else i(u)},[o,t,i,a]);return[s,c]}function Q$({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),o=ir(e);return g.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const Y$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$e=Y$.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Ii:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(a,Y({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function X$(t,e){t&&Li.flushSync(()=>t.dispatchEvent(e))}function J$(t,e=globalThis==null?void 0:globalThis.document){const n=ir(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Lh="dismissableLayer.update",Z$="dismissableLayer.pointerDownOutside",eM="dismissableLayer.focusOutside";let C_;const tM=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cS=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...u}=t,f=g.useContext(tM),[p,m]=g.useState(null),_=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,A]=g.useState({}),T=Ue(e,y=>m(y)),x=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),I=p?x.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,O=I>=v,$=nM(y=>{const C=y.target,k=[...f.branches].some(b=>b.contains(C));!O||k||(o==null||o(y),a==null||a(y),y.defaultPrevented||c==null||c())},_),S=rM(y=>{const C=y.target;[...f.branches].some(b=>b.contains(C))||(s==null||s(y),a==null||a(y),y.defaultPrevented||c==null||c())},_);return J$(y=>{I===f.layers.size-1&&(i==null||i(y),!y.defaultPrevented&&c&&(y.preventDefault(),c()))},_),g.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(C_=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),R_(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=C_)}},[p,_,r,f]),g.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),R_())},[p,f]),g.useEffect(()=>{const y=()=>A({});return document.addEventListener(Lh,y),()=>document.removeEventListener(Lh,y)},[]),g.createElement($e.div,Y({},u,{ref:T,style:{pointerEvents:N?O?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,$.onPointerDownCapture)}))});function nM(t,e=globalThis==null?void 0:globalThis.document){const n=ir(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){uS(Z$,n,u,{discrete:!0})};var c=f;const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rM(t,e=globalThis==null?void 0:globalThis.document){const n=ir(t),r=g.useRef(!1);return g.useEffect(()=>{const i=o=>{o.target&&!r.current&&uS(eM,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R_(){const t=new CustomEvent(Lh);document.dispatchEvent(t)}function uS(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?X$(i,o):i.dispatchEvent(o)}const cf="focusScope.autoFocusOnMount",uf="focusScope.autoFocusOnUnmount",P_={bubbles:!1,cancelable:!0},dS=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,c]=g.useState(null),u=ir(i),f=ir(o),p=g.useRef(null),m=Ue(e,T=>c(T)),_=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function($){if(_.paused||!a)return;const S=$.target;a.contains(S)?p.current=S:_r(p.current,{select:!0})},I=function($){if(_.paused||!a)return;const S=$.relatedTarget;S!==null&&(a.contains(S)||_r(p.current,{select:!0}))},N=function($){if(document.activeElement===document.body)for(const y of $)y.removedNodes.length>0&&_r(a)};var T=v,x=I,w=N;document.addEventListener("focusin",v),document.addEventListener("focusout",I);const O=new MutationObserver(N);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",I),O.disconnect()}}},[r,a,_.paused]),g.useEffect(()=>{if(a){x_.add(_);const T=document.activeElement;if(!a.contains(T)){const w=new CustomEvent(cf,P_);a.addEventListener(cf,u),a.dispatchEvent(w),w.defaultPrevented||(iM(cM(fS(a)),{select:!0}),document.activeElement===T&&_r(a))}return()=>{a.removeEventListener(cf,u),setTimeout(()=>{const w=new CustomEvent(uf,P_);a.addEventListener(uf,f),a.dispatchEvent(w),w.defaultPrevented||_r(T??document.body,{select:!0}),a.removeEventListener(uf,f),x_.remove(_)},0)}}},[a,u,f,_]);const A=g.useCallback(T=>{if(!n&&!r||_.paused)return;const x=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,w=document.activeElement;if(x&&w){const v=T.currentTarget,[I,N]=oM(v);I&&N?!T.shiftKey&&w===N?(T.preventDefault(),n&&_r(I,{select:!0})):T.shiftKey&&w===I&&(T.preventDefault(),n&&_r(N,{select:!0})):w===v&&T.preventDefault()}},[n,r,_.paused]);return g.createElement($e.div,Y({tabIndex:-1},s,{ref:m,onKeyDown:A}))});function iM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_r(r,{select:e}),document.activeElement!==n)return}function oM(t){const e=fS(t),n=k_(e,t),r=k_(e.reverse(),t);return[n,r]}function fS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function k_(t,e){for(const n of t)if(!sM(n,{upTo:e}))return n}function sM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function aM(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&aM(t)&&e&&t.select()}}const x_=lM();function lM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=b_(t,e),t.unshift(e)},remove(e){var n;t=b_(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function b_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function cM(t){return t.filter(e=>e.tagName!=="A")}const hS=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?AR.createPortal(g.createElement($e.div,Y({},i,{ref:e})),r):null});function uM(t,e){return g.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Yu=t=>{const{present:e,children:n}=t,r=dM(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=Ue(r.ref,i.ref);return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:o}):null};Yu.displayName="Presence";function dM(t){const[e,n]=g.useState(),r=g.useRef({}),i=g.useRef(t),o=g.useRef("none"),s=t?"mounted":"unmounted",[a,c]=uM(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Vl(r.current);o.current=a==="mounted"?u:"none"},[a]),Lt(()=>{const u=r.current,f=i.current;if(f!==t){const m=o.current,_=Vl(u);t?c("MOUNT"):_==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Lt(()=>{if(e){const u=p=>{const _=Vl(r.current).includes(p.animationName);p.target===e&&_&&Li.flushSync(()=>c("ANIMATION_END"))},f=p=>{p.target===e&&(o.current=Vl(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Vl(t){return(t==null?void 0:t.animationName)||"none"}let df=0;function pS(){g.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:N_()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:N_()),df++,()=>{df===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),df--}},[])}function N_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var dc="right-scroll-bar-position",fc="width-before-scroll-bar",fM="with-scroll-bars-hidden",hM="--removed-body-scroll-bar-size";function ff(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pM(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var mM=typeof window<"u"?g.useLayoutEffect:g.useEffect,D_=new WeakMap;function gM(t,e){var n=pM(e||null,function(r){return t.forEach(function(i){return ff(i,r)})});return mM(function(){var r=D_.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||ff(a,null)}),o.forEach(function(a){i.has(a)||ff(a,s)})}D_.set(n,t)},[t]),n}function vM(t){return t}function yM(t,e){e===void 0&&(e=vM);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return i}function _M(t){t===void 0&&(t={});var e=yM(null);return e.options=En({async:!0,ssr:!1},t),e}var mS=function(t){var e=t.sideCar,n=La(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,En({},n))};mS.isSideCarExport=!0;function wM(t,e){return t.useMedium(e),mS}var gS=_M(),hf=function(){},Xu=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:hf,onWheelCapture:hf,onTouchMoveCapture:hf}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,_=t.noIsolation,A=t.inert,T=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,v=La(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=m,N=gM([n,e]),O=En(En({},v),i);return g.createElement(g.Fragment,null,f&&g.createElement(I,{sideCar:gS,removeScrollBar:u,shards:p,noIsolation:_,inert:A,setCallbacks:o,allowPinchZoom:!!T,lockRef:n}),s?g.cloneElement(g.Children.only(a),En(En({},O),{ref:N})):g.createElement(w,En({},O,{className:c,ref:N}),a))});Xu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xu.classNames={fullWidth:fc,zeroRight:dc};var EM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EM();return e&&t.setAttribute("nonce",e),t}function IM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function SM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=TM())&&(IM(e,n),SM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},CM=function(){var t=AM();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vS=function(){var t=CM(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},RM={left:0,top:0,right:0,gap:0},pf=function(t){return parseInt(t||"",10)||0},PM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[pf(n),pf(r),pf(i)]},kM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RM;var e=PM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xM=vS(),Co="data-scroll-locked",bM=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(fM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(hM,": ").concat(a,`px;
  }
`)},O_=function(){var t=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(t)?t:0},NM=function(){g.useEffect(function(){return document.body.setAttribute(Co,(O_()+1).toString()),function(){var t=O_()-1;t<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,t.toString())}},[])},DM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;NM();var o=g.useMemo(function(){return kM(i)},[i]);return g.createElement(xM,{styles:bM(o,!e,i,n?"":"!important")})},Vh=!1;if(typeof window<"u")try{var Fl=Object.defineProperty({},"passive",{get:function(){return Vh=!0,!0}});window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Vh=!1}var Yi=Vh?{passive:!1}:!1,OM=function(t){return t.tagName==="TEXTAREA"},yS=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!OM(t)&&n[e]==="visible")},$M=function(t){return yS(t,"overflowY")},MM=function(t){return yS(t,"overflowX")},$_=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=_S(t,n);if(r){var i=wS(t,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},LM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},VM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_S=function(t,e){return t==="v"?$M(e):MM(e)},wS=function(t,e){return t==="v"?LM(e):VM(e)},FM=function(t,e){return t==="h"&&e==="rtl"?-1:1},UM=function(t,e,n,r,i){var o=FM(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,c=e.contains(a),u=!1,f=s>0,p=0,m=0;do{var _=wS(t,a),A=_[0],T=_[1],x=_[2],w=T-x-o*A;(A||w)&&_S(t,a)&&(p+=w,m+=A),a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(f&&(i&&p===0||!i&&s>p)||!f&&(i&&m===0||!i&&-s>m))&&(u=!0),u},Ul=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},M_=function(t){return[t.deltaX,t.deltaY]},L_=function(t){return t&&"current"in t?t.current:t},jM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},BM=0,Xi=[];function HM(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(BM++)[0],o=g.useState(function(){return vS()})[0],s=g.useRef(t);g.useEffect(function(){s.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=Xk([t.lockRef.current],(t.shards||[]).map(L_),!0).filter(Boolean);return T.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(T,x){if("touches"in T&&T.touches.length===2)return!s.current.allowPinchZoom;var w=Ul(T),v=n.current,I="deltaX"in T?T.deltaX:v[0]-w[0],N="deltaY"in T?T.deltaY:v[1]-w[1],O,$=T.target,S=Math.abs(I)>Math.abs(N)?"h":"v";if("touches"in T&&S==="h"&&$.type==="range")return!1;var y=$_(S,$);if(!y)return!0;if(y?O=S:(O=S==="v"?"h":"v",y=$_(S,$)),!y)return!1;if(!r.current&&"changedTouches"in T&&(I||N)&&(r.current=O),!O)return!0;var C=r.current||O;return UM(C,x,T,C==="h"?I:N,!0)},[]),c=g.useCallback(function(T){var x=T;if(!(!Xi.length||Xi[Xi.length-1]!==o)){var w="deltaY"in x?M_(x):Ul(x),v=e.current.filter(function(O){return O.name===x.type&&O.target===x.target&&jM(O.delta,w)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var I=(s.current.shards||[]).map(L_).filter(Boolean).filter(function(O){return O.contains(x.target)}),N=I.length>0?a(x,I[0]):!s.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=g.useCallback(function(T,x,w,v){var I={name:T,delta:x,target:w,should:v};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(N){return N!==I})},1)},[]),f=g.useCallback(function(T){n.current=Ul(T),r.current=void 0},[]),p=g.useCallback(function(T){u(T.type,M_(T),T.target,a(T,t.lockRef.current))},[]),m=g.useCallback(function(T){u(T.type,Ul(T),T.target,a(T,t.lockRef.current))},[]);g.useEffect(function(){return Xi.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Yi),document.addEventListener("touchmove",c,Yi),document.addEventListener("touchstart",f,Yi),function(){Xi=Xi.filter(function(T){return T!==o}),document.removeEventListener("wheel",c,Yi),document.removeEventListener("touchmove",c,Yi),document.removeEventListener("touchstart",f,Yi)}},[]);var _=t.removeScrollBar,A=t.inert;return g.createElement(g.Fragment,null,A?g.createElement(o,{styles:zM(i)}):null,_?g.createElement(DM,{gapMode:"margin"}):null)}const WM=wM(gS,HM);var ES=g.forwardRef(function(t,e){return g.createElement(Xu,En({},t,{ref:e,sideCar:WM}))});ES.classNames=Xu.classNames;const TS=ES;var qM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ji=new WeakMap,jl=new WeakMap,zl={},mf=0,IS=function(t){return t&&(t.host||IS(t.parentNode))},KM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=IS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},GM=function(t,e,n,r){var i=KM(e,Array.isArray(t)?t:[t]);zl[n]||(zl[n]=new WeakMap);var o=zl[n],s=[],a=new Set,c=new Set(i),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))f(m);else try{var _=m.getAttribute(r),A=_!==null&&_!=="false",T=(Ji.get(m)||0)+1,x=(o.get(m)||0)+1;Ji.set(m,T),o.set(m,x),s.push(m),T===1&&A&&jl.set(m,!0),x===1&&m.setAttribute(n,"true"),A||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return f(e),a.clear(),mf++,function(){s.forEach(function(p){var m=Ji.get(p)-1,_=o.get(p)-1;Ji.set(p,m),o.set(p,_),m||(jl.has(p)||p.removeAttribute(r),jl.delete(p)),_||p.removeAttribute(n)}),mf--,mf||(Ji=new WeakMap,Ji=new WeakMap,jl=new WeakMap,zl={})}},SS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||qM(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),GM(r,i,n,"aria-hidden")):function(){return null}};const AS="Dialog",[CS,RS]=Qa(AS),[QM,vn]=CS(AS),YM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=g.useRef(null),c=g.useRef(null),[u=!1,f]=Mh({prop:r,defaultProp:i,onChange:o});return g.createElement(QM,{scope:e,triggerRef:a,contentRef:c,contentId:na(),titleId:na(),descriptionId:na(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(p=>!p),[f]),modal:s},n)},XM="DialogTrigger",JM=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vn(XM,n),o=Ue(e,i.triggerRef);return g.createElement($e.button,Y({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dm(i.open)},r,{ref:o,onClick:xe(t.onClick,i.onOpenToggle)}))}),PS="DialogPortal",[ZM,kS]=CS(PS,{forceMount:void 0}),eL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=vn(PS,e);return g.createElement(ZM,{scope:e,forceMount:n},g.Children.map(r,s=>g.createElement(Yu,{present:n||o.open},g.createElement(hS,{asChild:!0,container:i},s))))},Fh="DialogOverlay",tL=g.forwardRef((t,e)=>{const n=kS(Fh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=vn(Fh,t.__scopeDialog);return o.modal?g.createElement(Yu,{present:r||o.open},g.createElement(nL,Y({},i,{ref:e}))):null}),nL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vn(Fh,n);return g.createElement(TS,{as:Ii,allowPinchZoom:!0,shards:[i.contentRef]},g.createElement($e.div,Y({"data-state":Dm(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Ho="DialogContent",rL=g.forwardRef((t,e)=>{const n=kS(Ho,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=vn(Ho,t.__scopeDialog);return g.createElement(Yu,{present:r||o.open},o.modal?g.createElement(iL,Y({},i,{ref:e})):g.createElement(oL,Y({},i,{ref:e})))}),iL=g.forwardRef((t,e)=>{const n=vn(Ho,t.__scopeDialog),r=g.useRef(null),i=Ue(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return SS(o)},[]),g.createElement(xS,Y({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,o=>o.preventDefault())}))}),oL=g.forwardRef((t,e)=>{const n=vn(Ho,t.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return g.createElement(xS,Y({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=t.onCloseAutoFocus)===null||s===void 0||s.call(t,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=t.onInteractOutside)===null||s===void 0||s.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),xS=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=vn(Ho,n),c=g.useRef(null),u=Ue(e,c);return pS(),g.createElement(g.Fragment,null,g.createElement(dS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},g.createElement(cS,Y({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Dm(a.open)},s,{ref:u,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),bS="DialogTitle",sL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vn(bS,n);return g.createElement($e.h2,Y({id:i.titleId},r,{ref:e}))}),aL="DialogDescription",lL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vn(aL,n);return g.createElement($e.p,Y({id:i.descriptionId},r,{ref:e}))}),cL="DialogClose",uL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=vn(cL,n);return g.createElement($e.button,Y({type:"button"},r,{ref:e,onClick:xe(t.onClick,()=>i.onOpenChange(!1))}))});function Dm(t){return t?"open":"closed"}const dL="DialogTitleWarning",[fL,qV]=W$(dL,{contentName:Ho,titleName:bS,docsSlug:"dialog"}),hL=YM,pL=JM,mL=eL,gL=tL,vL=rL,yL=sL,_L=lL,NS=uL,wL="AlertDialog",[EL,KV]=Qa(wL,[RS]),lr=RS(),TL=t=>{const{__scopeAlertDialog:e,...n}=t,r=lr(e);return g.createElement(hL,Y({},r,n,{modal:!0}))},IL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=lr(n);return g.createElement(pL,Y({},i,r,{ref:e}))}),SL=t=>{const{__scopeAlertDialog:e,...n}=t,r=lr(e);return g.createElement(mL,Y({},r,n))},AL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=lr(n);return g.createElement(gL,Y({},i,r,{ref:e}))}),DS="AlertDialogContent",[CL,RL]=EL(DS),PL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=lr(n),s=g.useRef(null),a=Ue(e,s),c=g.useRef(null);return g.createElement(fL,{contentName:DS,titleName:kL,docsSlug:"alert-dialog"},g.createElement(CL,{scope:n,cancelRef:c},g.createElement(vL,Y({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:xe(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)===null||f===void 0||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault()}),g.createElement(mE,null,r),!1)))}),kL="AlertDialogTitle",xL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=lr(n);return g.createElement(yL,Y({},i,r,{ref:e}))}),bL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=lr(n);return g.createElement(_L,Y({},i,r,{ref:e}))}),NL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=lr(n);return g.createElement(NS,Y({},i,r,{ref:e}))}),DL="AlertDialogCancel",OL=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=RL(DL,n),o=lr(n),s=Ue(e,i);return g.createElement(NS,Y({},o,r,{ref:s}))}),$L=TL,ML=IL,LL=SL,OS=AL,$S=PL,MS=NL,LS=OL,VS=xL,FS=bL,US=$L,jS=ML,VL=LL,zS=g.forwardRef(({className:t,...e},n)=>L.jsx(OS,{className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zS.displayName=OS.displayName;const Om=g.forwardRef(({className:t,...e},n)=>L.jsxs(VL,{children:[L.jsx(zS,{}),L.jsx($S,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Om.displayName=$S.displayName;const $m=({className:t,...e})=>L.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});$m.displayName="AlertDialogHeader";const Mm=({className:t,...e})=>L.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Mm.displayName="AlertDialogFooter";const Lm=g.forwardRef(({className:t,...e},n)=>L.jsx(VS,{ref:n,className:Pe("text-lg font-semibold",t),...e}));Lm.displayName=VS.displayName;const Vm=g.forwardRef(({className:t,...e},n)=>L.jsx(FS,{ref:n,className:Pe("text-sm text-muted-foreground",t),...e}));Vm.displayName=FS.displayName;const Fm=g.forwardRef(({className:t,...e},n)=>L.jsx(MS,{ref:n,className:Pe(Up(),t),...e}));Fm.displayName=MS.displayName;const Um=g.forwardRef(({className:t,...e},n)=>L.jsx(LS,{ref:n,className:Pe(Up({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Um.displayName=LS.displayName;const zr=g.forwardRef(({className:t,type:e,...n},r)=>L.jsx("input",{type:e,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));zr.displayName="Input";const FL=()=>{const{login:t}=Qu(),[e,n]=g.useState(""),[r,i]=g.useState(""),[o,s]=g.useState(""),a=async()=>{try{await t(e,r)}catch(c){s(c.message)}};return L.jsxs(US,{children:[L.jsx(jS,{asChild:!0,children:L.jsx(Tn,{variant:"outline",children:"Log In"})}),L.jsxs(Om,{children:[L.jsxs($m,{children:[L.jsx(Lm,{children:"Log In"}),L.jsx(Vm,{children:"Log in to your account to access your bookmarks."})]}),L.jsx(zr,{type:"email",placeholder:"Email",value:e,onChange:c=>n(c.target.value),className:"mt-4"}),L.jsx(zr,{type:"password",placeholder:"Password",value:r,onChange:c=>i(c.target.value),className:"mt-4"}),o&&L.jsx("p",{className:"text-red-500 mt-2",children:o}),L.jsxs(Mm,{children:[L.jsx(Um,{children:"Cancel"}),L.jsx(Fm,{asChild:!0,children:L.jsx(Tn,{onClick:a,children:"Log In"})})]})]})]})},UL=()=>{const{signup:t}=Qu(),[e,n]=g.useState(""),[r,i]=g.useState(""),[o,s]=g.useState(""),a=async()=>{try{await t(e,r)}catch(c){s(c.message)}};return L.jsxs(US,{children:[L.jsx(jS,{asChild:!0,children:L.jsx(Tn,{variant:"outline",children:"Sign Up"})}),L.jsxs(Om,{children:[L.jsxs($m,{children:[L.jsx(Lm,{children:"Sign Up"}),L.jsx(Vm,{children:"Create an account to save your favorite recipes."})]}),L.jsx(zr,{type:"email",placeholder:"Email",value:e,onChange:c=>n(c.target.value),className:"mt-4"}),L.jsx(zr,{type:"password",placeholder:"Password",value:r,onChange:c=>i(c.target.value),className:"mt-4"}),o&&L.jsx("p",{className:"text-red-500 mt-2",children:o}),L.jsxs(Mm,{children:[L.jsx(Um,{children:"Cancel"}),L.jsx(Fm,{asChild:!0,children:L.jsx(Tn,{onClick:a,children:"Sign Up"})})]})]})]})},hc=g.forwardRef(({className:t,...e},n)=>L.jsx("div",{ref:n,className:Pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hc.displayName="Card";const pc=g.forwardRef(({className:t,...e},n)=>L.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",t),...e}));pc.displayName="CardHeader";const mc=g.forwardRef(({className:t,...e},n)=>L.jsx("h3",{ref:n,className:Pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));mc.displayName="CardTitle";const gc=g.forwardRef(({className:t,...e},n)=>L.jsx("p",{ref:n,className:Pe("text-sm text-muted-foreground",t),...e}));gc.displayName="CardDescription";const vc=g.forwardRef(({className:t,...e},n)=>L.jsx("div",{ref:n,className:Pe("p-6 pt-0",t),...e}));vc.displayName="CardContent";const Uh=g.forwardRef(({className:t,...e},n)=>L.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",t),...e}));Uh.displayName="CardFooter";function V_(t,[e,n]){return Math.min(n,Math.max(e,t))}function jL(t){const e=t+"CollectionProvider",[n,r]=Qa(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=_=>{const{scope:A,children:T}=_,x=kt.useRef(null),w=kt.useRef(new Map).current;return kt.createElement(i,{scope:A,itemMap:w,collectionRef:x},T)},a=t+"CollectionSlot",c=kt.forwardRef((_,A)=>{const{scope:T,children:x}=_,w=o(a,T),v=Ue(A,w.collectionRef);return kt.createElement(Ii,{ref:v},x)}),u=t+"CollectionItemSlot",f="data-radix-collection-item",p=kt.forwardRef((_,A)=>{const{scope:T,children:x,...w}=_,v=kt.useRef(null),I=Ue(A,v),N=o(u,T);return kt.useEffect(()=>(N.itemMap.set(v,{ref:v,...w}),()=>void N.itemMap.delete(v))),kt.createElement(Ii,{[f]:"",ref:I},x)});function m(_){const A=o(t+"CollectionConsumer",_);return kt.useCallback(()=>{const x=A.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(A.itemMap.values()).sort((N,O)=>w.indexOf(N.ref.current)-w.indexOf(O.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:s,Slot:c,ItemSlot:p},m,r]}const zL=g.createContext(void 0);function BL(t){const e=g.useContext(zL);return t||e||"ltr"}const HL=["top","right","bottom","left"],Sn=Math.min,jt=Math.max,au=Math.round,Bl=Math.floor,Gr=t=>({x:t,y:t}),WL={left:"right",right:"left",bottom:"top",top:"bottom"},qL={start:"end",end:"start"};function jh(t,e,n){return jt(t,Sn(e,n))}function or(t,e){return typeof t=="function"?t(e):t}function sr(t){return t.split("-")[0]}function rs(t){return t.split("-")[1]}function jm(t){return t==="x"?"y":"x"}function zm(t){return t==="y"?"height":"width"}function is(t){return["top","bottom"].includes(sr(t))?"y":"x"}function Bm(t){return jm(is(t))}function KL(t,e,n){n===void 0&&(n=!1);const r=rs(t),i=Bm(t),o=zm(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=lu(s)),[s,lu(s)]}function GL(t){const e=lu(t);return[zh(t),e,zh(e)]}function zh(t){return t.replace(/start|end/g,e=>qL[e])}function QL(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function YL(t,e,n,r){const i=rs(t);let o=QL(sr(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(zh)))),o}function lu(t){return t.replace(/left|right|bottom|top/g,e=>WL[e])}function XL(t){return{top:0,right:0,bottom:0,left:0,...t}}function BS(t){return typeof t!="number"?XL(t):{top:t,right:t,bottom:t,left:t}}function cu(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function F_(t,e,n){let{reference:r,floating:i}=t;const o=is(e),s=Bm(e),a=zm(s),c=sr(e),u=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let _;switch(c){case"top":_={x:f,y:r.y-i.height};break;case"bottom":_={x:f,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:p};break;case"left":_={x:r.x-i.width,y:p};break;default:_={x:r.x,y:r.y}}switch(rs(e)){case"start":_[s]-=m*(n&&u?-1:1);break;case"end":_[s]+=m*(n&&u?-1:1);break}return _}const JL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=F_(u,r,c),m=r,_={},A=0;for(let T=0;T<a.length;T++){const{name:x,fn:w}=a[T],{x:v,y:I,data:N,reset:O}=await w({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:_,rects:u,platform:s,elements:{reference:t,floating:e}});f=v??f,p=I??p,_={..._,[x]:{..._[x],...N}},O&&A<=50&&(A++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:f,y:p}=F_(u,m,c)),T=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:_}};async function Pa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:_=0}=or(e,t),A=BS(_),x=a[m?p==="floating"?"reference":"floating":p],w=cu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),v=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),N=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},O=cu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:I,strategy:c}):v);return{top:(w.top-O.top+A.top)/N.y,bottom:(O.bottom-w.bottom+A.bottom)/N.y,left:(w.left-O.left+A.left)/N.x,right:(O.right-w.right+A.right)/N.x}}const ZL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=or(t,e)||{};if(u==null)return{};const p=BS(f),m={x:n,y:r},_=Bm(i),A=zm(_),T=await s.getDimensions(u),x=_==="y",w=x?"top":"left",v=x?"bottom":"right",I=x?"clientHeight":"clientWidth",N=o.reference[A]+o.reference[_]-m[_]-o.floating[A],O=m[_]-o.reference[_],$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let S=$?$[I]:0;(!S||!await(s.isElement==null?void 0:s.isElement($)))&&(S=a.floating[I]||o.floating[A]);const y=N/2-O/2,C=S/2-T[A]/2-1,k=Sn(p[w],C),b=Sn(p[v],C),P=k,R=S-T[A]-b,q=S/2-T[A]/2+y,X=jh(P,q,R),se=!c.arrow&&rs(i)!=null&&q!==X&&o.reference[A]/2-(q<P?k:b)-T[A]/2<0,J=se?q<P?q-P:q-R:0;return{[_]:m[_]+J,data:{[_]:X,centerOffset:q-X-J,...se&&{alignmentOffset:J}},reset:se}}}),e4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:T=!0,...x}=or(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=sr(i),v=sr(a)===a,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(v||!T?[lu(a)]:GL(a));!m&&A!=="none"&&N.push(...YL(a,T,A,I));const O=[a,...N],$=await Pa(e,x),S=[];let y=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&S.push($[w]),p){const P=KL(i,s,I);S.push($[P[0]],$[P[1]])}if(y=[...y,{placement:i,overflows:S}],!S.every(P=>P<=0)){var C,k;const P=(((C=o.flip)==null?void 0:C.index)||0)+1,R=O[P];if(R)return{data:{index:P,overflows:y},reset:{placement:R}};let q=(k=y.filter(X=>X.overflows[0]<=0).sort((X,se)=>X.overflows[1]-se.overflows[1])[0])==null?void 0:k.placement;if(!q)switch(_){case"bestFit":{var b;const X=(b=y.map(se=>[se.placement,se.overflows.filter(J=>J>0).reduce((J,j)=>J+j,0)]).sort((se,J)=>se[1]-J[1])[0])==null?void 0:b[0];X&&(q=X);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function U_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j_(t){return HL.some(e=>t[e]>=0)}const t4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=or(t,e);switch(r){case"referenceHidden":{const o=await Pa(e,{...i,elementContext:"reference"}),s=U_(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:j_(s)}}}case"escaped":{const o=await Pa(e,{...i,altBoundary:!0}),s=U_(o,n.floating);return{data:{escapedOffsets:s,escaped:j_(s)}}}default:return{}}}}};async function n4(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=sr(n),a=rs(n),c=is(n)==="y",u=["left","top"].includes(s)?-1:1,f=o&&c?-1:1,p=or(e,t);let{mainAxis:m,crossAxis:_,alignmentAxis:A}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return a&&typeof A=="number"&&(_=a==="end"?A*-1:A),c?{x:_*f,y:m*u}:{x:m*u,y:_*f}}const r4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await n4(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},i4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:w,y:v}=x;return{x:w,y:v}}},...c}=or(t,e),u={x:n,y:r},f=await Pa(e,c),p=is(sr(i)),m=jm(p);let _=u[m],A=u[p];if(o){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=_+f[x],I=_-f[w];_=jh(v,_,I)}if(s){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=A+f[x],I=A-f[w];A=jh(v,A,I)}const T=a.fn({...e,[m]:_,[p]:A});return{...T,data:{x:T.x-n,y:T.y-r}}}}},o4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=or(t,e),f={x:n,y:r},p=is(i),m=jm(p);let _=f[m],A=f[p];const T=or(a,e),x=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const I=m==="y"?"height":"width",N=o.reference[m]-o.floating[I]+x.mainAxis,O=o.reference[m]+o.reference[I]-x.mainAxis;_<N?_=N:_>O&&(_=O)}if(u){var w,v;const I=m==="y"?"width":"height",N=["top","left"].includes(sr(i)),O=o.reference[p]-o.floating[I]+(N&&((w=s.offset)==null?void 0:w[p])||0)+(N?0:x.crossAxis),$=o.reference[p]+o.reference[I]+(N?0:((v=s.offset)==null?void 0:v[p])||0)-(N?x.crossAxis:0);A<O?A=O:A>$&&(A=$)}return{[m]:_,[p]:A}}}},s4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:o}=e,{apply:s=()=>{},...a}=or(t,e),c=await Pa(e,a),u=sr(n),f=rs(n),p=is(n)==="y",{width:m,height:_}=r.floating;let A,T;u==="top"||u==="bottom"?(A=u,T=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(T=u,A=f==="end"?"top":"bottom");const x=_-c.top-c.bottom,w=m-c.left-c.right,v=Sn(_-c[A],x),I=Sn(m-c[T],w),N=!e.middlewareData.shift;let O=v,$=I;if(p?$=f||N?Sn(I,w):w:O=f||N?Sn(v,x):x,N&&!f){const y=jt(c.left,0),C=jt(c.right,0),k=jt(c.top,0),b=jt(c.bottom,0);p?$=m-2*(y!==0||C!==0?y+C:jt(c.left,c.right)):O=_-2*(k!==0||b!==0?k+b:jt(c.top,c.bottom))}await s({...e,availableWidth:$,availableHeight:O});const S=await i.getDimensions(o.floating);return m!==S.width||_!==S.height?{reset:{rects:!0}}:{}}}};function os(t){return HS(t)?(t.nodeName||"").toLowerCase():"#document"}function Kt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cr(t){var e;return(e=(HS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HS(t){return t instanceof Node||t instanceof Kt(t).Node}function $n(t){return t instanceof Element||t instanceof Kt(t).Element}function Mn(t){return t instanceof HTMLElement||t instanceof Kt(t).HTMLElement}function z_(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kt(t).ShadowRoot}function Ya(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function a4(t){return["table","td","th"].includes(os(t))}function Hm(t){const e=Wm(),n=mn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function l4(t){let e=Qr(t);for(;Mn(e)&&!Wo(e);){if(Hm(e))return e;e=Qr(e)}return null}function Wm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wo(t){return["html","body","#document"].includes(os(t))}function mn(t){return Kt(t).getComputedStyle(t)}function Ju(t){return $n(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qr(t){if(os(t)==="html")return t;const e=t.assignedSlot||t.parentNode||z_(t)&&t.host||cr(t);return z_(e)?e.host:e}function WS(t){const e=Qr(t);return Wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mn(e)&&Ya(e)?e:WS(e)}function ka(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=WS(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Kt(i);return o?e.concat(s,s.visualViewport||[],Ya(i)?i:[],s.frameElement&&n?ka(s.frameElement):[]):e.concat(i,ka(i,[],n))}function qS(t){const e=mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Mn(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=au(n)!==o||au(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function qm(t){return $n(t)?t:t.contextElement}function Ro(t){const e=qm(t);if(!Mn(e))return Gr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=qS(e);let s=(o?au(n.width):n.width)/r,a=(o?au(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const c4=Gr(0);function KS(t){const e=Kt(t);return!Wm()||!e.visualViewport?c4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function u4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kt(t)?!1:e}function Oi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=qm(t);let s=Gr(1);e&&(r?$n(r)&&(s=Ro(r)):s=Ro(t));const a=u4(o,n,r)?KS(o):Gr(0);let c=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,p=i.height/s.y;if(o){const m=Kt(o),_=r&&$n(r)?Kt(r):r;let A=m,T=A.frameElement;for(;T&&r&&_!==A;){const x=Ro(T),w=T.getBoundingClientRect(),v=mn(T),I=w.left+(T.clientLeft+parseFloat(v.paddingLeft))*x.x,N=w.top+(T.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,f*=x.x,p*=x.y,c+=I,u+=N,A=Kt(T),T=A.frameElement}}return cu({width:f,height:p,x:c,y:u})}const d4=[":popover-open",":modal"];function Km(t){return d4.some(e=>{try{return t.matches(e)}catch{return!1}})}function f4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=cr(r),a=e?Km(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Gr(1);const f=Gr(0),p=Mn(r);if((p||!p&&!o)&&((os(r)!=="body"||Ya(s))&&(c=Ju(r)),Mn(r))){const m=Oi(r);u=Ro(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}}function h4(t){return Array.from(t.getClientRects())}function GS(t){return Oi(cr(t)).left+Ju(t).scrollLeft}function p4(t){const e=cr(t),n=Ju(t),r=t.ownerDocument.body,i=jt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=jt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+GS(t);const a=-n.scrollTop;return mn(r).direction==="rtl"&&(s+=jt(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function m4(t,e){const n=Kt(t),r=cr(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const u=Wm();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function g4(t,e){const n=Oi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Mn(t)?Ro(t):Gr(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:s,height:a,x:c,y:u}}function B_(t,e,n){let r;if(e==="viewport")r=m4(t,n);else if(e==="document")r=p4(cr(t));else if($n(e))r=g4(e,n);else{const i=KS(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return cu(r)}function QS(t,e){const n=Qr(t);return n===e||!$n(n)||Wo(n)?!1:mn(n).position==="fixed"||QS(n,e)}function v4(t,e){const n=e.get(t);if(n)return n;let r=ka(t,[],!1).filter(a=>$n(a)&&os(a)!=="body"),i=null;const o=mn(t).position==="fixed";let s=o?Qr(t):t;for(;$n(s)&&!Wo(s);){const a=mn(s),c=Hm(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ya(s)&&!c&&QS(t,s))?r=r.filter(f=>f!==s):i=a,s=Qr(s)}return e.set(t,r),r}function y4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Km(e)?[]:v4(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,f)=>{const p=B_(e,f,i);return u.top=jt(p.top,u.top),u.right=Sn(p.right,u.right),u.bottom=Sn(p.bottom,u.bottom),u.left=jt(p.left,u.left),u},B_(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _4(t){const{width:e,height:n}=qS(t);return{width:e,height:n}}function w4(t,e,n){const r=Mn(e),i=cr(e),o=n==="fixed",s=Oi(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=Gr(0);if(r||!r&&!o)if((os(e)!=="body"||Ya(i))&&(a=Ju(e)),r){const p=Oi(e,!0,o,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&(c.x=GS(i));const u=s.left+a.scrollLeft-c.x,f=s.top+a.scrollTop-c.y;return{x:u,y:f,width:s.width,height:s.height}}function gf(t){return mn(t).position==="static"}function H_(t,e){return!Mn(t)||mn(t).position==="fixed"?null:e?e(t):t.offsetParent}function YS(t,e){const n=Kt(t);if(Km(t))return n;if(!Mn(t)){let i=Qr(t);for(;i&&!Wo(i);){if($n(i)&&!gf(i))return i;i=Qr(i)}return n}let r=H_(t,e);for(;r&&a4(r)&&gf(r);)r=H_(r,e);return r&&Wo(r)&&gf(r)&&!Hm(r)?n:r||l4(t)||n}const E4=async function(t){const e=this.getOffsetParent||YS,n=this.getDimensions,r=await n(t.floating);return{reference:w4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function T4(t){return mn(t).direction==="rtl"}const I4={convertOffsetParentRelativeRectToViewportRelativeRect:f4,getDocumentElement:cr,getClippingRect:y4,getOffsetParent:YS,getElementRects:E4,getClientRects:h4,getDimensions:_4,getScale:Ro,isElement:$n,isRTL:T4};function S4(t,e){let n=null,r;const i=cr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:p,height:m}=t.getBoundingClientRect();if(a||e(),!p||!m)return;const _=Bl(f),A=Bl(i.clientWidth-(u+p)),T=Bl(i.clientHeight-(f+m)),x=Bl(u),v={rootMargin:-_+"px "+-A+"px "+-T+"px "+-x+"px",threshold:jt(0,Sn(1,c))||1};let I=!0;function N(O){const $=O[0].intersectionRatio;if($!==c){if(!I)return s();$?s(!1,$):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(N,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,v)}n.observe(t)}return s(!0),o}function A4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qm(t),f=i||o?[...u?ka(u):[],...ka(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const p=u&&a?S4(u,n):null;let m=-1,_=null;s&&(_=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&_&&(_.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var I;(I=_)==null||I.observe(e)})),n()}),u&&!c&&_.observe(u),_.observe(e));let A,T=c?Oi(t):null;c&&x();function x(){const w=Oi(t);T&&(w.x!==T.x||w.y!==T.y||w.width!==T.width||w.height!==T.height)&&n(),T=w,A=requestAnimationFrame(x)}return n(),()=>{var w;f.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),p==null||p(),(w=_)==null||w.disconnect(),_=null,c&&cancelAnimationFrame(A)}}const C4=r4,R4=i4,P4=e4,k4=s4,x4=t4,W_=ZL,b4=o4,N4=(t,e,n)=>{const r=new Map,i={platform:I4,...n},o={...i.platform,_c:r};return JL(t,e,{...i,platform:o})},D4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?W_({element:r.current,padding:i}).fn(n):{}:r?W_({element:r,padding:i}).fn(n):{}}}};var yc=typeof document<"u"?g.useLayoutEffect:g.useEffect;function uu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!uu(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function XS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function q_(t,e){const n=XS(t);return Math.round(e*n)/n}function K_(t){const e=g.useRef(t);return yc(()=>{e.current=t}),e}function O4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,_]=g.useState(r);uu(m,r)||_(r);const[A,T]=g.useState(null),[x,w]=g.useState(null),v=g.useCallback(J=>{J!==$.current&&($.current=J,T(J))},[]),I=g.useCallback(J=>{J!==S.current&&(S.current=J,w(J))},[]),N=o||A,O=s||x,$=g.useRef(null),S=g.useRef(null),y=g.useRef(f),C=c!=null,k=K_(c),b=K_(i),P=g.useCallback(()=>{if(!$.current||!S.current)return;const J={placement:e,strategy:n,middleware:m};b.current&&(J.platform=b.current),N4($.current,S.current,J).then(j=>{const B={...j,isPositioned:!0};R.current&&!uu(y.current,B)&&(y.current=B,Li.flushSync(()=>{p(B)}))})},[m,e,n,b]);yc(()=>{u===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,p(J=>({...J,isPositioned:!1})))},[u]);const R=g.useRef(!1);yc(()=>(R.current=!0,()=>{R.current=!1}),[]),yc(()=>{if(N&&($.current=N),O&&(S.current=O),N&&O){if(k.current)return k.current(N,O,P);P()}},[N,O,P,k,C]);const q=g.useMemo(()=>({reference:$,floating:S,setReference:v,setFloating:I}),[v,I]),X=g.useMemo(()=>({reference:N,floating:O}),[N,O]),se=g.useMemo(()=>{const J={position:n,left:0,top:0};if(!X.floating)return J;const j=q_(X.floating,f.x),B=q_(X.floating,f.y);return a?{...J,transform:"translate("+j+"px, "+B+"px)",...XS(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:B}},[n,a,X.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:P,refs:q,elements:X,floatingStyles:se}),[f,P,q,X,se])}function $4(t){const[e,n]=g.useState(void 0);return Lt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const JS="Popper",[ZS,e1]=Qa(JS),[M4,t1]=ZS(JS),L4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return g.createElement(M4,{scope:e,anchor:r,onAnchorChange:i},n)},V4="PopperAnchor",F4=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=t1(V4,n),s=g.useRef(null),a=Ue(e,s);return g.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:g.createElement($e.div,Y({},i,{ref:a}))}),n1="PopperContent",[U4,GV]=ZS(n1),j4=g.forwardRef((t,e)=>{var n,r,i,o,s,a,c,u;const{__scopePopper:f,side:p="bottom",sideOffset:m=0,align:_="center",alignOffset:A=0,arrowPadding:T=0,avoidCollisions:x=!0,collisionBoundary:w=[],collisionPadding:v=0,sticky:I="partial",hideWhenDetached:N=!1,updatePositionStrategy:O="optimized",onPlaced:$,...S}=t,y=t1(n1,f),[C,k]=g.useState(null),b=Ue(e,Vt=>k(Vt)),[P,R]=g.useState(null),q=$4(P),X=(n=q==null?void 0:q.width)!==null&&n!==void 0?n:0,se=(r=q==null?void 0:q.height)!==null&&r!==void 0?r:0,J=p+(_!=="center"?"-"+_:""),j=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},B=Array.isArray(w)?w:[w],Z=B.length>0,oe={padding:j,boundary:B.filter(z4),altBoundary:Z},{refs:ae,floatingStyles:_e,placement:Xe,isPositioned:qe,middlewareData:Me}=O4({strategy:"fixed",placement:J,whileElementsMounted:(...Vt)=>A4(...Vt,{animationFrame:O==="always"}),elements:{reference:y.anchor},middleware:[C4({mainAxis:m+se,alignmentAxis:A}),x&&R4({mainAxis:!0,crossAxis:!1,limiter:I==="partial"?b4():void 0,...oe}),x&&P4({...oe}),k4({...oe,apply:({elements:Vt,rects:Ln,availableWidth:ur,availableHeight:nd})=>{const{width:Xa,height:Ja}=Ln.reference,dr=Vt.floating.style;dr.setProperty("--radix-popper-available-width",`${ur}px`),dr.setProperty("--radix-popper-available-height",`${nd}px`),dr.setProperty("--radix-popper-anchor-width",`${Xa}px`),dr.setProperty("--radix-popper-anchor-height",`${Ja}px`)}}),P&&D4({element:P,padding:T}),B4({arrowWidth:X,arrowHeight:se}),N&&x4({strategy:"referenceHidden",...oe})]}),[K,we]=r1(Xe),ze=ir($);Lt(()=>{qe&&(ze==null||ze())},[qe,ze]);const ve=(i=Me.arrow)===null||i===void 0?void 0:i.x,fe=(o=Me.arrow)===null||o===void 0?void 0:o.y,pe=((s=Me.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[nt,rt]=g.useState();return Lt(()=>{C&&rt(window.getComputedStyle(C).zIndex)},[C]),g.createElement("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:qe?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(a=Me.transformOrigin)===null||a===void 0?void 0:a.x,(c=Me.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:t.dir},g.createElement(U4,{scope:f,placedSide:K,onArrowChange:R,arrowX:ve,arrowY:fe,shouldHideArrow:pe},g.createElement($e.div,Y({"data-side":K,"data-align":we},S,{ref:b,style:{...S.style,animation:qe?void 0:"none",opacity:(u=Me.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function z4(t){return t!==null}const B4=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:c,middlewareData:u}=e,p=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,m=p?0:t.arrowWidth,_=p?0:t.arrowHeight,[A,T]=r1(a),x={start:"0%",center:"50%",end:"100%"}[T],w=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+m/2,v=((o=(s=u.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+_/2;let I="",N="";return A==="bottom"?(I=p?x:`${w}px`,N=`${-_}px`):A==="top"?(I=p?x:`${w}px`,N=`${c.floating.height+_}px`):A==="right"?(I=`${-_}px`,N=p?x:`${v}px`):A==="left"&&(I=`${c.floating.width+_}px`,N=p?x:`${v}px`),{data:{x:I,y:N}}}});function r1(t){const[e,n="center"]=t.split("-");return[e,n]}const H4=L4,W4=F4,q4=j4;function K4(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const G4=g.forwardRef((t,e)=>g.createElement($e.span,Y({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),Q4=[" ","Enter","ArrowUp","ArrowDown"],Y4=[" ","Enter"],Zu="Select",[ed,td,X4]=jL(Zu),[ss,QV]=Qa(Zu,[X4,e1]),Gm=e1(),[J4,Bi]=ss(Zu),[Z4,eV]=ss(Zu),tV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:m,required:_}=t,A=Gm(e),[T,x]=g.useState(null),[w,v]=g.useState(null),[I,N]=g.useState(!1),O=BL(u),[$=!1,S]=Mh({prop:r,defaultProp:i,onChange:o}),[y,C]=Mh({prop:s,defaultProp:a,onChange:c}),k=g.useRef(null),b=T?!!T.closest("form"):!0,[P,R]=g.useState(new Set),q=Array.from(P).map(X=>X.props.value).join(";");return g.createElement(H4,A,g.createElement(J4,{required:_,scope:e,trigger:T,onTriggerChange:x,valueNode:w,onValueNodeChange:v,valueNodeHasChildren:I,onValueNodeHasChildrenChange:N,contentId:na(),value:y,onValueChange:C,open:$,onOpenChange:S,dir:O,triggerPointerDownPosRef:k,disabled:m},g.createElement(ed.Provider,{scope:e},g.createElement(Z4,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(X=>{R(se=>new Set(se).add(X))},[]),onNativeOptionRemove:g.useCallback(X=>{R(se=>{const J=new Set(se);return J.delete(X),J})},[])},n)),b?g.createElement(l1,{key:q,"aria-hidden":!0,required:_,tabIndex:-1,name:f,autoComplete:p,value:y,onChange:X=>C(X.target.value),disabled:m},y===void 0?g.createElement("option",{value:""}):null,Array.from(P)):null))},nV="SelectTrigger",rV=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Gm(n),s=Bi(nV,n),a=s.disabled||r,c=Ue(e,s.onTriggerChange),u=td(n),[f,p,m]=c1(A=>{const T=u().filter(v=>!v.disabled),x=T.find(v=>v.value===s.value),w=u1(T,A,x);w!==void 0&&s.onValueChange(w.value)}),_=()=>{a||(s.onOpenChange(!0),m())};return g.createElement(W4,Y({asChild:!0},o),g.createElement($e.button,Y({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":a1(s.value)?"":void 0},i,{ref:c,onClick:xe(i.onClick,A=>{A.currentTarget.focus()}),onPointerDown:xe(i.onPointerDown,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&(_(),s.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)},A.preventDefault())}),onKeyDown:xe(i.onKeyDown,A=>{const T=f.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&p(A.key),!(T&&A.key===" ")&&Q4.includes(A.key)&&(_(),A.preventDefault())})})))}),iV="SelectValue",oV=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,c=Bi(iV,n),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,p=Ue(e,c.onValueNodeChange);return Lt(()=>{u(f)},[u,f]),g.createElement($e.span,Y({},a,{ref:p,style:{pointerEvents:"none"}}),a1(c.value)?g.createElement(g.Fragment,null,s):o)}),sV=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.createElement($e.span,Y({"aria-hidden":!0},i,{ref:e}),r||"")}),aV=t=>g.createElement(hS,Y({asChild:!0},t)),qo="SelectContent",lV=g.forwardRef((t,e)=>{const n=Bi(qo,t.__scopeSelect),[r,i]=g.useState();if(Lt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Li.createPortal(g.createElement(i1,{scope:t.__scopeSelect},g.createElement(ed.Slot,{scope:t.__scopeSelect},g.createElement("div",null,t.children))),o):null}return g.createElement(cV,Y({},t,{ref:e}))}),zn=10,[i1,Hi]=ss(qo),cV=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:_,sticky:A,hideWhenDetached:T,avoidCollisions:x,...w}=t,v=Bi(qo,n),[I,N]=g.useState(null),[O,$]=g.useState(null),S=Ue(e,K=>N(K)),[y,C]=g.useState(null),[k,b]=g.useState(null),P=td(n),[R,q]=g.useState(!1),X=g.useRef(!1);g.useEffect(()=>{if(I)return SS(I)},[I]),pS();const se=g.useCallback(K=>{const[we,...ze]=P().map(pe=>pe.ref.current),[ve]=ze.slice(-1),fe=document.activeElement;for(const pe of K)if(pe===fe||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===we&&O&&(O.scrollTop=0),pe===ve&&O&&(O.scrollTop=O.scrollHeight),pe==null||pe.focus(),document.activeElement!==fe))return},[P,O]),J=g.useCallback(()=>se([y,I]),[se,y,I]);g.useEffect(()=>{R&&J()},[R,J]);const{onOpenChange:j,triggerPointerDownPosRef:B}=v;g.useEffect(()=>{if(I){let K={x:0,y:0};const we=ve=>{var fe,pe,nt,rt;K={x:Math.abs(Math.round(ve.pageX)-((fe=(pe=B.current)===null||pe===void 0?void 0:pe.x)!==null&&fe!==void 0?fe:0)),y:Math.abs(Math.round(ve.pageY)-((nt=(rt=B.current)===null||rt===void 0?void 0:rt.y)!==null&&nt!==void 0?nt:0))}},ze=ve=>{K.x<=10&&K.y<=10?ve.preventDefault():I.contains(ve.target)||j(!1),document.removeEventListener("pointermove",we),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",ze,{capture:!0})}}},[I,j,B]),g.useEffect(()=>{const K=()=>j(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[j]);const[Z,oe]=c1(K=>{const we=P().filter(fe=>!fe.disabled),ze=we.find(fe=>fe.ref.current===document.activeElement),ve=u1(we,K,ze);ve&&setTimeout(()=>ve.ref.current.focus())}),ae=g.useCallback((K,we,ze)=>{const ve=!X.current&&!ze;(v.value!==void 0&&v.value===we||ve)&&(C(K),ve&&(X.current=!0))},[v.value]),_e=g.useCallback(()=>I==null?void 0:I.focus(),[I]),Xe=g.useCallback((K,we,ze)=>{const ve=!X.current&&!ze;(v.value!==void 0&&v.value===we||ve)&&b(K)},[v.value]),qe=r==="popper"?G_:uV,Me=qe===G_?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:_,sticky:A,hideWhenDetached:T,avoidCollisions:x}:{};return g.createElement(i1,{scope:n,content:I,viewport:O,onViewportChange:$,itemRefCallback:ae,selectedItem:y,onItemLeave:_e,itemTextRefCallback:Xe,focusSelectedItem:J,selectedItemText:k,position:r,isPositioned:R,searchRef:Z},g.createElement(TS,{as:Ii,allowPinchZoom:!0},g.createElement(dS,{asChild:!0,trapped:v.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:xe(i,K=>{var we;(we=v.trigger)===null||we===void 0||we.focus({preventScroll:!0}),K.preventDefault()})},g.createElement(cS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},g.createElement(qe,Y({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:K=>K.preventDefault()},w,Me,{onPlaced:()=>q(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:xe(w.onKeyDown,K=>{const we=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!we&&K.key.length===1&&oe(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ve=P().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const fe=K.target,pe=ve.indexOf(fe);ve=ve.slice(pe+1)}setTimeout(()=>se(ve)),K.preventDefault()}})}))))))}),uV=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Bi(qo,n),s=Hi(qo,n),[a,c]=g.useState(null),[u,f]=g.useState(null),p=Ue(e,S=>f(S)),m=td(n),_=g.useRef(!1),A=g.useRef(!0),{viewport:T,selectedItem:x,selectedItemText:w,focusSelectedItem:v}=s,I=g.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&T&&x&&w){const S=o.trigger.getBoundingClientRect(),y=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(o.dir!=="rtl"){const fe=k.left-y.left,pe=C.left-fe,nt=S.left-pe,rt=S.width+nt,Vt=Math.max(rt,y.width),Ln=window.innerWidth-zn,ur=V_(pe,[zn,Ln-Vt]);a.style.minWidth=rt+"px",a.style.left=ur+"px"}else{const fe=y.right-k.right,pe=window.innerWidth-C.right-fe,nt=window.innerWidth-S.right-pe,rt=S.width+nt,Vt=Math.max(rt,y.width),Ln=window.innerWidth-zn,ur=V_(pe,[zn,Ln-Vt]);a.style.minWidth=rt+"px",a.style.right=ur+"px"}const b=m(),P=window.innerHeight-zn*2,R=T.scrollHeight,q=window.getComputedStyle(u),X=parseInt(q.borderTopWidth,10),se=parseInt(q.paddingTop,10),J=parseInt(q.borderBottomWidth,10),j=parseInt(q.paddingBottom,10),B=X+se+R+j+J,Z=Math.min(x.offsetHeight*5,B),oe=window.getComputedStyle(T),ae=parseInt(oe.paddingTop,10),_e=parseInt(oe.paddingBottom,10),Xe=S.top+S.height/2-zn,qe=P-Xe,Me=x.offsetHeight/2,K=x.offsetTop+Me,we=X+se+K,ze=B-we;if(we<=Xe){const fe=x===b[b.length-1].ref.current;a.style.bottom="0px";const pe=u.clientHeight-T.offsetTop-T.offsetHeight,nt=Math.max(qe,Me+(fe?_e:0)+pe+J),rt=we+nt;a.style.height=rt+"px"}else{const fe=x===b[0].ref.current;a.style.top="0px";const nt=Math.max(Xe,X+T.offsetTop+(fe?ae:0)+Me)+ze;a.style.height=nt+"px",T.scrollTop=we-Xe+T.offsetTop}a.style.margin=`${zn}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[m,o.trigger,o.valueNode,a,u,T,x,w,o.dir,r]);Lt(()=>I(),[I]);const[N,O]=g.useState();Lt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const $=g.useCallback(S=>{S&&A.current===!0&&(I(),v==null||v(),A.current=!1)},[I,v]);return g.createElement(dV,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:_,onScrollButtonChange:$},g.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N}},g.createElement($e.div,Y({},i,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),G_=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zn,...o}=t,s=Gm(n);return g.createElement(q4,Y({},s,o,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[dV,Qm]=ss(qo,{}),Q_="SelectViewport",fV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Hi(Q_,n),o=Qm(Q_,n),s=Ue(e,i.onViewportChange),a=g.useRef(0);return g.createElement(g.Fragment,null,g.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),g.createElement(ed.Slot,{scope:n},g.createElement($e.div,Y({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:xe(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(a.current-u.scrollTop);if(m>0){const _=window.innerHeight-zn*2,A=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),x=Math.max(A,T);if(x<_){const w=x+m,v=Math.min(_,w),I=w-v;f.style.height=v+"px",f.style.bottom==="0px"&&(u.scrollTop=I>0?I:0,f.style.justifyContent="flex-end")}}}a.current=u.scrollTop})}))))}),hV="SelectGroup",[YV,pV]=ss(hV),mV="SelectLabel",gV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pV(mV,n);return g.createElement($e.div,Y({id:i.id},r,{ref:e}))}),Bh="SelectItem",[vV,o1]=ss(Bh),yV=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Bi(Bh,n),c=Hi(Bh,n),u=a.value===r,[f,p]=g.useState(o??""),[m,_]=g.useState(!1),A=Ue(e,w=>{var v;return(v=c.itemRefCallback)===null||v===void 0?void 0:v.call(c,w,r,i)}),T=na(),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.createElement(vV,{scope:n,value:r,disabled:i,textId:T,isSelected:u,onItemTextChange:g.useCallback(w=>{p(v=>{var I;return v||((I=w==null?void 0:w.textContent)!==null&&I!==void 0?I:"").trim()})},[])},g.createElement(ed.ItemSlot,{scope:n,value:r,disabled:i,textValue:f},g.createElement($e.div,Y({role:"option","aria-labelledby":T,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:A,onFocus:xe(s.onFocus,()=>_(!0)),onBlur:xe(s.onBlur,()=>_(!1)),onPointerUp:xe(s.onPointerUp,x),onPointerMove:xe(s.onPointerMove,w=>{if(i){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}else w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(s.onPointerLeave,w=>{if(w.currentTarget===document.activeElement){var v;(v=c.onItemLeave)===null||v===void 0||v.call(c)}}),onKeyDown:xe(s.onKeyDown,w=>{var v;((v=c.searchRef)===null||v===void 0?void 0:v.current)!==""&&w.key===" "||(Y4.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})}))))}),Hl="SelectItemText",_V=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Bi(Hl,n),a=Hi(Hl,n),c=o1(Hl,n),u=eV(Hl,n),[f,p]=g.useState(null),m=Ue(e,w=>p(w),c.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)===null||v===void 0?void 0:v.call(a,w,c.value,c.disabled)}),_=f==null?void 0:f.textContent,A=g.useMemo(()=>g.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},_),[c.disabled,c.value,_]),{onNativeOptionAdd:T,onNativeOptionRemove:x}=u;return Lt(()=>(T(A),()=>x(A)),[T,x,A]),g.createElement(g.Fragment,null,g.createElement($e.span,Y({id:c.textId},o,{ref:m})),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Li.createPortal(o.children,s.valueNode):null)}),wV="SelectItemIndicator",EV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o1(wV,n).isSelected?g.createElement($e.span,Y({"aria-hidden":!0},r,{ref:e})):null}),Y_="SelectScrollUpButton",TV=g.forwardRef((t,e)=>{const n=Hi(Y_,t.__scopeSelect),r=Qm(Y_,t.__scopeSelect),[i,o]=g.useState(!1),s=Ue(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=c.scrollTop>0;o(f)};var a=u;const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?g.createElement(s1,Y({},t,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}})):null}),X_="SelectScrollDownButton",IV=g.forwardRef((t,e)=>{const n=Hi(X_,t.__scopeSelect),r=Qm(X_,t.__scopeSelect),[i,o]=g.useState(!1),s=Ue(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<f;o(p)};var a=u;const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?g.createElement(s1,Y({},t,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}})):null}),s1=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Hi("SelectScrollButton",n),s=g.useRef(null),a=td(n),c=g.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Lt(()=>{var u;const f=a().find(p=>p.ref.current===document.activeElement);f==null||(u=f.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[a]),g.createElement($e.div,Y({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:xe(i.onPointerMove,()=>{var u;(u=o.onItemLeave)===null||u===void 0||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{c()})}))}),SV=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.createElement($e.div,Y({"aria-hidden":!0},r,{ref:e}))});function a1(t){return t===""||t===void 0}const l1=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=g.useRef(null),o=Ue(e,i),s=K4(n);return g.useEffect(()=>{const a=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&f){const p=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(p)}},[s,n]),g.createElement(G4,{asChild:!0},g.createElement("select",Y({},r,{ref:o,defaultValue:n})))});l1.displayName="BubbleSelect";function c1(t){const e=ir(t),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(s=>{const a=n.current+s;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function u1(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=AV(t,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function AV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const CV=tV,d1=rV,RV=oV,PV=sV,kV=aV,f1=lV,xV=fV,h1=gV,p1=yV,bV=_V,NV=EV,m1=TV,g1=IV,v1=SV,DV=CV,OV=RV,y1=g.forwardRef(({className:t,children:e,...n},r)=>L.jsxs(d1,{ref:r,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,L.jsx(PV,{asChild:!0,children:L.jsx(hE,{className:"h-4 w-4 opacity-50"})})]}));y1.displayName=d1.displayName;const _1=g.forwardRef(({className:t,...e},n)=>L.jsx(m1,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:L.jsx(NR,{className:"h-4 w-4"})}));_1.displayName=m1.displayName;const w1=g.forwardRef(({className:t,...e},n)=>L.jsx(g1,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:L.jsx(hE,{className:"h-4 w-4"})}));w1.displayName=g1.displayName;const E1=g.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>L.jsx(kV,{children:L.jsxs(f1,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[L.jsx(_1,{}),L.jsx(xV,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),L.jsx(w1,{})]})}));E1.displayName=f1.displayName;const $V=g.forwardRef(({className:t,...e},n)=>L.jsx(h1,{ref:n,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$V.displayName=h1.displayName;const _c=g.forwardRef(({className:t,children:e,...n},r)=>L.jsxs(p1,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[L.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:L.jsx(NV,{children:L.jsx(bR,{className:"h-4 w-4"})})}),L.jsx(bV,{children:e})]}));_c.displayName=p1.displayName;const MV=g.forwardRef(({className:t,...e},n)=>L.jsx(v1,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));MV.displayName=v1.displayName;const Hh="horizontal",LV=["horizontal","vertical"],T1=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=Hh,...i}=t,o=I1(r)?r:Hh,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.createElement($e.div,Y({"data-orientation":o},a,i,{ref:e}))});T1.propTypes={orientation(t,e,n){const r=t[e],i=String(r);return r&&!I1(r)?new Error(VV(i,n)):null}};function VV(t,e){return`Invalid prop \`orientation\` of value \`${t}\` supplied to \`${e}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${Hh}\`.`}function I1(t){return LV.includes(t)}const S1=T1,A1=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>L.jsx(S1,{ref:i,decorative:n,orientation:e,className:Pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));A1.displayName=S1.displayName;const FV="bd1fed5a225141d79b77e73912aa6a2b",UV="b0c21091f4d04687b6c8162f9318dd17",jV="6123df5198924897a547b613905f945a";function zV(){const[t,e]=g.useState([]),[n,r]=g.useState([]),[i,o]=g.useState(""),[s,a]=g.useState(0),[c,u]=g.useState(1e3),[f,p]=g.useState(!1),[m,_]=g.useState(""),[A,T]=g.useState(!1),[x,w]=g.useState(null),v=g.useRef([]),{currentUser:I,logout:N}=Qu();g.useEffect(()=>{(async()=>{T(!0),w(null),p(!1);let R=FV;try{let q=await fetch(`https://api.spoonacular.com/recipes/random?apiKey=${R}&number=15`);if(!q.ok&&(q.status===402&&(R=UV,q=await fetch(`https://api.spoonacular.com/recipes/random?apiKey=${R}&number=15`)),!q.ok))throw new Error(`API call failed with status: ${q.status}`);const X=await q.json();e(X.recipes||[]),v.current=(X.recipes||[]).map(()=>kt.createRef())}catch(q){w(q.message)}finally{T(!1)}})()},[]);const O=async()=>{T(!0),w(null);try{const P=await fetch(`https://api.spoonacular.com/recipes/complexSearch?apiKey=${jV}&query=${i}&instructionsRequired=true&addRecipeInformation=true&number=15&type=${m}&minCalories=${parseInt(s)||0}&maxCalories=${parseInt(c)||1e3}`);if(!P.ok)throw new Error(`API call failed with status: ${P.status}`);const R=await P.json();r(R.results||[]),p(!0),v.current=(R.results||[]).map(()=>kt.createRef())}catch(P){w(P.message)}finally{T(!1)}},$=f?n:t,S=$.length>0?$.reduce((P,R)=>P.healthScore>R.healthScore?P:R,$[0]):null,y=$.length>0?$.reduce((P,R)=>P.readyInMinutes<R.readyInMinutes?P:R,$[0]):null,C=S?$.findIndex(P=>P===S):-1,k=y?$.findIndex(P=>P===y):-1,b=P=>{P>=0&&v.current[P]&&v.current[P].current&&v.current[P].current.scrollIntoView({behavior:"smooth",block:"start"})};return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"header flex justify-between items-center",children:[L.jsx("h1",{className:"font-bold text-lg my-5",children:"Meal Planner"}),L.jsx("div",{className:"button-container",children:I?L.jsx(Tn,{variant:"outline",onClick:N,children:"Log Out"}):L.jsxs(L.Fragment,{children:[L.jsx(FL,{}),L.jsx(UL,{})]})})]}),L.jsx("div",{className:"cardContainer",children:A?L.jsx("div",{children:"Loading..."}):x?L.jsxs("div",{children:["Error: ",x]}):L.jsxs(L.Fragment,{children:[L.jsxs(hc,{className:"Card side",children:[L.jsx(pc,{children:L.jsx(mc,{children:"Shortest Prep Time"})}),L.jsx(vc,{children:L.jsx(gc,{children:y?y.title:"N/A"})}),L.jsx(Uh,{children:L.jsx(Tn,{onClick:()=>b(k),children:"View Recipe"})})]}),L.jsxs(hc,{className:"Card total",children:[L.jsx(pc,{children:L.jsx(mc,{children:"Total Displayed Recipes"})}),L.jsx(vc,{children:L.jsx(gc,{children:L.jsx("h2",{className:"text-lg",children:$.length})})})]}),L.jsxs(hc,{className:"Card side",children:[L.jsx(pc,{children:L.jsx(mc,{children:"Healthiest Recipe"})}),L.jsx(vc,{children:L.jsx(gc,{children:S?S.title:"N/A"})}),L.jsx(Uh,{children:L.jsx(Tn,{onClick:()=>b(C),children:"View Recipe"})})]})]})}),L.jsxs("form",{onSubmit:P=>P.preventDefault(),className:"rounded-lg border bg-card text-card-foreground shadow-sm m-2 p-2 search",children:[L.jsx(zr,{type:"text",placeholder:"Search for recipes",className:"card-search",onChange:P=>o(P.target.value)}),L.jsxs("div",{className:"card-filter",children:[L.jsxs(DV,{onValueChange:_,children:[L.jsx(y1,{className:"w-full",children:L.jsx(OV,{placeholder:"Select Type"})}),L.jsxs(E1,{children:[L.jsx(_c,{value:"all",children:"All"}),L.jsx(_c,{value:"food",children:"Food"}),L.jsx(_c,{value:"drink",children:"Drink"})]})]}),L.jsx(zr,{type:"number",placeholder:"Min Calories",className:"card-input",onChange:P=>a(P.target.value)}),L.jsx(zr,{type:"number",placeholder:"Max Calories",className:"card-input",onChange:P=>u(P.target.value)})]}),L.jsx(Tn,{onClick:O,children:"Search"})]}),L.jsx(A1,{}),L.jsx("div",{className:"main",children:L.jsx("div",{className:"results",children:$.map((P,R)=>L.jsx(lS,{ref:v.current[R],recipe:P},P.id))})}),L.jsx("button",{className:"toTop",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"^"})]})}vf.createRoot(document.getElementById("root")).render(L.jsx(kt.StrictMode,{children:L.jsx(H$,{children:L.jsx(zV,{})})}));
